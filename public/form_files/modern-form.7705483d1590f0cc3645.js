(window.webpackJsonp_name_=window.webpackJsonp_name_||[]).push([[0],{121:function(e,t,r){"use strict";r.d(t,"a",(function(){return o})),r.d(t,"b",(function(){return i}));var n=r(9),o=()=>({type:n.s,payload:{}}),i=()=>({type:n.E,payload:{}})},122:function(e,t,r){"use strict";r.d(t,"b",(function(){return o})),r.d(t,"a",(function(){return i}));var n=r(9);function o(e){return{type:n.z,payload:e}}function i(e){return{type:n.y,payload:e}}},123:function(e,t,r){"use strict";r.d(t,"b",(function(){return fe})),r.d(t,"a",(function(){return je}));var n=r(64),o=r.n(n),i=r(5),a=r(2),c=r(13),l=r(18),s=r(54),u=r(300);function d(e){return 0===e.value.length||e.value.every(e=>!e.value)}var p=r(31),b=r(400),h=r.n(b),m=r(394),f=r.n(m),y=r(6),v=r.n(y),g=r(111),O=r(99),j=r.n(O),C=e=>{var[t,r,n]=e.split("-");if(!t||!r||!n)return!1;t=t.padStart(4,"0"),r=r.padStart(2,"0"),n=n.padStart(2,"0");var o=new Date("".concat(t,"-").concat(r,"-").concat(n));return"Invalid Date"!==o&&!isNaN(o)&&(o.getUTCFullYear()===parseInt(t,10)&&o.getUTCMonth()===parseInt(r,10)-1&&o.getUTCDate()===parseInt(n,10))};var w=r(248),k=r.n(w);function E(e){return/(^[a-z0-9_.+-`']+@[a-z0-9-]+(?:\.[a-z0-9-]+)+$)/i.test(e)||k()(e)}var S=r(56),I=r(97),P=r(260),T=r(37),x=e=>new I.g(e,"label.paymentError.".concat(e,"Incomplete")),_=e=>{var t=[],{cardCvc:r,cardExpiry:n,cardNumber:o,cardholdersName:i}=e,a={[T.a.CardCvc]:r,[T.a.CardExpiry]:n,[T.a.CardNumber]:o},c=Object.keys(a);return!e||!i&&c.every(e=>a[e].empty)?[]:(c.forEach(e=>{a[e].error&&t.push(((e,t)=>new I.g(e,P.a[t.code]||t.message,!0))(e,a[e].error))}),i||t.push(x(T.a.CardName)),c.forEach(e=>{a[e].empty&&t.push(x(e))}),t)};function R(){return(R=o()((function*(){try{var{isValidNumber:e}=yield Promise.all([r.e(7),r.e(1)]).then(r.bind(null,506));return t=>t.every(t=>t&&(!t.number||e(t.number,t.countryCode)))}catch(e){return()=>!0}}))).apply(this,arguments)}var A=r(410),D=r.n(A),B=r(306),F=r.n(B),V=r(303),L=r.n(V),N=L()(k.a,F.a),M=j()(N);var H=L()(k.a,F.a),K=j()(H);function z(e){return t=>!e||!K(t.map(e=>e&&e.number))}var U=new RegExp(/^(https?|ftp):\/\/[-a-zA-Z0-9:%._+~#=]{1,256}\.[a-zA-Z0-9()]{1,18}\b/),W=new RegExp(/[\s]/),q=new RegExp(/^app:\/\/.+$/),G=e=>k()(e)||U.test(e)&&!W.test(e)||q.test(e);var Y=r(32),Q=e=>t=>{var{minValue:r,maxValue:n}=t;return t=>!(e=>{var{minValue:t,maxValue:r,values:n}=e;return!Object(Y.a)(n)&&(Object(S.b)(t)||Object(S.b)(r))})({minValue:r,maxValue:n,values:t})||t.every(S.b)&&t.every(e({minValue:r,maxValue:n}))},J=Q(e=>{var{minValue:t,maxValue:r}=e;return e=>e>=t&&e<=r}),Z=Q(e=>{var{minValue:t}=e;return e=>e>=t}),$=Q(e=>{var{maxValue:t}=e;return e=>e<=t});function X(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function ee(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?X(Object(r),!0).forEach((function(t){v()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):X(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var te={[g.a.date]:function(){return j()(C)},[g.a.emailAddress]:function(){return j()(E)},[g.a.maxLength]:function(e){return j()(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Number.POSITIVE_INFINITY;return t=>t.length<=e}(e))},[g.a.maxSelection]:()=>()=>!0,[g.a.maxValue]:$,[g.a.minSelection]:e=>t=>!e||!t.length||t.length>=e,[g.a.minValue]:Z,[g.a.mustAccept]:function(e){return j()((t=e,e=>e===t));var t},[g.a.number]:S.a,[g.a.payment]:function(){return e=>e.flatMap(_)},[g.a.phoneNumber]:function(){return R.apply(this,arguments)},[g.a.range]:J,[g.a.required]:function(e){return t=>{if(!e)return!0;var r=t.map(e=>(e=>D()(String,e))(e)?(e=>e.trim())(e):e);return!M(r)}},[g.a.url]:function(){return j()(G)}};var re=function(){var e=o()((function*(e,t){for(var r=Object.keys(t),n={},o=0,i=r.length;o<i;o++){var a=r[o];n[a]=yield e[a](t[a])}return n}));return function(t,r){return e.apply(this,arguments)}}(),ne=f()(e=>!0!==e);function oe(e){return t=function(e){switch(e){case i.p:return ee(ee({},te),{},{[g.a.required]:z});default:return te}}(e),o()((function*(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=yield re(t,e);return t=>{var n=h()(e=>e(t),r),o=ne(n);return Object.entries(o).flatMap(t=>{var[r,n]=t;return!1===n?[new I.a(r,e)]:Array.isArray(n)?n:[]})}}));var t}var ie=function(){var e=o()((function*(e,t,r){var n=(e=>e.value.map(e=>e.value))(r),o=oe(e);return(yield o(t))(n)}));return function(t,r,n){return e.apply(this,arguments)}}();function ae(e,t){return ce.apply(this,arguments)}function ce(){return(ce=o()((function*(e,t){if(e)return e.validations&&t?ie(e.type,e.validations,t):void 0}))).apply(this,arguments)}function le(e,t){return e.length===t.length&&e.every((e,r)=>e===t[r])}var se=r(87),ue=r(9),de=r(105),pe=r(70),be=function(){var e=o()((function*(e,t){var r=[];for(var n of e.childFields){var o,i;r=r.concat(yield ae(n,{value:(null===(o=t.value[0])||void 0===o||null===(i=o.value[n.ref])||void 0===i?void 0:i.value)||[]}))}return r}));return function(t,r){return e.apply(this,arguments)}}(),he=r(16),me=r(116);function fe(e,t,r){var{isFromPrefilledAnswer:n=!1}=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},p=Object(se.a)(r);return function(){var r=o()((function*(r,o){var b=o(),h=Object(a.b)(b,e),m=Object(a.n)(b,e),f=Object(l.c)(b);if(m&&!Object(a.k)(b)){var y=Object(u.a)(m,t);if(!le(Object(a.h)(h),Object(a.h)(y))){if(!Object(l.l)(b)&&((e,t)=>{var r=Object(c.k)(Object(l.d)(t),e.type);return e.type!==i.o&&!r})(m,b)){var v=Object(s.a)(m);Object(de.h)(f,e,{hash:v,value:t})}if(r({type:ue.G,payload:{answer:y,navigationType:p,isFromPrefilledAnswer:n}}),yield r(ye(m.ref)),Object(l.b)(b)&&r(Object(he.e)(!1)),d(y)){var g=Object(a.j)(o());r(Object(me.b)(g))}}}}));return function(e,t){return r.apply(this,arguments)}}()}function ye(e){return function(){var t=o()((function*(t,r){var n=r(),o=Object(a.n)(n,e);if(Object(p.a)(o)){var i,c=Object(a.b)(n,e);i=Object(pe.a)(o)?yield be(o,c):yield ae(o,{value:c.value}),t({type:ue.U,payload:{blockRef:e,validationErrors:i}})}}));return function(e,r){return t.apply(this,arguments)}}()}function ve(e,t){return{type:ue.d,payload:{ref:e,source:t}}}function ge(e){return{type:ue.f,payload:{ref:e}}}function Oe(e){return{type:ue.e,payload:{ref:e}}}function je(e,t){var{source:r,isFromPrefilledAnswer:n=!1}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=Object(se.a)(t);return function(){var t=o()((function*(t,o){t(ve(e,r)),yield t(ye(e));var c=o(),l=Object(a.n)(c,e),s=Object(p.a)(l),u=Object(a.b)(c,e);if(s&&!Object(a.e)(u))return t(Oe(e));t(ge(e)),t(Object(me.b)(Object(a.j)(c))),t(Object(he.i)(l?Object(a.p)(l):void 0,{navigationType:i,isFromPrefilledAnswer:n}))}));return function(e,r){return t.apply(this,arguments)}}()}},164:function(e,t,r){"use strict";r.d(t,"a",(function(){return o}));var n=r(9);function o(e,t){return{type:n.v,payload:{blockRef:e,show:t}}}},165:function(e,t,r){"use strict";r.d(t,"a",(function(){return o}));var n=r(9);function o(e){return{type:n.w,payload:{isScrollNearTop:!e}}}},231:function(e,t,r){"use strict";r.d(t,"i",(function(){return a})),r.d(t,"d",(function(){return c})),r.d(t,"f",(function(){return l})),r.d(t,"e",(function(){return s})),r.d(t,"k",(function(){return u})),r.d(t,"j",(function(){return d})),r.d(t,"g",(function(){return p})),r.d(t,"a",(function(){return b})),r.d(t,"b",(function(){return h})),r.d(t,"h",(function(){return m})),r.d(t,"c",(function(){return f}));var n=r(12),o=r(287),i=r(18),a=e=>e.tracking,c=e=>{var t=a(e);return(null==t?void 0:t.planName)===o.a},l=e=>a(e).isFormCreator,s=e=>a(e).isFirstConversation,u=Object(n.a)(a,e=>e.visitCurrentCycle),d=e=>a(e).segmentKey,p=e=>a(e).sessionId,b=Object(n.a)(e=>a(e).blockRefTracking,e=>t=>(null==e?void 0:e[t])||{}),h=e=>{var{id:t,settings:{language:r}}=e.form,{legacyAccountId:n,planName:o}=a(e),c=!Object(i.l)(e)&&!l(e);return(e,i)=>{var a=["utm_campaign=".concat(t),"utm_source=typeform.com-".concat(n,"-").concat(o),"utm_medium=typeform","utm_content=".concat(i),"utm_term=".concat(r&&r.toUpperCase())];return c?"".concat(e,"?").concat(a.join("&")):"".concat(e)}},m=e=>{var t=[];return e.form.settings.googleAnalytics&&t.push(o.c),e.form.settings.facebookPixel&&t.push(o.b),e.form.settings.googleTagManager&&t.push(o.d),t},f=e=>e.form.settings.facebookPixel},236:function(e,t,r){"use strict";r.d(t,"a",(function(){return d})),r.d(t,"j",(function(){return p})),r.d(t,"e",(function(){return b})),r.d(t,"c",(function(){return h})),r.d(t,"d",(function(){return m})),r.d(t,"b",(function(){return f})),r.d(t,"f",(function(){return y})),r.d(t,"g",(function(){return v})),r.d(t,"h",(function(){return g})),r.d(t,"i",(function(){return O}));var n=r(70),o=r(6),i=r.n(o),a=r(2);function c(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function l(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?c(Object(r),!0).forEach((function(t){i()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):c(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var s=e=>{var t=[];for(var r of e.block.childFields){var n=e.answer[0][r.ref];Object(a.C)(r.type,n)||t.push({block:l(l({},r),r.properties),answer:n&&Object(a.h)(n)})}return t},u=r(13),d=e=>Object(a.Q)(e).isComplete,p=e=>null!==h(e),b=e=>Object(a.Q)(e).responseId,h=e=>Object(a.Q)(e).landingId,m=e=>Object(a.Q)(e).navigationType,f=e=>Object(a.Q)(e).landingAt,y=e=>Object(a.Q)(e).retry.count,v=e=>Object(a.Q)(e).retry.timeout,g=e=>Object(a.Q)(e).errorMessage,O=e=>({answers:Object(a.r)(e).filter(t=>Object(a.F)(t)||!Object(a.C)(t.type,Object(a.b)(e,Object(a.p)(t)))).filter(t=>Object(u.h)(e,Object(a.p)(t))).map(t=>{var r=Object(a.b)(e,Object(a.p)(t));return{block:t,answer:r&&Object(a.g)(t,r)}}).reduce((e,t)=>(Object(n.a)(t.block)?e=e.concat(s(t)):e.push(t),e),[]),variables:Object(a.t)(e),hidden:Object(a.y)(e),logic:Object(a.H)(e)})},254:function(e,t,r){"use strict";r.d(t,"c",(function(){return h})),r.d(t,"d",(function(){return m})),r.d(t,"b",(function(){return f})),r.d(t,"e",(function(){return v})),r.d(t,"a",(function(){return g}));var n=r(64),o=r.n(n),i=r(113),a=r.n(i);function c(e){try{return JSON.parse(e)}catch(t){return e}}var l=r(293),s="".concat(l.a.apiHost,"/").concat(l.a.endpoints.forms),u={"Content-Type":"application/x-www-form-urlencoded; charset=UTF-8",Accept:"application/json"},d={"Content-Type":"application/json; charset=UTF-8",Accept:"application/json"};class p{constructor(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:a.a;this.httpClient=e}_post(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:u;return new Promise((n,o)=>{var i={body:t,url:e,headers:r};this.httpClient.post(i,(e,t)=>{var{body:r,statusCode:i}=t;if(r=c(r),e||i<200||i>299)return o(r||e);n(r)})})}_postJson(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return this._post(e,JSON.stringify(t),d)}}var b=e=>({submissions:"".concat(s).concat(e,"/").concat(l.a.endpoints.submissions),landings:"".concat(s).concat(e,"/").concat(l.a.endpoints.landings)}),h=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new p,r=b(e).landings;return t._post(r)},m=function(){var e=o()((function*(e){var{formId:t,landingId:n,landingAt:o,values:i,payment:a,outcome:c,formPublicKey:l}=e,s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new p,u=b(t).submissions,d=(yield Promise.all([r.e(6),r.e(0)]).then(r.bind(null,529))).default,h=d({formId:t,landingAt:o,landingId:n,payment:a,values:i,outcome:c,formPublicKey:l});return s._postJson(u,h)}));return function(t){return e.apply(this,arguments)}}(),f=(e,t)=>{var r=((e,t)=>"".concat(s).concat(e,"/").concat(l.a.endpoints.uploads).concat(t,"/upload-credentials"))(e,t);return new Promise((e,t)=>{var n={url:r};a.a.get(n,(r,n)=>{var{body:o,statusCode:i}=n;if(r||i<200||i>299)return t(Error("credentials-error"));e(c(o))})})},y=e=>e.replace(/[`~!@#$%^&*()_|+\-=?;:'",<>{}[\]\\/\s]/g,"_"),v=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:()=>{},n=y(e.name),o=t.bucket,i="https://".concat(o,".s3.amazonaws.com");return new Promise((o,a)=>{var c=new XMLHttpRequest;c.open("POST",i,!0),c.setRequestHeader("Access-Control-Allow-Origin","*"),c.onload=()=>{if(c.status<200||c.status>=299)return a(new Error(c.response&&c.response.code||"s3-upload-error"));var e="".concat(t.token,"-").concat(n);o(e)},c.onerror=()=>a(new Error("s3-connection-error"));var l=new FormData;c.upload.addEventListener("progress",e=>{var t=e.loaded/e.total;r(t)},!1),l.append("key","".concat(t.folder).concat(t.token)),l.append("AWSAccessKeyId",t.key),l.append("acl",t.acl),l.append("policy",t.policy),l.append("signature",t.signature),l.append("file",e),l.append("successActionRedirect",t.success_action_redirect||t.successActionRedirect),c.send(l)})},g=e=>new Promise((t,r)=>{var n={url:e,headers:{Accept:"application/json","Access-Control-Allow-Origin":"*"}};a.a.get(n,(e,n)=>{var{body:o,statusCode:i}=n;if(e||i<200||i>299)return r(Error(e||i));var a=c(o)||{has_alpha:!1};t(!a.has_alpha)})})},259:function(e,t,r){"use strict";r.d(t,"a",(function(){return a}));var n=r(229),o=r(13),i=r(9);function*a(e){for(;;){var{type:t,payload:r}=yield Object(n.k)([i.a,i.p,i.G,i.H]);if(t===i.a)if(yield Object(n.i)(o.l,r.ref))continue;if(t!==i.G&&t!==i.a||!r.isFromPrefilledAnswer)return void(yield Object(n.b)(e,r))}}},260:function(e,t,r){"use strict";t.a={approve_with_id:"label.paymentError.unauthorized",not_permitted:"label.paymentError.unauthorized",card_declined:"label.paymentError.declinedCard",call_issuer:"label.paymentError.declinedCard",do_not_honor:"label.paymentError.declinedCard",do_not_try_again:"label.paymentError.declinedCard",generic_decline:"label.paymentError.declinedCard",lost_card:"label.paymentError.declinedCard",merchant_blacklist:"label.paymentError.declinedCard",no_action_taken:"label.paymentError.declinedCard",revocation_of_all_authorizations:"label.paymentError.declinedCard",revocation_of_authorization:"label.paymentError.declinedCard",security_violation:"label.paymentError.declinedCard",service_not_allowed:"label.paymentError.declinedCard",stolen_card:"label.paymentError.declinedCard",stop_payment_order:"label.paymentError.declinedCard",transaction_not_allowed:"label.paymentError.declinedCard",fraudulent:"label.paymentError.declinedCard",pickup_card:"label.paymentError.declinedCard",restricted_card:"label.paymentError.declinedCard",try_again_later:"label.paymentError.declinedCard",card_velocity_exceeded:"label.paymentError.exceededBalance",withdrawal_count_limit_exceeded:"label.paymentError.exceededBalance",currency_not_supported:"label.paymentError.unsupportedCurrency",duplicate_transaction:"label.paymentError.duplicateTransaction",expired_card:"label.paymentError.expiredCard",incorrect_number:"label.paymentError.invalidCardNumber",invalid_number:"label.paymentError.invalidCardNumber",incorrect_cvc:"label.paymentError.invalidCvc",invalid_cvc:"label.paymentError.invalidCvc",incorrect_zip:"label.paymentError.invalidZip",invalid_expiry_year:"label.paymentError.invalidExpiryYear",invalid_expiry_year_past:"label.paymentError.pastExpiryYear",invalid_expiry_month_past:"label.paymentError.pastExpiryMonth",insufficient_funds:"label.paymentError.insufficientFunds",invalid_account:"label.paymentError.invalidAccount",new_account_information_available:"label.paymentError.invalidAccount",issuer_not_available:"label.paymentError.unavailableIssuer",processing_error:"label.paymentError.cardProcessingError",reenter_transaction:"label.paymentError.issuerProcessingError",testmode_decline:"label.paymentError.declinedTestMode",card_not_supported:"label.paymentError.unsupportedCard",live_mode_test_card:"label.paymentError.stripeNotConnected",test_mode_live_card:"label.paymentError.stripeNotConnected",testmode_charges_only:"label.paymentError.stripeNotConnected",invalid_amount:"label.paymentError.invalidAmount",incomplete_number:"label.paymentError.cardNumberIncomplete",incomplete_cvc:"label.paymentError.cardCvcIncomplete",incomplete_expiry:"label.paymentError.cardExpiryIncomplete",api_connection_error:"stripe_connection_error",payment_method_unactivated:"label.paymentError.cardProcessingError",payment_method_unexpected_state:"label.paymentError.cardProcessingError",payment_intent_authentication_failure:"label.paymentError.authenticationFailure",payment_intent_incompatible_payment_method:"label.paymentError.cardProcessingError",payment_intent_invalid_parameter:"label.paymentError.cardProcessingError",payment_intent_payment_attempt_failed:"label.paymentError.cardProcessingError",payment_intent_unexpected_state:"label.paymentError.cardProcessingError"}},287:function(e,t,r){"use strict";r.d(t,"c",(function(){return n})),r.d(t,"b",(function(){return o})),r.d(t,"d",(function(){return i})),r.d(t,"a",(function(){return a}));var n="googleAnalytics",o="facebookPixel",i="googleTagManager",a="free"},288:function(e,t,r){"use strict";r.d(t,"a",(function(){return n}));var n="sticky_footer"},289:function(e,t,r){"use strict";r.d(t,"a",(function(){return o}));var n=r(2),o=(e,t)=>{var r,o=(e=>e.intents)(e);if(null==o||!o.length)return null;var i=Object(n.n)(e,t);return i?null===(r=o.find(e=>e.id===i.id))||void 0===r?void 0:r.intent:null}},290:function(e,t,r){"use strict";r.d(t,"a",(function(){return l}));var n=r(229),o=r(2),i=r(236),a=r(9),c=r(91);function*l(){yield Object(n.f)(s),yield Object(n.f)(u),yield Object(n.f)(p)}function*s(){yield Object(n.k)(a.p),c.g()}function*u(){yield Object(n.k)(a.K);var e=yield Object(n.i)(i.e);c.e({response_id:e,responseId:e})}function*d(){var e=yield Object(n.i)(o.v);c.d({ref:e})}function*p(){yield Object(n.l)([a.p,a.a],d)}},291:function(e,t,r){"use strict";r.d(t,"a",(function(){return l}));var n=r(229),o=r(18),i=r(9),a=r(105);function*c(){yield Object(n.k)(i.K);var e=yield Object(n.i)(o.c);yield Object(n.b)(a.g,e)}function*l(){yield Object(n.f)(c)}},292:function(e,t,r){"use strict";r.d(t,"b",(function(){return k})),r.d(t,"c",(function(){return E})),r.d(t,"a",(function(){return _})),r.d(t,"d",(function(){return R}));var n=r(229),o=r(294),i=r(68),a=r(121),c=r(45),l=r(122),s=r(16),u=r(254),d=r(18),p=r(2),b=r(236),h=r(33),m=r(83),f=r(295),y=r(59),v=r(260),g=r(62),O=r(296),j=[5,10,15,30],C=e=>{var{code:t,details:r}=e;return"VALIDATION_ERROR"===t&&r&&r.length&&"RULE_MATCHED"===r[0].code},w=(e,t)=>v.a[t]||(e=>C(e)?"label.error.ruleMatched":"FORM_CHANGED"===e.code?"label.error.formChanged":"label.error.generic")(e),k=(e,t)=>t.hasOwnProperty("token")?t:{response_id:t.submission.response_id,token:t.signature,landed_at:t.submission.landed_at};function*E(){for(var e,t,r,o=0,c=yield Object(n.i)(d.c);!e;)try{e=yield Object(n.b)(u.c,c);var l=k(c,e);yield Object(n.g)(Object(i.c)(l.token,l.landed_at,l.response_id))}catch(c){if(C(c)){var s=(yield Object(n.i)(p.k))?a.b:a.a;return yield Object(n.g)(s()),void(e=!0)}yield Object(n.g)(Object(i.b)(c)),yield Object(n.d)((r=o%6,t=Math.floor(Math.pow(1.8,r)),1e3*t)),o++}}function*S(e,t){yield Object(n.d)(500),yield Object(n.g)(Object(c.d)(e,t)),yield*function*(){for(;yield Object(n.i)(b.g);)yield Object(n.d)(1e3),yield Object(n.g)(Object(i.a)())}(),yield*R()}function*I(e){var t=yield Object(n.i)(b.i),r=yield Object(n.i)(d.c),o=yield Object(n.i)(b.c),i=yield Object(n.i)(b.b),a=yield Object(n.i)(p.J),c=yield Object(n.i)(d.d);return yield Object(n.b)(u.d,{formId:r,landingId:o,landingAt:i,values:t,payment:e,outcome:a,formPublicKey:c})}function*P(){yield Object(n.g)(Object(l.b)(null)),yield Object(n.g)(Object(l.a)(null))}function*T(e,t){var r=(e=>{var t=e&&e.code;return"PAYMENT_ERROR"===t&&e.details&&e.details.length&&(t=e.details[0].code),t})(e);if(r){var o=w(e,r),i=(e=>e&&e.description)(e),l=(e=>e&&e.details)(e);return yield Object(n.b)(P),yield Object(n.g)(Object(c.c)(o,r,i,l)),void(C(e)&&(yield Object(n.g)(Object(a.b)())))}return yield*S(t,"connection_error")}function*x(e){var t=(e=>e.decline_code||e.code||e.type)(e);return yield Object(n.b)(P),yield Object(n.g)(Object(c.c)(v.a[t]||"label.error.generic",t))}function*_(){var e=yield Object(n.i)(d.x);if(e)yield Object(n.d)(g.f),Object(o.a)(e);else{var t=yield Object(n.i)(h.c);yield Object(n.g)(Object(s.n)(t.ref))}}function*R(){var e=(e=>{var t=j.length,r=e>t?j[t-1]:j[e-g.g];return e?r:1})(yield Object(n.i)(b.f));if(yield Object(n.i)(y.c))return yield Object(n.g)(Object(a.b)());if(!(yield Object(n.i)(b.j)))return yield*S(e,"no_landing");try{var t=yield Object(n.i)(m.k);if(t)return yield*function*(e,t){try{var r=yield Object(n.i)(f.c);if(!r)throw new O.a("missing_stripe_account","label.error.generic");var o=yield Object(n.i)(f.b),i=yield Object(n.i)(f.a);if(o&&!i)return yield*A(o,r,t);if(i)return yield*D(i,o,r,t);var a=yield Object(n.i)(f.d),c=yield Object(n.b)(a.createPaymentMethod,e);return c.error?yield Object(n.b)(x,c.error):(o=c.paymentMethod&&c.paymentMethod.id,yield Object(n.g)(Object(l.b)(o)),yield*A(o,r,t))}catch(e){return yield T(e,t)}}(t,e);yield Object(n.b)(I),yield Object(n.g)(Object(c.e)())}catch(t){return yield T(t,e)}yield Object(n.b)(_)}function*A(e,t,r){try{var o=yield Object(n.b)(I,{provider:"stripe",stripe:{payment_method:e,account_id:t}});if("stripe"===o.provider){var i=yield Object(n.i)(f.d),a=yield Object(n.b)(i.handleCardAction,o.stripe.client_secret);if(a.error)return yield Object(n.b)(x,a.error);var s=a.paymentIntent.id;return yield Object(n.g)(Object(l.a)(s)),yield*D(s,e,t,r)}yield Object(n.g)(Object(c.e)())}catch(e){return yield T(e,r)}yield Object(n.b)(_)}function*D(e,t,r,o){try{yield Object(n.b)(I,{provider:"stripe",stripe:{payment_method:t,account_id:r},ref:e}),yield Object(n.g)(Object(c.e)())}catch(e){return yield T(e,o)}yield Object(n.b)(_)}},293:function(e,t,r){"use strict";r.d(t,"a",(function(){return o}));var n=r(107),o={apiHost:Object(n.a)()&&window.__apiEntrypoint__?window.__apiEntrypoint__:"",endpoints:{forms:"forms/",submissions:"complete-submission",landings:"start-submission",uploads:"fields/",insights:"insights/events/"}}},294:function(e,t,r){"use strict";r.d(t,"a",(function(){return l})),r.d(t,"b",(function(){return s}));var n=r(160),o=r.n(n),i=r(91),a=r(117),c={allowUnknownSchemes:!0},l=e=>{u(e,"AFTER_SUBMIT_REDIRECT")},s=e=>{u(e,"THANK_YOU_SCREEN_REDIRECT")},u=(e,t)=>{if((e=>o()(e,c))(e)){if(Object(a.a)())switch(t){case"THANK_YOU_SCREEN_REDIRECT":i.f(e);break;case"AFTER_SUBMIT_REDIRECT":i.c(e)}try{var r=document.createElement("a");r.href=e,r.target=Object(a.a)()?"_parent":"",document.body.appendChild(r),r.click(),document.body.removeChild(r);var n=window.location.origin+window.location.pathname;if(e.includes(n)){var l=Object(a.a)()?window.parent:window;setTimeout(()=>l.location.reload(),500)}}catch(e){console.error(e)}}}},295:function(e,t,r){"use strict";r.d(t,"c",(function(){return o})),r.d(t,"b",(function(){return i})),r.d(t,"a",(function(){return a})),r.d(t,"d",(function(){return c}));var n=e=>e.paymentProviders.stripe,o=e=>n(e).accountId,i=e=>n(e).stripePaymentMethodId,a=e=>n(e).stripePaymentIntentId,c=e=>n(e).service},296:function(e,t,r){"use strict";r.d(t,"a",(function(){return n}));class n extends Error{constructor(e,t,r){super("".concat(e,": ").concat(t)),this.code=e,this.description=t,this.details=r}}},297:function(e,t,r){"use strict";r.d(t,"a",(function(){return d})),r.d(t,"b",(function(){return b}));var n=r(229),o=r(7),i=r(231),a=r(18),c=r(86),l=r(9),s=r(259),u=()=>{if("undefined"!=typeof window&&window.newrelic)return window.newrelic},d=(e,t)=>{var r=u();r&&r.addPageAction(e,t)};function*p(e,t){for(var r=arguments.length,o=new Array(r>2?r-2:0),i=2;i<r;i++)o[i-2]=arguments[i];yield Object(n.f)((function*(){var r=yield Object(n.k)(e);yield Object(n.b)(t,...o,r.payload)}))}function*b(){if(!(yield Object(n.i)(i.f))){var e=u();e&&(yield Object(n.k)(l.M),yield Object(n.b)(h,e),yield Object(n.b)(s.a,(function*(){yield Object(n.b)(m,e)})),yield*p(l.K,f,e),yield*p(l.I,v,e),yield*p(l.J,g,e),yield*p(l.H,y,e))}}function*h(e){var t=yield Object(n.i)(a.c),r=yield Object(n.i)(i.g),l=yield Object(n.i)(i.i);if(e.setCustomAttribute("isTouch",String(Object(o.m)())),e.setCustomAttribute("formUid",t),e.setCustomAttribute("sessionId",r),e.setCustomAttribute("planName",null==l?void 0:l.planName),yield Object(n.i)(c.d)){var s=yield Object(n.i)(c.c);e.setCustomAttribute("embeddingMode",s)}}function m(e){e.addPageAction("startConversation")}function f(e){e.addPageAction("conversationSubmitted")}function y(e){e.addPageAction("submitRequest")}function v(e,t){var{errorCode:r,errorDescription:n,errorDetails:o}=t;e.addPageAction("submitFailed",{errorCode:r,errorDescription:n,errorDetails:JSON.stringify(o)})}function g(e,t){var{errorCode:r}=t;e.addPageAction("submitRetry",{errorCode:r})}},300:function(e,t,r){"use strict";r.d(t,"a",(function(){return c}));var n=r(5),o=r(32),i=e=>e.ref,a=e=>Object(o.a)(e.ref)?Object(o.a)(e.value)?e:e.value:e.ref;function c(e,t){var r=[].concat(Object(o.a)(t)?[]:t).map(t=>{var r=a(t),o=((e,t)=>{var r,o=a(t);switch(e.type){case n.k:case n.q:case n.d:case n.s:var i=e.choices.find(e=>e.ref===o);r=i?i.label:o;break;case n.o:case n.j:r="";break;case n.c:r=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"-",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"YYYYMMDD",r=arguments.length>2?arguments[2]:void 0,[n,o,i]=r.split("-");switch(n=n?n.padStart(4,"0"):"\\_\\_\\_\\_",o=o?o.padStart(2,"0"):"\\_\\_",i=i?i.padStart(2,"0"):"\\_\\_",t){case"DDMMYYYY":return i+e+o+e+n;case"MMDDYYYY":return o+e+i+e+n;case"YYYYMMDD":return n+e+o+e+i}}(e.separator,e.structure,o);break;default:r="string"==typeof o?o:"number"==typeof o?o.toString():t.label}return r||""})(e,t);return{value:r,humanReadableText:o}});return{blockRef:i(e),value:r}}},314:function(e,t,r){"use strict";r.d(t,"b",(function(){return o})),r.d(t,"c",(function(){return i})),r.d(t,"a",(function(){return a}));var n={AD:"376",AE:"971",AF:"93",AG:"1",AI:"1",AL:"355",AM:"374",AO:"244",AR:"54",AT:"43",AU:"61",AW:"297",AX:"358",AZ:"994",BA:"387",BB:"1",BD:"880",BE:"32",BF:"226",BG:"359",BH:"973",BI:"257",BJ:"229",BM:"1",BN:"673",BO:"591",BR:"55",BS:"1",BT:"975",BW:"267",BY:"375",BZ:"501",CA:"1",CD:"243",CF:"236",CG:"242",CH:"41",CI:"225",CL:"56",CM:"237",CN:"86",CO:"57",CR:"506",CU:"53",CV:"238",CY:"357",CW:"599",CZ:"420",DE:"49",DJ:"253",DK:"45",DM:"1",DO:"1",DZ:"213",EC:"593",EE:"372",EG:"20",ER:"291",ES:"34",ET:"251",FI:"358",FJ:"679",FK:"500",FM:"691",FO:"298",FR:"33",GA:"241",GB:"44",GD:"1",GE:"995",GG:"44",GH:"233",GI:"350",GM:"220",GN:"224",GP:"590",GQ:"240",GR:"30",GT:"502",GW:"245",GY:"592",HK:"852",HN:"504",HR:"385",HT:"509",HU:"36",ID:"62",IE:"353",IL:"972",IM:"44",IN:"91",IQ:"964",IR:"98",IS:"354",IT:"39",JE:"44",JM:"1",JO:"962",JP:"81",KE:"254",KG:"996",KH:"855",KM:"269",KN:"1",KP:"850",KR:"82",KW:"965",KY:"1",KZ:"7",LA:"856",LB:"961",LC:"1",LI:"423",LK:"94",LR:"231",LS:"266",LT:"370",LU:"352",LV:"371",LY:"218",MA:"212",MC:"377",MD:"373",ME:"382",MG:"261",MK:"389",ML:"223",MM:"95",MN:"976",MO:"853",MQ:"596",MR:"222",MS:"1",MT:"356",MU:"230",MV:"960",MW:"265",MX:"52",MY:"60",MZ:"258",NA:"264",NE:"227",NG:"234",NI:"505",NL:"31",NO:"47",NP:"977",NZ:"64",OM:"968",PA:"507",PE:"51",PF:"689",PG:"675",PH:"63",PK:"92",PL:"48",PR:"1",PS:"970",PT:"351",PW:"680",PY:"595",QA:"974",RE:"262",RO:"40",RS:"381",RU:"7",RW:"250",SA:"966",SB:"677",SC:"248",SD:"249",SE:"46",SG:"65",SH:"290",SI:"386",SK:"421",SL:"232",SM:"378",SN:"221",SO:"252",SR:"597",ST:"239",SV:"503",SY:"963",SZ:"268",TC:"1",TD:"235",TG:"228",TH:"66",TJ:"992",TL:"670",TM:"993",TN:"216",TO:"676",TR:"90",TT:"1",TW:"886",TZ:"255",UA:"380",UG:"256",US:"1",UY:"598",UZ:"998",VC:"1",VE:"58",VG:"1",VN:"84",VU:"678",WS:"685",YE:"967",ZA:"27",ZM:"260",ZW:"263"},o=e=>n[e]||"",i=(e,t)=>t.replace("+".concat(o(e)),""),a=()=>Object.keys(n)},383:function(e,t,r){"use strict";r.d(t,"b",(function(){return y})),r.d(t,"a",(function(){return j}));var n=r(6),o=r.n(n),i=r(229),a=r(254),c=r(45),l=r(9),s=r(18),u=r(2),d=r(236),p=r(292),b=r(290),h=r(291);function m(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function f(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?m(Object(r),!0).forEach((function(t){o()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):m(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var y=()=>{var e=window.localStorage.getItem("submissions")||"[]";return JSON.parse(e)},v=e=>{window.localStorage.setItem("submissions",JSON.stringify(e))},g=()=>{var e=y(),t=e.shift();return v(e),t},O=e=>v([e,...y()]);function*j(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1e3;yield Object(i.f)(b.a),yield Object(i.f)(h.a),yield Object(i.f)(k,e),yield Object(i.f)(C)}function*C(){for(;;){yield Object(i.k)(l.H);var e=yield Object(i.i)(d.i),t=yield Object(i.i)(s.c),r=yield Object(i.i)(u.J);n={formId:t,landingId:null,landingAt:null,values:e,outcome:r},v([...y(),n]),yield Object(i.g)(Object(c.e)()),yield Object(i.b)(p.a)}var n}var w=e=>new Promise(t=>setTimeout(t,e));function*k(e){for(;;){if(window.navigator.onLine){var t=g();if(t)try{var r=yield Object(i.b)(a.c,t.formId),n=Object(p.b)(t.formId,r);yield Object(i.b)(a.d,f(f({},t),{},{landingId:n.token,landingAt:n.landed_at}));continue}catch(e){O(t)}}yield w(e)}}},45:function(e,t,r){"use strict";r.d(t,"b",(function(){return u})),r.d(t,"e",(function(){return d})),r.d(t,"d",(function(){return p})),r.d(t,"c",(function(){return b})),r.d(t,"a",(function(){return h}));var n=r(9),o=r(18),i=r(87),a=r(2),c=r(83),l=r(16),s=r(116);function u(e){var t=Object(i.a)(e);return(e,r)=>{var i=r();if(e(Object(s.b)(Object(a.j)(i))),e(Object(s.a)()),Object(c.i)(i)){var u=Object(o.l)(i);e(Object(l.c)()),e(function(e,t){return{type:n.H,payload:{isLivePreview:e,navigationType:t}}}(u,t))}else{Object(o.p)(i)||e(Object(l.d)()),e(Object(l.g)(t))}}}function d(){return{type:n.K}}function p(e,t){return{type:n.J,error:!0,payload:{retry:{timeout:e},errorCode:t}}}function b(e,t,r,o){return{type:n.I,error:!0,payload:{message:e,errorCode:t,errorDescription:r,errorDetails:o}}}function h(e,t){return(r,n)=>{var i=n();Object(o.r)(i,e)&&r(u(t))}}},467:function(e,t){},520:function(e,t,r){"use strict";r.r(t),r.d(t,"default",(function(){return b}));var n=r(0),o=r.n(n),i=r(3),a=r(7),c=r(238),l=r(61),s=r(137),u=r.n(s),d=r(383),p=i.d.div.withConfig({displayName:"offline-mode-badge__Root",componentId:"sc-1qefiu2-0"})(["position:fixed;display:flex;align-items:center;justify-content:center;background:",";color:",";border-radius:3px;height:32px;width:32px;right:8px;top:8px;"],e=>e.backgroundColor,e=>e.contentColor);function b(e){var{theme:t}=e,[r,i]=Object(n.useState)(window.navigator.onLine),[s,b]=Object(n.useState)(Object(d.b)().length);return Object(n.useEffect)(()=>{var e=()=>{i(window.navigator.onLine)};return window.addEventListener("online",e),window.addEventListener("offline",e),()=>{window.removeEventListener("online",e),window.removeEventListener("offline",e)}},[]),Object(n.useEffect)(()=>{var e=setInterval(()=>{b(Object(d.b)().length)},1e3);return()=>{clearInterval(e)}},[]),window.navigator.serviceWorker.controller?0===s?o.a.createElement(p,{backgroundColor:t.colors.button,contentColor:Object(a.g)(t.colors.button)},o.a.createElement(l.b,{svg:c.a,color:Object(a.g)(t.colors.button)})):r&&s>0?o.a.createElement(p,{backgroundColor:t.colors.button,contentColor:Object(a.g)(t.colors.button)},o.a.createElement(u.a,{color:Object(a.g)(t.colors.button)})):o.a.createElement(p,{backgroundColor:t.colors.button,contentColor:Object(a.g)(t.colors.button)},s):null}},523:function(e,t,r){"use strict";r.r(t);var n=r(27),o=r(7),i=r(0),a=r.n(i),c=r(3),l=r(1),s=r.n(l),u=r(98),d=r(16),p=r(45),b=r(139),h=r(144),m=r(17),f=r(8),y=r(22),v=r(120),g=r(6),O=r.n(g),j=r(100),C=r.n(j),w=r(103),k=r(11),E=r.n(k),S=r(5),I=r(106),P=r(84),T=r(15),x=r(10),_=r.n(x),R=r(429),A=r.n(R),D=r(28),B=r(225),F=r(82),V=r.n(F),L=r(4),N=r(35),M=a.a.createContext(!1),H=M.Consumer,K=e=>t=>a.a.createElement(H,null,r=>a.a.createElement(e,_()({},t,{isBlockChanging:r}))),z=M,U=r(115);function W(e){var{boundingClientRect:t={},onlyTop:r=!1,offsetTop:n=0,offsetBottom:o=0}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!e||"function"!=typeof e.getBoundingClientRect)return!1;var i=e.getBoundingClientRect(),a={height:t.height||window.innerHeight||document.documentElement.clientHeight,top:t.top||0},c=i.top>=a.top+n,l=i.bottom<=a.height-o;return r?c:c&&l}var q=()=>"MacIntel"===navigator.platform,G=r(26),Y=r(62),Q=r(20),J=r.n(Q),Z=e=>{var{color:t,warningText:r,actionText:n}=e;return a.a.createElement(J.a,{color:t,size:"sizeN1",useDefaultFont:!0,dimmed:!0},r," - ",a.a.createElement("a",{href:"https://www.typeform.com/help/report-abuse",target:"_blank",rel:"noopener noreferrer"},n))},$=r(228),X=["label.retrySubmit.first","label.retrySubmit.second","label.retrySubmit.third","label.retrySubmit.fourth"],ee=e=>{var{count:t,timeout:r,t:n}=e;return 0===r?a.a.createElement("div",null,n("label.retryLink.retrying")):a.a.createElement(i.Fragment,null,a.a.createElement("div",{"data-qa":"retry-count","aria-hidden":"true"},n((e=>{var t=X.length;return e>t?X[t-1]:X[e-Y.g]})(t),{timeout:r})),3===r?a.a.createElement($.a,{"aria-live":"assertive"},n("label.retryLink.counter",{timeout:r})):null)};ee.defaultProps={t:e=>e};var te=Object(P.a)(ee),re=e=>{var{centered:t,color:r,count:n,messageKey:o,t:i,timeout:c}=e;return a.a.createElement(J.a,{role:"timer","aria-live":"assertive",size:"sizeN1",color:r,useDefaultFont:!0,align:t?"center":"left"},Object(G.a)(i(o)),a.a.createElement(te,{count:n,timeout:c}))};re.defaultProps={messageKey:"label.warning.slowSubmission",t:e=>e};var ne=Object(P.a)(re),oe=r(119),ie=r.n(oe),ae=r(238),ce=r(66),le=e=>{var{ariaDescribedBy:t,backgroundColor:r,buttonColor:n,buttonContentColor:o,centered:i,disabled:c,helperColor:l,helperText:s,hideIcon:u,label:d,onClick:p,isVisible:b,buttonRef:h,t:m,hideHelperText:f}=e,y=Object(ce.useIsTouch)(),v=b?"-visible":"";return a.a.createElement(ie.a,{ariaDescribedBy:t,centered:i,color:n,contentColor:o,content:Object(G.a)(m(d)),contextBackgroundColor:r,dataQa:"ok-button".concat(v," deep-purple-ok-button").concat(v),disabled:c,helperColor:l,helperText:y?null:Object(G.a)(m(s)),iconSvg:u?null:ae.a,onClick:p,size:"medium",tabIndex:b?0:-1,buttonRef:h,hideHelperText:f})};le.defaultProps={backgroundColor:o.b,buttonColor:o.b,helperColor:o.b,helperText:"label.buttonHint.default",hideHelperText:!1,hideIcon:!1,isVisible:!1,label:"label.button.ok",t:e=>e};var se=le,ue=e=>{var{ariaDescribedBy:t,centered:r,disabled:n,fullWidth:i,helperText:c,isComplete:l,isLivePreview:s,isPaymentBlockAnswered:u,isSubmitting:d,isVisible:p,onClick:b,price:h,size:m,t:f,theme:y,buttonRef:v,hideHelperText:g}=e,O=f("label.button.submit");u&&(O=f("label.button.submitAndPay",{price:h}));var j=y.colors.button;return a.a.createElement(ie.a,{ariaDescribedBy:t,buttonRef:v,centered:r,color:j,contentColor:y.colors.buttonContent,content:O,contextBackgroundColor:y.colors.background,dataQa:"submit-button deep-purple-submit-button",disabled:n||!s&&(d||l),fullWidth:i,helperColor:y.colors.primary,helperText:Object(o.m)()||r?"":Object(G.a)(f(c)),isSpinning:!s&&d,isTransparent:y.hasTransparentButton,onClick:b,size:m,tabIndex:p?0:-1,hideHelperText:g})};ue.defaultProps={centered:!1,helperText:"label.buttonHint.default",size:"large",theme:{colors:{backgroundColor:o.b,button:o.b,primary:o.b},hasTransparentButton:!1},t:e=>e};Object(P.a)(ue);var de=r(265),pe=r.n(de),be=c.d.div.withConfig({displayName:"ErrorMessage__ErrorMessageWrapper",componentId:"sc-1wltuxw-0"})(["position:absolute;width:100%;",";"],e=>e.centered&&"text-align: center"),he=e=>{var{centered:t,errorMessageRef:r,id:n,message:o,visible:i}=e;return i?a.a.createElement(u.b,{isVisible:!0,type:"slideUp"},a.a.createElement(be,{centered:t},a.a.createElement(pe.a,{dataQa:"error-message-visible",id:n,message:o,errorMessageRef:r,role:"alert",visible:!0}))):null};he.defaultProps={visible:!1};var me=he;function fe(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function ye(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?fe(Object(r),!0).forEach((function(t){O()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):fe(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var ve=c.d.div.withConfig({displayName:"block-footer__Root",componentId:"gb8zj2-0"})(["position:relative;"]),ge=c.d.div.withConfig({displayName:"block-footer__SubmitButtonFooter",componentId:"gb8zj2-1"})(["width:100%;position:absolute;"]),Oe=q()?"label.buttonHint.submit-mac":"label.buttonHint.submit",je=e=>{var t,{ariaDescribedBy:r,blockError:n,blockRef:c,buttonText:l,errorMessageId:s,errorMessageRef:d,hideHelperText:p,hideIcon:b,isActive:h,isAnimated:m,isButtonFullWidth:y,isButtonTypeSubmit:v,isButtonVisible:g,isErrorMessageVisible:O,isLivePreview:j,isPaymentBlockAnswered:C,isSubmitButtonVisibilityForced:w,layout:k,layoutItemsSize:E,onClick:S,onFocusLost:I,onRequireStickyFooter:P,price:T,showPhishingMessage:x,submit:_,submitErrorMessageId:R,submitErrorMessageKey:A,submitForm:B,t:F,theme:V,trackInlineSubmit:M}=e,{isComplete:H,isSubmitting:K,retry:q}=_,Q=Object(i.useRef)(null),J=Object(i.useContext)(z),$=Object(U.b)(c),[X,ee]=Object(i.useState)(!1),te=Object(f.h)(null===(t=V.fields)||void 0===t?void 0:t.alignment,k.type)===f.e.CENTER,re=y||te,oe=Object(i.useCallback)(()=>{if(Q.current){var e=!J&&g&&h&&!W(Q.current,ye(ye({},E),{},{offsetBottom:-Q.current.offsetHeight}));P(c,e)}},[J,g,h,c,Q,E,P]);Object(i.useEffect)(()=>{var e,t=()=>{e=setTimeout(oe,200)};return window.addEventListener("resize",t),()=>{clearTimeout(e),window.removeEventListener("resize",t)}},[oe]),Object(i.useEffect)(()=>oe(),[oe,$]),Object(i.useEffect)(()=>{var e=null;return g?e=setTimeout(()=>{ee(v)},200):ee(!1),()=>clearTimeout(e)},[v,g]),Object(i.useEffect)(()=>{g&&v&&M(c)},[g,v]);var ie=g&&v,ae=g&&!v,ce=Object(i.useRef)(),le=Object(i.useRef)();Object(i.useEffect)(()=>{var e=null;return w&&Object(o.m)()&&(e=setTimeout(()=>le.current.focus(),Y.d+100)),()=>clearTimeout(e)},[w]);var de=Object(i.useRef)(ie),pe=Object(i.useRef)(ae),be=le.current===document.activeElement,he=ce.current===document.activeElement,fe=de.current&&!ie&&be,je=pe.current&&!ae&&he;return J||!fe&&!je||I(),de.current=ie,pe.current=ae,a.a.createElement(ve,null,a.a.createElement(D.a,{top:L.p.topBlockFooter},a.a.createElement(me,{centered:te,id:s,errorMessageRef:d,message:Object(G.a)(F(null==n?void 0:n.label,null==n?void 0:n.getPipingValues())),visible:O}),a.a.createElement("div",{ref:Q,"data-qa-button-visible":g},a.a.createElement(ge,null,a.a.createElement(u.b,{type:"slideUp",isVisible:ie,delay:g&&!X?Y.d:0,duration:m?Y.d:0},a.a.createElement(N.b,{position:re?"center":"left"},a.a.createElement(ue,{ariaDescribedBy:r,centered:re,fullWidth:y,helperText:Oe,isComplete:H,disabled:!ie,isLivePreview:j,isPaymentBlockAnswered:C,isSubmitting:K,isVisible:g,onClick:B,price:T,size:"medium",t:F,theme:V,buttonRef:le,hideHelperText:p})),a.a.createElement(D.b,{top:2},X&&x&&!q.showMessage&&!A&&a.a.createElement(N.b,{position:re?"center":"left"},a.a.createElement(Z,{color:V.colors.primary,warningText:F("label.warning.phishing"),actionText:F("label.action.phishing")})),q.showMessage&&a.a.createElement(ne,{centered:te,color:V.colors.primary,count:q.count-1,timeout:q.timeout}),!!A&&a.a.createElement(me,{centered:te,id:R,message:Object(G.a)(F(A)),errorMessageRef:d,visible:!!A})))),a.a.createElement(u.b,{type:"slideUp",isVisible:ae,delay:g&&X?Y.d:0,duration:m?Y.d:0},a.a.createElement(se,{ariaDescribedBy:r,backgroundColor:V.colors.background,buttonColor:V.colors.button,buttonContentColor:V.colors.buttonContent,centered:te,helperColor:V.colors.primary,helperText:"label.buttonHint.default",hideIcon:b,disabled:!ae,isVisible:g,label:l,onClick:S,t:F,buttonRef:ce,hideHelperText:p})))))},Ce=Object(P.a)(e=>a.a.createElement(m.ResponsiveConsumer,null,t=>{var{width:r}=t,n=r<L.n.md&&!e.isLivePreview;return a.a.createElement(je,_()({isButtonFullWidth:n},e))}));je.defaultProps={hideHelperText:!1,isAnimated:!0,showPhishingMessage:!0,submit:{retry:{},isComplete:!1,isSubmitting:!1},onRequireStickyFooter:T.a,submitForm:T.a,onFocusLost:T.a,trackInlineSubmit:T.a,theme:{colors:{primary:o.b,background:o.b}},t:e=>e};var we=r(164),ke=r(68),Ee=r(18),Se=r(2),Ie=r(83),Pe=r(13),Te=r(236),xe=r(231),_e=r(34),Re=r(54),Ae=r(46),De=r(30),Be={onRequireStickyFooter:we.a,trackInlineSubmit:ke.e},Fe=Object(n.b)((e,t)=>{var r,{blockRef:n,errorMessageId:o,errorMessageRef:i,validationError:a,hideButton:c,hideHelperText:l,isErrorMessageVisible:s}=t,u=Object(Pe.j)(e,n),d=Object(Pe.g)(e,n),p=Object(Re.b)(e,n),b=Object(Pe.b)(e,n),h=Object(Ae.a)(e,De.d)===De.g,m=Object(Ee.g)(e);return r=h?u||Object(Ee.r)(e,n):u&&(!d||p)||Object(Ee.r)(e,n),{errorMessageId:o,errorMessageRef:i,hideHelperText:l||d||b,isActive:Object(Se.z)(e,n),isButtonTypeSubmit:Object(Ee.h)(e,n),isErrorMessageVisible:s,isLivePreview:Object(Ee.l)(e),isSubmitButtonVisibilityForced:Object(Ee.b)(e),isPaymentBlockAnswered:Object(Ie.m)(e),isButtonVisible:!s&&!c&&!m&&r,price:Object(Se.L)(e),showPhishingMessage:Object(xe.d)(e),submit:Object(Se.Q)(e),submitErrorMessageId:"".concat(n,"-submission-error-message"),submitErrorMessageKey:Object(Te.h)(e),theme:Object(_e.f)(e),validationError:a}},Be)(Ce),Ve=r(412),Le=r(413),Ne=r(298),Me=r.n(Ne),He=r(261),Ke=r(61);function ze(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return e=>{t.forEach(t=>{t&&("function"!=typeof t?t.current=e:t(e))})}}var Ue=e=>{var{children:t,htmlFor:r,id:n,htmlTag:o,required:i,t:c}=e,l=i&&a.a.createElement($.a,null,c("a11y.label.required"));return a.a.createElement(V.a,{"aria-hidden":"legend"===o?"true":null,type:L.i.blockTitle,htmlTag:"legend"===o?"span":o,htmlFor:"label"===o?r:null,"data-qa":"block-title deep-purple-block-title",id:n},t,l)};Ue.defaultProps={htmlTag:"span",required:!1};var We=Ue,qe=r(414),Ge=r.n(qe),Ye=r(89),Qe=r(51),Je=Qe.a?0:100,Ze=c.d.div.withConfig({displayName:"block-scroller__Root",componentId:"sc-23jz1-0"})(["width:100%;height:100%;overflow-x:hidden;overflow-y:auto;&:focus{outline:none;}"]),$e=c.d.div.withConfig({displayName:"block-scroller__Positioner",componentId:"sc-23jz1-1"})(["min-height:100%;display:flex;flex-direction:column;justify-content:center;"]),Xe=e=>!!e&&e.scrollTop+30>=e.scrollHeight-e.clientHeight,et=e=>!!e&&e.scrollTop-30<=0,tt=e=>{var{blockRef:t,children:r,endAutoScroll:n,isActive:o,onChangeCanSwipe:c,onKeyDown:l,onRequireStickyHeader:s,onScroll:u,isScrollNearTop:d,scrolling:p,scrollerRef:b}=e,h=Object(i.useRef)();b&&(h=b);var m=Object(i.useRef)(),[f,y]=Object(i.useState)(null),v=Object(i.useContext)(z),g=Object(U.c)(t),O=Object(i.useCallback)(Object(Ye.debounce)(Je,()=>{if(h.current){o&&(c({next:Xe(h.current),previous:et(h.current)}),u());var e=h.current.scrollTop;g(e),e>88&&d?s(!0):e<=88&&!d&&s(!1)}}),[o,d,h.current,c,u]);return Object(i.useEffect)(()=>{o||v||!et(h.current)&&h.current&&(h.current.scrollTop=0)},[v,o]),Object(i.useEffect)(()=>{o&&c({next:Xe(h.current),previous:et(h.current)})},[o]),Object(i.useEffect)(()=>{if(o&&p&&"recenter"===p.scrollType&&"bottom"===p.anchor&&h.current){var e=Qe.a?0:200;Ge()(h.current,"scrollTop",h.current.scrollHeight-h.current.clientHeight,e,"easeOutCubic",n)}},[p]),Object(i.useEffect)(()=>{var e=h.current,t=m.current;if(e&&t){var r=t.clientHeight>e.clientHeight;0!==f&&r?y(0):null===f||r||y(null)}}),a.a.createElement(Ze,{"data-qa":"block-scroller",onScroll:O,onKeyDown:l,ref:h,tabIndex:f},a.a.createElement($e,{ref:m},r))};tt.defaultProps={endAutoScroll:T.a,onKeyDown:T.a,onChangeCanSwipe:T.a,onScroll:T.a};var rt=tt,nt="\n  a[href]:not([tabindex='-1']),\n  area[href]:not([tabindex='-1']),\n  input:not([disabled]):not([tabindex='-1']),\n  select:not([disabled]):not([tabindex='-1']),\n  textarea:not([disabled]):not([tabindex='-1']),\n  button:not([disabled]):not([tabindex='-1']),\n  iframe:not([tabindex='-1']),\n  [tabindex]:not([disabled]):not([tabindex='-1']),\n  [contentEditable=true]:not([tabindex='-1'])\n  ";var ot=(e,t)=>{var r=function(e){return"undefined"!=typeof window&&"undefined"!=typeof document&&(!(!e||"function"!=typeof e.contains)&&(e===document.activeElement||e.contains(document.activeElement)))}(e),n=()=>{if(e&&!r&&t)if(Object(o.m)())document.activeElement.blur();else{var n=(e=>e.matches(nt)?e:e.querySelector(nt))(e);n?n.focus():document.body.focus()}};Object(i.useEffect)(()=>{var e=setTimeout(n,Y.c);return()=>clearTimeout(e)},[e,t])},it=a.a.forwardRef((e,t)=>{var r,n,c,l,s,u,d,p,{attachment:b,isBlockListVisible:h,blockRef:y,childOfGroup:v,children:g,description:O,encryptable:j,endAutoScroll:C,isActive:w,isAnswered:k,isScrollNearTop:E,isShaking:S,isFocused:I,layout:P,listIndexText:T,onChangeCanSwipe:x,onKeyDown:_,onRequireStickyHeader:R,onScroll:A,scrolling:D,t:F,theme:M,titleLabelId:H,titleFor:K,titleTag:z,titleText:U,titleCounterIcon:W,type:q,uniqueId:G,validations:Y,isVideoPlaying:Q,onVideoClick:Z,scrollerRef:$}=e,X=Object(i.useRef)(null),[ee,te]=Object(i.useState)(0),re=Object(m.useBreakpoint)(),ne="legend"===z,oe=P.type,ie=oe===f.d.STACK?b:P.attachment,ae=null!==(r=null==ie||null===(n=ie.properties)||void 0===n?void 0:n.focalPoint)&&void 0!==r?r:f.a,ce=Object(f.h)(null===(c=M.fields)||void 0===c?void 0:c.alignment,P.type);Object(i.useEffect)(()=>{if(!X.current)return null;te(X.current.clientHeight);var e=()=>{X.current&&te(X.current.clientHeight)};return window.addEventListener("resize",e,!0),()=>window.removeEventListener("resize",e,!0)},[null===(l=X.current)||void 0===l?void 0:l.clientHeight]);var le="header-counter-".concat(y);ot(X.current,I);var se=h&&(w||!Object(o.m)()),ue=v&&T?"".concat(T,"."):T;return a.a.createElement(Le.a,{layoutType:oe,breakpoint:re,dataQa:"blocktype-".concat(q," deep-purple-blocktype-").concat(q),id:y,isActive:w,isAnswered:k,isShaking:w&&S,isVisible:se,ref:ze(t,X),layoutPlacement:P.placement},a.a.createElement(rt,{blockRef:y,endAutoScroll:C,scrollerRef:$,isActive:w,onChangeCanSwipe:x,onRequireStickyHeader:R,onScroll:A,onKeyDown:_,isScrollNearTop:E,scrolling:D},a.a.createElement(Ve.a,{attachmentFocalPoint:ae,attachmentHref:null==ie?void 0:ie.href,attachmentType:null==ie?void 0:ie.type,attachmentScale:null==ie?void 0:ie.scale,attachmentAlt:null==ie||null===(s=ie.properties)||void 0===s?void 0:s.description,breakpoint:re,description:O&&a.a.createElement(V.a,{align:ce,"aria-hidden":ne?"true":null,type:L.i.blockDescription,color:null==M||null===(u=M.colors)||void 0===u?void 0:u.primary,htmlTag:"p",dataQa:"block-description",id:Object(B.b)(G)},O),isActive:w,isFieldset:ne,layoutType:oe,pexelsApiKey:"563492ad6f9170000100000155494c9d9440421cbf19eb5eaac4615e",outerHeight:ee,required:null==Y?void 0:Y.required,textAlign:ce,title:a.a.createElement(Me.a,{title:a.a.createElement(We,{required:null==Y?void 0:Y.required,blockRef:y,t:e.t,id:H,htmlFor:K,htmlTag:z},U),color:null==M||null===(d=M.colors)||void 0===d?void 0:d.primary,required:null==Y?void 0:Y.required,counterId:le,counterIcon:v&&T?null:W,counterColor:null==M||null===(p=M.colors)||void 0===p?void 0:p.secondary,counterContent:ue,textAlign:ce}),counterContent:ue,titleText:U,descriptionText:O,isVideoPlaying:Q,onVideoClick:Z},j&&a.a.createElement(N.b,{align:"center",space:1},a.a.createElement(Ke.b,{color:M.colors.secondary,position:"left",svg:He.a}),a.a.createElement(J.a,{color:M.colors.secondary},F("block.content.encrypted"))),g)))});it.displayName="BlockWrapper",it.defaultProps={theme:{colors:{primary:o.b,secondary:o.b}},titleCounterIcon:Ne.COUNTER_ICONS.ARROW,validations:{},description:s.a.oneOfType([s.a.string,s.a.array]),onScroll:T.a};var at=it,ct=r(63),lt=r(97),st=(e,t,r)=>e!==S.l||Object(ct.j)(r)||Object(ct.h)(r)||Object(ct.k)(r)?e===S.l&&t&&t<=r.target.value.length&&!Object(ct.h)(r)||e===S.u&&t&&t<=r.target.value.length&&!Object(ct.h)(r)||e===S.i&&t&&t<=r.target.value.length&&!Object(ct.h)(r)?(r.preventDefault(),{blocked:!0,error:new lt.a("maxLength")}):{blocked:!1}:(r.preventDefault(),{blocked:!0,error:new lt.f}),ut=(e,t)=>{var r=t.nativeEvent||t,n=Object(ct.o)([ct.c,ct.a,ct.h],r,t.target);Object(ct.e)(r)&&(n=!1),S.l===e&&Object(ct.g)(t)&&t.preventDefault(),n&&t.stopPropagation()},dt=(e,t)=>{var r,n=null===(r=t.clipboardData)||void 0===r?void 0:r.types;if(n){var o=n instanceof DOMStringList&&n.contains("text/html")||n.includes("text/html"),i=n instanceof DOMStringList&&n.contains("text/plain")||n.includes("text/plain");if(o||i){var a="";if(t.clipboardData&&(a=t.clipboardData.getData("text/html")||t.clipboardData.getData("text/plain")),e&&e<a.length)return{blocked:!0,error:new lt.a("maxLength")}}}return{}},pt=r(40),bt=e=>{var[t,r]=Object(i.useState)(!1),n=Object(i.useRef)();function o(){clearTimeout(n.current)}return[t,function(t){r(t),o(),t&&(n.current=setTimeout(()=>r(!1),e))},o]},ht=["INPUT","TEXTAREA","LI","SELECT","BUTTON"],mt=["radio"],ft=a.a.createContext();ft.displayName="GlobalEventListenerContext";var yt=e=>{var{areGlobalListenersDisabled:t,children:r,commonHandleKeydown:n}=e,o=Object(i.useRef)(null);return Object(i.useEffect)(()=>{if(t)return()=>{};var e=e=>{var t,r=e.target.nodeName,i=(null===(t=e.target.attributes)||void 0===t?void 0:t.getNamedItem("role"))&&e.target.attributes.getNamedItem("role").value,a=e.target.hasAttribute("aria-haspopup"),c=ht.includes(r)||mt.includes(i)||a;if(!c){var l,s=null===(l=o.current)||void 0===l?void 0:l.onGlobalKeyDown;s&&s(e)}n(e,c)};return window.addEventListener("keydown",e),()=>{window.removeEventListener("keydown",e)}},[t,n]),a.a.createElement(ft.Provider,{value:e=>{t||(o.current={onGlobalKeyDown:e})}},r)},vt=(e,t)=>{var r=Object(i.useContext)(ft);Object(i.useEffect)(()=>{e&&r(t)},[e,t])},gt=ft.Consumer;gt.displayName="GlobalEventListenerContextConsumer";var Ot=e=>function(t){return t.isLivePreview?a.a.createElement(e,t):a.a.createElement(gt,null,r=>a.a.createElement(e,_()({},t,{updateGlobalEventListenerRef:r})))},jt=(e,t)=>e.isActive||t.isActive||e.isCommitted!==t.isCommitted||e.layoutItemsSize!==t.layoutItemsSize,Ct=(e,t)=>!jt(e,t),wt=e=>{var{blockRef:t,validationError:r,isActive:n,isCommitted:c,isValid:l,layout:s,layoutItemsSize:u,onCommitAnswer:d,onInputBlur:p,onInputFocus:b,onRequireStickyFooter:h,onStageAnswer:m,placeholder:f,submitForm:y,t:v,theme:g,title:O,type:j,uniqueId:C,validations:w,hasDescription:k}=e,[E,S,I]=bt(Y.i),[P,T,x]=bt(Y.b),[R,F]=Object(i.useState)(""),N=Object(i.useRef)(),M=Object(i.useRef)(),H=N.current===document.activeElement,K=c&&!l||P,z=Object(B.a)({uniqueId:C,isErrorMessageVisible:K,hasDescription:k,hasInputInstructions:!0});Object(i.useEffect)(()=>()=>{I(),x()},[]);var U=Object(i.useCallback)(e=>{ut(j,e),Object(o.m)()||!Object(ct.h)(e)||Object(ct.l)(e)||Object(ct.f)(e)||(e.preventDefault(),n&&d(t,e))},[t,n,d,j]);vt(n,U);var W=e.value.length>0?e.value[0]:"";return a.a.createElement(at,_()({},e,{isShaking:E,titleFor:C,titleTag:"label",titleText:O,scrollerRef:M}),a.a.createElement(A.a,{ariaDescribedBy:z,placeholder:v(f),maxLength:w.maxLength,onChange:function(e){if(n){var r=e.target.value;w.maxLength&&(r=r.slice(0,w.maxLength)),m(t,r,e)}},onResize:function(e){var t=e.target.value;t.split("\n").length-t.substr(0,e.target.selectionStart).split("\n").length<=3&&n&&!Object(pt.c)()&&(M.current.scrollTop=M.current.scrollHeight)},onKeyDown:U,onKeyPress:function(e){var{blocked:t,error:r}=st(j,w.maxLength,e);S(t),T(t),F(r)},onPaste:function(e){var{blocked:t,error:r}=dt(w.maxLength,e);S(t),T(t),F(r)},onFocus:function(){Object(o.m)()&&(b(),Object(pt.c)()||setTimeout(()=>{M.current.scrollTop=M.current.scrollHeight},700))},onBlur:p,innerRef:N,id:C,value:W,color:g.colors.secondary}),!Object(o.m)()&&a.a.createElement(D.a,{top:L.p.topHint},a.a.createElement(V.a,{color:g.colors.secondary,fontWeight:"regular",htmlTag:"p",id:Object(B.d)(C),type:L.i.answerHint},Object(G.a)(v("block.longText.hint")))),a.a.createElement(Fe,{buttonColor:g.colors.button,helperColor:g.colors.primary,backgroundColor:g.colors.background,errorMessageId:Object(B.c)(C),blockError:P?R:r,isErrorMessageVisible:K,onRequireStickyFooter:h,blockRef:t,onClick:function(e){var r=H&&Object(o.m)();N.current&&r&&N.current.blur(),e.stopPropagation(),e.persist(),setTimeout(()=>{n&&d(t,e)},r?700:0)},layout:s,layoutItemsSize:u,submitForm:y}))};wt.defaultProps={onCommitAnswer:T.a,onStageAnswer:T.a,t:T.a,theme:{colors:{backgroundColor:o.b,button:o.b,primary:o.b,secondary:o.b}},validations:{maxLength:null},value:[]};var kt=Object(i.memo)(wt,Ct),Et=r(239),St=r.n(Et),It=r(25),Pt=r(118),Tt=e=>{e.preventDefault(),e.stopPropagation()},xt=(e,t,r)=>{var n=t.nativeEvent;if(null!=n&&n.inputType)return!1;var o=(new Date).getTime();if(e&&(e.key&&"Unidentified"!==e.key||"paste"===e.type)&&o-e.timestamp<500)return!1;var i=t.target.value||"";return!(""===i||i.length+1<=r.length||i.replace(r,"").length<2)},_t="year",Rt="month",At="day",Dt={[_t]:"bday-year",[Rt]:"bday-month",[At]:"bday-day"},Bt=c.d.div.withConfig({displayName:"date-input__Root",componentId:"sc-1e3716c-0"})(["display:flex;align-items:baseline;width:fit-content;",";"],e=>e.textAlign===f.e.CENTER?"margin:auto":""),Ft=Object(c.d)(St.a).withConfig({displayName:"date-input__DayInput",componentId:"sc-1e3716c-1"})(["width:calc(2ch * 1.1);@media all and (-ms-high-contrast:none),(-ms-high-contrast:active){width:calc(2em);}"]),Vt=Object(c.d)(St.a).withConfig({displayName:"date-input__YearInput",componentId:"sc-1e3716c-2"})(["width:calc(4ch * 1.1);@media all and (-ms-high-contrast:none),(-ms-high-contrast:active){width:calc(4em);}"]),Lt=Object(c.d)(St.a).withConfig({displayName:"date-input__MonthInput",componentId:"sc-1e3716c-3"})(["width:calc(2ch * 1.1);@media all and (-ms-high-contrast:none),(-ms-high-contrast:active){width:calc(2em);}"]),Nt=Object(c.d)(D.b).withConfig({displayName:"date-input__Separator",componentId:"sc-1e3716c-4"})(["align-self:flex-end;"]),Mt=e=>Math.floor(Math.log10(e))+1,Ht={[_t]:Vt,[Rt]:Lt,[At]:Ft},Kt={[_t]:"block.date.label.year",[Rt]:"block.date.label.month",[At]:"block.date.label.day"},zt={[_t]:9999,[Rt]:12,[At]:31},Ut={[Rt]:"00",[At]:"00"},Wt=(e,t)=>Math.min(zt[e],Math.max(0,t)),qt=e=>{var{autoComplete:t,ariaDescribedBy:r,color:n,dayValue:o,id:c,isActive:l,monthValue:s,onDayChange:u,onEnterKey:d,onInvalidInput:p,onMonthChange:b,onYearChange:h,order:m,readOnly:f,separator:y,textAlign:v,t:g,yearValue:O}=e,j=Object(i.useRef)(),C=Object(i.useRef)(),w=Object(i.useRef)(),k={[_t]:j,[Rt]:C,[At]:w},E={[_t]:O,[Rt]:s,[At]:o},S={[_t]:h,[Rt]:b,[At]:u},I=e=>t=>{var r=t.target.value,n=parseInt(r,10);!isNaN(n)&&r.match(/^[0-9]+$/)||""===r?""===r||((e,t)=>{var r=parseInt(t,10),n=Mt(zt[e]);return!((null==t?void 0:t.length)>n||t===Ut[e])&&(r>=0&&r<=zt[e])})(e,r)?S[e](r,t):p(new lt.e):p(new lt.f)},P=e=>t=>{"0"===t.target.value&&e!==_t&&p(new lt.e)},T=Object(i.useCallback)(e=>t=>{if(e){var r=parseInt(E[e]||0,10);if(Object(ct.b)(t))return Tt(t),void S[e](Wt(e,r-1).toString());if(Object(ct.d)(t))return Tt(t),void S[e](Wt(e,r+1).toString())}Object(ct.h)(t)&&!Object(ct.f)(t)&&(t.preventDefault(),d(t))},[S,d]);return vt(l,T(null)),a.a.createElement(Bt,{textAlign:v},[m[0],"separator",m[1],"separator",m[2]].map((e,o)=>{if("separator"===e)return a.a.createElement(Nt,{key:o,bottom:1,left:"/"===y?2.5:1.5,right:"/"===y?2:1.5},a.a.createElement(V.a,{type:L.i.inputText,color:n},y));var l=Ht[e],s=(e=>"bday"===t?Dt[e]:null)(e);return a.a.createElement(i.Fragment,{key:o},a.a.createElement(It.e,{vertical:!0},a.a.createElement(D.b,{bottom:1},a.a.createElement(J.a,{color:n,htmlFor:"".concat(c,"-").concat(e),htmlTag:"label",size:"sizeN1"},g(Kt[e]))),a.a.createElement(l,{"aria-describedby":r,autoComplete:s,color:n,dataQa:"date-input-".concat(e.toLowerCase()),getRef:k[e],inputId:"".concat(c,"-").concat(e),inputType:"text",isReadOnly:f,maxDigits:Mt(zt[e]),name:s,onChange:I(e),onBlur:P(e),onKeyDown:T(e),tabIndex:f?-1:null,value:E[e]})))}))};qt.defaultProps={colors:o.b,onDayChange:T.a,onMonthChange:T.a,onYearChange:T.a,order:[At,Rt,_t],t:e=>e,dayValue:"",monthValue:"",yearValue:""};var Gt=Object(Pt.a)(qt),Yt=c.d.div.withConfig({displayName:"mobile-date-input__InputWrapper",componentId:"dshvny-0"})(["position:relative;"]),Qt=c.d.input.withConfig({displayName:"mobile-date-input__GhostInput",componentId:"dshvny-1"})(["position:absolute;width:100%;height:100%;top:0;left:0;opacity:0;min-width:100%;"]),Jt=e=>{var{ariaDescribedBy:t,color:r,dayValue:n,id:o,monthValue:i,onDateChange:c,order:l,separator:s,textAlign:u,yearValue:d}=e;return a.a.createElement(Yt,null,a.a.createElement("div",{"aria-hidden":!0},a.a.createElement(Gt,{color:r,dayValue:n,id:o,monthValue:i,order:l,readOnly:!0,separator:s,textAlign:u,yearValue:d})),a.a.createElement(Qt,{"aria-describedby":t,onChange:e=>{var t=e.target.value;c(t,e)},type:"date"}))};Jt.defaultProps={onDateChange:T.a,onInputBlur:T.a,onInputFocus:T.a,t:T.a};var Zt=Jt,$t={MMDDYYYY:[Rt,At,_t],DDMMYYYY:[At,Rt,_t],YYYYMMDD:[_t,Rt,At]},Xt=e=>{var{autoComplete:t,blockRef:r,validationError:n,isCommitted:c,isValid:l,layout:s,layoutItemsSize:u,onCommitAnswer:d,onStageAnswer:p,separator:b,submitForm:h,structure:m,textAlign:f,theme:y,uniqueId:v,isActive:g}=e,[O,j,C]=bt(Y.i),[w,k,E]=bt(Y.b),[S,I]=Object(i.useState)(""),P=e.value&&e.value[0]||"",[T="",x="",R=""]=P.split("-"),A="".concat(v,"-error-message"),D=c&&!l||w;Object(i.useEffect)(()=>()=>{C(),E()},[]);var B=(e,t,n,o)=>{var i="".concat(e,"-").concat(t,"-").concat(n);""===e&&""===t&&""===n&&(i=null),p(r,i,o)};return a.a.createElement(at,_()({},e,{titleTag:"legend",titleText:e.title,isShaking:O}),Object(o.m)()?a.a.createElement(Zt,{ariaDescribedBy:D?A:null,id:v,onDateChange:(e,t)=>{p(r,e,t)},order:$t[m],dayValue:R,monthValue:x,yearValue:T,separator:b,textAlign:f,color:y.colors.secondary}):a.a.createElement(Gt,{autoComplete:t,ariaDescribedBy:D?A:null,id:v,onEnterKey:e=>{j(!1),k(!1),d(r,e)},order:$t[m],dayValue:R,monthValue:x,yearValue:T,separator:b,textAlign:f,onDayChange:(e,t)=>{B(T,x,e,t)},onMonthChange:(e,t)=>{B(T,e,R,t)},onYearChange:(e,t)=>{B(e,x,R,t)},color:y.colors.secondary,onInvalidInput:e=>{I(e),j(!0),k(!0)},isActive:g}),a.a.createElement(Fe,{blockRef:r,errorMessageId:A,blockError:w?S:n,isErrorMessageVisible:D,layout:s,layoutItemsSize:u,onClick:e=>{e.stopPropagation(),d(r,e)},submitForm:h}))};Xt.defaultProps={onCommitAnswer:T.a,onStageAnswer:T.a,submitForm:T.a,t:T.a,theme:{colors:{secondary:o.b}},value:[]};var er=Xt,tr=r(64),rr=r.n(tr),nr=r(234),or=r(510),ir=r(254);function ar(e){return new Promise((t,r)=>{var n=new window.FileReader;n.onload=e=>t(e.target.result),n.onerror=r,n.readAsDataURL(e)})}var cr=["image/png","image/gif","image/jpeg","image/svg+xml"],lr=e=>cr.some(t=>e===t),sr=e=>{var{validationError:t,isCommitted:r,isValid:n,title:o,theme:c,layout:l,layoutItemsSize:s,isActive:u,isLivePreview:d,onCommitAnswer:p,blockRef:b,onStageAnswer:h,uniqueId:m,value:f,hasDescription:y,submitForm:v}=e,[g,O]=Object(i.useState)(),[j,C]=Object(i.useState)(!1),[w,k]=Object(i.useState)(0),[E,S]=Object(i.useState)(!1),I=f&&f.length>0?f[0]:void 0,P=!!g||r&&!n,T=Object(B.a)({uniqueId:m,isErrorMessageVisible:P,hasDescription:y}),x=j?or.a.UPLOADING:I?or.a.PREVIEW:or.a.INPUT,R=Object(i.useRef)(null),A=e=>{e.stopPropagation(),u&&p(b,e)},D=Object(i.useCallback)(e=>{E?Object(ct.h)(e)&&!Object(ct.f)(e)&&(e.stopPropagation(),A(e)):e.stopPropagation()},[E,A]);vt(u,D);var F=e=>{k(e)},V=e=>{h(b,{value:e,label:e.name}),C(!1),R.current&&R.current.focus()},L=function(){var e=rr()((function*(e){try{yield N(e)}catch(e){(e=>{C(!1);var t="file-size-exceeded"===(e&&e.message)?new lt.c:new lt.d;O(t)})(e)}}));return function(t){return e.apply(this,arguments)}}(),N=function(){var t=rr()((function*(t){C(!0),k(0),O(null);var{formId:r,id:n}=e,o=yield Object(ir.b)(r,n),i=o.max_size||o.maxSize;if(t.size>i)throw new Error("file-size-exceeded");var a=yield Object(ir.e)(t,o,F),c=lr(t.type)?yield ar(t):null;V({name:t.name,type:t.type,s3Filename:a,blob:c})}));return function(e){return t.apply(this,arguments)}}(),M=function(){var e=rr()((function*(e){C(!0),k(0),O(null);var t=lr(e.type)?yield ar(e):null;V({name:e.name,type:e.type,s3Filename:"",blob:t})}));return function(t){return e.apply(this,arguments)}}();return a.a.createElement(at,_()({},e,{titleFor:m,titleTag:"label",titleText:o,onKeyDown:D}),a.a.createElement(nr.a,{onEnter:()=>S(!0),onLeave:()=>S(!1)},a.a.createElement("div",null,a.a.createElement(or.b,{ariaDescribedBy:T,fileBlob:I&&I.blob,handleCancel:()=>{h(b,null),R.current&&(R.current.value=null,R.current.focus())},handleChange:e=>{var{files:t}=e.target;d?M(t[0]):t.length&&L(t[0])},handleDrop:e=>{var t=e.dataTransfer.files;d?M(t[0]):L(t[0])},handleKeyDown:e=>{Object(ct.h)(e)&&!Object(ct.f)(e)&&e.stopPropagation()},inputId:m,isActive:u,originalFileName:I&&I.name,phase:x,uploadProgress:w,value:I,theme:c,ref:R,primaryColor:c.colors.primary,secondaryColor:c.colors.secondary}),a.a.createElement(Fe,{blockRef:b,blockError:g||t,errorMessageId:Object(B.c)(m),hideHelperText:!0,isErrorMessageVisible:P,layout:l,layoutItemsSize:s,onClick:A,submitForm:v}))))};sr.defaultProps={file:{},onCommitAnswer:T.a,onStageAnswer:T.a,submitForm:T.a,theme:{colors:{primary:"#FF00FF",secondary:"#FF00FF"}}};var ur=sr,dr=r(267),pr=r(512),br=r(233),hr=r(275),mr=r(311),fr=r.n(mr),yr=r(312);function vr(e){return e>="a"&&e<="z"}var gr="ABCDEFGHIJKLMNOPQRSTUVWXYZ",Or=e=>{var t=Math.floor(e%gr.length);return gr[t]};var jr=function e(t){return t>=gr.length?e(Math.floor(t/gr.length)-1)+Or(t):Or(t)},Cr=e=>{var t,r;if(null===(t=window)||void 0===t||null===(r=t.location)||void 0===r||!r.hash)return null;var n=window.location.hash.match(new RegExp("answers-".concat(e.replace(/[.*+\-?^${}()|[\]\\]/g,"\\$&"),"=([^&]+)")));return n?n[1].split(",").map(decodeURIComponent).map(e=>isNaN(e)?e:parseInt(e,10)):null},wr=e=>new Promise(t=>setTimeout(t,e)),kr=()=>wr(Y.a),Er=()=>wr(Y.c),Sr=c.d.div.withConfig({displayName:"dummy-list__Hidden",componentId:"sc-1bh6md0-0"})(["opacity:0;pointer-events:none;position:absolute;height:1px;overflow-y:scroll;"]),Ir=C()(JSON.stringify,e=>{var{choices:t,t:r}=e;return t.map(e=>({label:r(e.label),ref:e.ref}))}),Pr=e=>{var{choices:t,t:r,allowOtherChoice:n,otherValue:o,vertical:c,onLongestChoiceWidthChanged:l,theme:s}=e,u=Object(i.useRef)(),d=Object(i.useRef)();return Object(i.useEffect)(()=>{if(u.current){var e=u.current.clientWidth;d.current!==e&&(d.current=e,l(e))}},[t,r,s]),a.a.createElement(Sr,{tabIndex:-1,ref:u},Ir({choices:t,t:r}).map(e=>a.a.createElement(br.a,{tabIndex:-1,key:e.ref,keyHelperLetter:"MM"},a.a.createElement(V.a,{type:L.i.multipleChoiceLabel},e.label))),n&&c&&a.a.createElement(br.a,{tabIndex:-1,title:o,keyHelperLetter:"MM"}))},Tr=Object(i.memo)(Pr),xr=r(313),_r=r(104),Rr=e=>{var{ChoiceComponent:t,value:r,selected:n,t:o,keyHelperLetter:c,fontSizeType:l,theme:s,onInputBlur:u,onInputFocus:d,onChange:p,onCommit:b,isEditing:h,setIsEditing:m}=e,f=E()(e,["ChoiceComponent","value","selected","t","keyHelperLetter","fontSizeType","theme","onInputBlur","onInputFocus","onChange","onCommit","isEditing","setIsEditing"]),y=Object(i.useRef)(),v=Object(i.useRef)();Object(_r.a)(()=>{h?v.current&&v.current.focus():y.current&&y.current.focus()},[h]);var g=e=>{b(e),m(!1)};return h?a.a.createElement(t,_()({},f,{tagName:"div",role:void 0,tabIndex:-1,selectable:!1,onBlur:e=>{var t,r;null!==(t=y.current)&&void 0!==t&&t.contains(null==e?void 0:e.relatedTarget)||null!==(r=y.current)&&void 0!==r&&r.contains(null==e?void 0:e.currentTarget)||m(!1)},ref:y}),a.a.createElement(xr.a,{value:r,dataQa:"other-choice-editor",dataQaInput:"other-choice-editor/input",dataQaButton:"other-choice-editor/button",ref:v,color:s.colors.secondary,onFocus:d,onBlur:u,onChange:e=>{e.preventDefault(),e.stopPropagation(),p(e.target.value,e)},onKeyDown:e=>{e.stopPropagation(),Object(ct.h)(e)&&g(e),Object(ct.i)(e)&&m(!1)},onEditConfirm:g,fontSizeType:l})):a.a.createElement(t,_()({},f,{selected:n,keyHelperHint:o("label.hint.key"),keyHelperLetter:c,onClick:()=>{m(!0)},ref:y}),a.a.createElement(V.a,{type:l},r||o("block.multipleChoice.other")))};class Ar extends i.Component{constructor(e){super(e),O()(this,"errorMessageRef",a.a.createRef()),O()(this,"letterShortcutBuffer",a.a.createRef()),O()(this,"letterShortcutTimeout",a.a.createRef()),O()(this,"getBlockNode",e=>this.blockNode=e),O()(this,"setIsOtherChoiceEditing",e=>{this.setState({isOtherChoiceEditing:e})}),O()(this,"resetKeyboardHoveredIndex",()=>(this.setState({keyboardHoveredIndex:-1}),!0)),O()(this,"handleOtherChoiceChange",(e,t)=>{if(e){if(Object(o.m)()&&!Object(pt.c)()){var{recenter:r}=this.props;r("bottom","bottom")}this.setState({otherValue:e})}else this.unstageOtherChoice(t)}),O()(this,"handleContentEntersViewport",()=>{this.setState({contentInViewport:!0})}),O()(this,"handleContentLeavesViewport",()=>{this.setState({contentInViewport:!1})}),O()(this,"handleKeyDown",e=>{var{keyboardShortcutType:t}=this.props;if(this.state.contentInViewport&&!Object(ct.f)(e)){if((Object(ct.h)(e)||Object(ct.m)(e))&&e.stopPropagation(),"letter"===t&&vr(null==e?void 0:e.key))return null===this.letterShortcutBuffer.current?(this.letterShortcutBuffer.current=[e.key],e.persist&&e.persist(),this.letterShortcutTimeout.current=setTimeout(()=>this.handleLetterKeyboardShortcut(e),Y.e)):this.letterShortcutBuffer.current=[...this.letterShortcutBuffer.current,e.key],e.preventDefault(),void e.stopPropagation();if(null!==this.letterShortcutTimeout.current&&(clearTimeout(this.letterShortcutTimeout.current),this.letterShortcutTimeout.current=null),"firstCharacter"===t&&vr(null==e?void 0:e.key))return this.handleFirstCharacterShortcut(e),e.preventDefault(),void e.stopPropagation();"custom"===t&&vr(null==e?void 0:e.key)&&(this.handleCustomCharacterShortcut(e),e.preventDefault(),e.stopPropagation())}}),O()(this,"handleOtherChoiceCommit",e=>{this.stageOtherChoice(this.state.otherValue,e)}),O()(this,"handleSelect",(e,t)=>{var{onStageAnswer:r,allowMultipleSelection:n,value:o}=this.props,i=o||[];if(e!==this.getOtherChoiceRef()){var a,c=i.includes(e);if(c||this.canSelectMoreChoices())a=n?c?i.filter(t=>t!==e):[...i,e]:c?[]:[e],r(this.props.blockRef,a,t),n||c||(t.persist&&t.persist(),setTimeout(()=>{this.handleCommitAnswer(t)},Y.c))}else this.setIsOtherChoiceEditing(!0)}),O()(this,"handleLongestChoiceWidthChanged",e=>{this.setState({longestChoiceWidth:e})}),O()(this,"handleColumnsChanged",e=>{this.renderedColumns=e}),O()(this,"handleCommitAnswer",e=>{this.props.onCommitAnswer(this.props.blockRef,e)}),this.state={isOtherChoiceEditing:!1,keyboardHoveredIndex:-1,longestChoiceWidth:null,otherValue:this.getOtherValue(),contentInViewport:!1},this.renderedColumns=1,this.firstCharacterShortcuts=[],this.otherChoiceTimeout=null,this.commitAnswerTimeout=null}componentDidMount(){this.props.isActive&&this.props.updateGlobalEventListenerRef(this.handleKeyDown),this.prefillAnswer(),this.fillOtherValueWithPartial()}UNSAFE_componentWillReceiveProps(e){var t=this.state.keyboardHoveredIndex>=0;this.props.isActive&&e.isActive||t&&this.resetKeyboardHoveredIndex()}shouldComponentUpdate(e,t){return Object(o.m)()&&e.isCommitted&&!this.props.isCommitted&&!e.isValid&&setTimeout(()=>{this.errorMessageRef.current.focus()},100),jt(this.props,e)||this.state.longestChoiceWidth!==t.longestChoiceWidth||e.choices!==this.props.choices}componentDidUpdate(e){(this.props.isActive&&!e.isActive&&this.props.updateGlobalEventListenerRef(this.handleKeyDown),this.props.isActive)?(this.prefillAnswer(),e.choices.length!==this.props.choices.length&&this.props.recenter()):(e.theme,this.props.theme)}componentWillUnmount(){clearTimeout(this.otherChoiceTimeout),clearTimeout(this.commitAnswerTimeout),clearTimeout(this.letterShortcutTimeout)}getChoicesLength(){var{choices:e,allowOtherChoice:t}=this.props;return t?e.length+1:e.length}getOtherValue(){var{choices:e,value:t}=this.props;return t&&t.find(t=>!(t=>e.map(e=>e.ref).includes(t))(t))}getOtherChoiceRef(){return"".concat(this.props.blockRef,"-other")}getPositionRef(e){var t;return this.props.allowOtherChoice&&e===this.getChoicesLength()-1?this.getOtherChoiceRef():null===(t=this.props.choices[e])||void 0===t?void 0:t.ref}prefillAnswer(){var e=this;return rr()((function*(){var{allowMultipleSelection:t,allowOtherChoice:r,blockRef:n,choices:o,hasBeenInteractedWith:i,isActive:a,onCommitAnswer:c,onStageAnswer:l,value:s,isFirstBlock:u}=e.props,d=Cr(n),p=s&&s.some(Boolean);if(d){var b=o.map(e=>e.ref);r&&b.push(e.getOtherChoiceRef());var h=d.map(e=>["yes","no","other"].includes(e)?"".concat(n,"-").concat(e):e).filter(e=>b.includes(e)),m=h.length>0?h:null,f=h.includes(e.getOtherChoiceRef());a&&!p&&!i&&m&&(yield kr(),l(n,t?m:[m[0]],null,{isFromPrefilledAnswer:!0}),!u||t||f||(yield Er(),c(n,null,{isFromPrefilledAnswer:!0})),f&&(e.otherChoiceTimeout=setTimeout(()=>e.setIsOtherChoiceEditing(!0),Y.a)))}}))()}fillOtherValueWithPartial(){var{partialResponse:e,choices:t,allowOtherChoice:r}=this.props;if(e){var n=t.map(e=>e.ref),o=e.find(e=>!n.includes(e));if(o){var i=this.state.otherValue&&this.state.otherValue[0];r&&o!==i&&this.setState({otherValue:o})}}}createKeyShortcut(e,t,r){var{keyboardShortcutType:n}=this.props;if("letter"===n)return jr(e);if("firstCharacter"===n){var o=t.charAt(0).toUpperCase();return this.firstCharacterShortcuts.push(o),o}return"custom"===n?this.props.t(r):void 0}handleLetterKeyboardShortcut(e){var t=this.letterShortcutBuffer.current.length,r=this.letterShortcutBuffer.current.join("").toUpperCase(),n=r.charCodeAt(t-1)-65;2===t&&(n+=26*(r.charCodeAt(0)-65+1));var o=this.getPositionRef(n);this.handleKeyboardSelect(o,e),this.letterShortcutBuffer.current=null}handleFirstCharacterShortcut(e){var t=this.firstCharacterShortcuts.findIndex(t=>(null==e?void 0:e.key.toUpperCase())===t.toUpperCase()),r=this.getPositionRef(t);this.handleKeyboardSelect(r,e)}handleCustomCharacterShortcut(e){var{choices:t,t:r}=this.props,n=t.find(t=>{var{keyboardShortcut:n}=t;return r(n)===(null==e?void 0:e.key.toUpperCase())});this.handleKeyboardSelect(null==n?void 0:n.ref,e)}removeStagedOtherChoice(e){return e.filter(e=>e!==this.getOtherValue())}unstageOtherChoice(e){var{onStageAnswer:t,value:r,allowMultipleSelection:n,blockRef:o}=this.props,i=r||[];t(o,n?this.removeStagedOtherChoice(i):[],e),this.setState({otherValue:""})}stageOtherChoice(e,t){var{onStageAnswer:r,value:n,allowMultipleSelection:o,blockRef:i}=this.props,a=n||[],c=(o?[...this.removeStagedOtherChoice(a),e]:[e]).filter(Boolean);r(i,c,t),c.length&&!o&&(t.persist&&t.persist(),this.commitAnswerTimeout=setTimeout(()=>{this.handleCommitAnswer(t)},Y.c))}hoverNextRow(){return this.changeKeyboardHoveredIndex(this.state.keyboardHoveredIndex>=0?this.state.keyboardHoveredIndex+this.renderedColumns:0)}hoverPreviousRow(){return this.changeKeyboardHoveredIndex(this.state.keyboardHoveredIndex-this.renderedColumns)}hoverNextStep(){return this.changeKeyboardHoveredIndex(this.state.keyboardHoveredIndex+1)}hoverPreviousStep(){return this.changeKeyboardHoveredIndex(this.state.keyboardHoveredIndex-1)}changeKeyboardHoveredIndex(e){return e>=this.getChoicesLength()||(e<0||(this.setState({keyboardHoveredIndex:e}),this.props.scrollToChoice(this.getPositionRef(e)),!1))}handleKeyboardSelect(e,t){e?e!==this.getOtherChoiceRef()?this.handleSelect(e,t):this.setIsOtherChoiceEditing(!0):this.handleCommitAnswer()}canSelectMoreChoices(){var{value:e,validations:t}=this.props,{maxSelection:r}=t;return!r||(e||[]).length<r}render(){var{allowMultipleSelection:e,allowOtherChoice:t,choices:r,validationError:n,isActive:i,isCommitted:c,isValid:l,layout:s,onInputBlur:u,showLabels:d,submitForm:p,supersized:b,t:h,textAlign:m,theme:f,title:y,uniqueId:v,validations:g,value:O,verticalAlignment:j,withImage:C}=this.props,{otherValue:w,isOtherChoiceEditing:k}=this.state,{minSelection:E,maxSelection:S}=g,I=this.getChoicesLength(),P=O||[],T=i?this.state.keyboardHoveredIndex:null,x=!this.canSelectMoreChoices(),R=!j&&!this.props.longestChoiceWidth,A=this.props.longestChoiceWidth||this.state.longestChoiceWidth,F=c&&!l&&!k,V=C?hr.a:br.a,N=!!this.getOtherValue(),M=Object(B.a)({isErrorMessageVisible:F,hasInputInstructions:Boolean(e&&i),uniqueId:v}),H={superSizedImage:b,choiceRef:this.getOtherChoiceRef(),color:f.colors.secondary,contextBackgroundColor:f.colors.background,tagName:"li"},K={dataQa:"other-choice",selected:N,imageSvg:yr.a,choiceRef:this.getOtherChoiceRef(),disabled:x&&!this.getOtherValue()},z=r.map(e=>e.ref);t&&z.push(this.getOtherChoiceRef());var U=e=>{var t,r;return null!==(t=e.attachment)&&void 0!==t&&null!==(r=t.properties)&&void 0!==r&&r.description?e.attachment.properties.description:d?"":h(e.label)},W=C?L.i.pictureChoiceAndRatingLabel:L.i.multipleChoiceLabel;return a.a.createElement(at,_()({},this.props,{titleFor:v,titleTag:"legend",titleText:y,onKeyDown:this.handleKeyDown}),r&&a.a.createElement(nr.a,{onEnter:this.handleContentEntersViewport,onLeave:this.handleContentLeavesViewport},a.a.createElement(D.a,{top:L.p.topMultipleChoiceBlockContent,ref:this.getBlockNode},e&&i&&a.a.createElement(a.a.Fragment,null,a.a.createElement(fr.a,{color:f.colors.secondary,id:Object(B.d)(v),maxSelection:S,minSelection:E,selectionCount:P.length})),R&&a.a.createElement(Tr,{theme:f,onLongestChoiceWidthChanged:this.handleLongestChoiceWidthChanged,choices:r,t:h,allowOtherChoice:t,otherValue:w,vertical:j}),a.a.createElement(pr.b,{onSelectChange:this.handleSelect,options:z,multiSelectable:e},a.a.createElement(dr.a,{onChangeColumns:this.handleColumnsChanged,vertical:j,longestChoiceWidth:A,withImage:C,textAlign:m},r.map((e,t)=>{var r=d&&Object(G.a)(h(e.label)),n=this.createKeyShortcut(t,e.label,e.keyboardShortcut),i=r||h("block.multipleChoice.label.keyhelper",{x:n}),c=P.includes(e.ref);return a.a.createElement(pr.a,{ariaDescribedBy:M,"aria-label":C?i:null,key:e.ref,selected:c,index:t},i=>{var l;return a.a.createElement(V,_()({},i,H,{dataQa:"choice",dataQaIndex:t,choiceRef:e.ref,hovered:T===t,selected:c,disabled:x&&!c,onClick:this.handleSelect,keyHelperHint:h("label.hint.key"),keyHelperLetter:n,isCropped:e.isCropped,imageHref:null===(l=e.attachment)||void 0===l?void 0:l.href,imageAlt:U(e),label:r,withKeyHelperHint:!Object(o.m)()}))})}),t&&a.a.createElement(pr.a,{ariaDescribedBy:M,selected:N,index:r.length},(e,t)=>a.a.createElement(Rr,_()({},e,H,K,{ChoiceComponent:V,keyHelperLetter:this.createKeyShortcut(I-1,w),t:h,theme:f,fontSizeType:W,isEditing:k,setIsEditing:this.setIsOtherChoiceEditing,selected:t,value:w,onInputBlur:u,onChange:this.handleOtherChoiceChange,onCommit:this.handleOtherChoiceCommit}))))),a.a.createElement(Fe,{blockError:n,blockRef:this.props.blockRef,errorMessageId:Object(B.c)(v),isErrorMessageVisible:F,layout:s,layoutItemsSize:this.props.layoutItemsSize,onClick:this.handleCommitAnswer,submitForm:p,errorMessageRef:this.errorMessageRef}))))}}Ar.defaultProps={keyboardShortcutType:"letter",onCommitAnswer:T.a,onInputBlur:T.a,onInputFocus:T.a,onStageAnswer:T.a,recenter:T.a,scrollToChoice:T.a,showLabels:!0,submitForm:T.a,t:e=>e,theme:{colors:{secondary:o.b,background:o.b}},updateGlobalEventListenerRef:T.a,validations:{},verticalAlignment:!0,withImage:!1};var Dr=Ot(Ar),Br=c.d.div.withConfig({displayName:"dummy-list__Hidden",componentId:"sc-124ug3g-0"})(["opacity:0;pointer-events:none;position:absolute;height:1px;overflow-y:scroll;"]),Fr=C()(JSON.stringify,e=>{var{choices:t,t:r}=e;return t.map(e=>({label:r(e.label),ref:e.ref}))}),Vr=e=>{var{choices:t,t:r,allowOtherChoice:n,otherValue:o,vertical:c,onLongestChoiceWidthChanged:l,theme:s}=e,u=Object(i.useRef)(),d=Object(i.useRef)();return Object(i.useEffect)(()=>{if(u.current){var e=u.current.clientWidth;d.current!==e&&(d.current=e,l(e))}},[t,r,s]),a.a.createElement(Br,{tabIndex:-1,ref:u},Fr({choices:t,t:r}).map(e=>a.a.createElement(br.a,{tabIndex:-1,key:e.ref,keyHelperLetter:"MM"},a.a.createElement(V.a,{type:L.i.multipleChoiceLabel},e.label))),n&&c&&a.a.createElement(br.a,{tabIndex:-1,title:o,keyHelperLetter:"MM"}))},Lr=Object(i.memo)(Vr),Nr=r(279),Mr=e=>{var{ChoiceComponent:t,value:r,selected:n,t:o,keyHelperLetter:c,fontSizeType:l,theme:s,onInputBlur:u,onInputFocus:d,onChange:p,onCommit:b,isEditing:h,setIsEditing:m,hovered:f,onShouldFocusOtherChoice:y}=e,v=E()(e,["ChoiceComponent","value","selected","t","keyHelperLetter","fontSizeType","theme","onInputBlur","onInputFocus","onChange","onCommit","isEditing","setIsEditing","hovered","onShouldFocusOtherChoice"]),g=Object(i.useRef)(),O=Object(i.useRef)();Object(_r.a)(()=>{h?O.current&&O.current.focus():y()},[h]);var j=e=>{e.stopPropagation(),b(e)};return h?a.a.createElement(t,_()({},v,{tagName:"div",role:void 0,tabIndex:-1,selectable:!1,onBlur:e=>{var t,r;null!==(t=g.current)&&void 0!==t&&t.contains(null==e?void 0:e.relatedTarget)||null!==(r=g.current)&&void 0!==r&&r.contains(null==e?void 0:e.currentTarget)||m(!1)},ref:g,hovered:f}),a.a.createElement(xr.a,{value:r,dataQa:"other-choice-editor",dataQaInput:"other-choice-editor/input",dataQaButton:"other-choice-editor/button",ref:O,color:s.colors.secondary,onFocus:d,onBlur:u,onChange:e=>{e.preventDefault(),e.stopPropagation(),p(e.target.value,e)},onKeyDown:e=>{e.stopPropagation(),Object(ct.h)(e)&&j(e),Object(ct.i)(e)&&m(!1)},onEditConfirm:j,fontSizeType:l})):a.a.createElement(t,_()({},v,{focusable:!1,selected:n,keyHelperHint:o("label.hint.key"),keyHelperLetter:c,onClick:()=>{m(!0)},ref:g}),a.a.createElement(V.a,{type:l},r||o("block.multipleChoice.other")))},Hr=(e,t,r)=>{var n,o;return null!==(n=e.attachment)&&void 0!==n&&null!==(o=n.properties)&&void 0!==o&&o.description?e.attachment.properties.description:r?"":t(e.label)},Kr=c.d.div.withConfig({displayName:"radio-list__Radio",componentId:"xzv3or-0"})(["outline:none;"]),zr=e=>{var{allowOtherChoice:t,answer:r,ariaDescribedBy:n,choiceProps:c,choices:l,choicesLength:s,createKeyShortcut:u,handleColumnsChanged:d,handleOtherChoiceChange:p,handleOtherChoiceCommit:b,handleSelect:h,isOtherChoiceEditing:m,longestChoiceWidth:f,onInputBlur:y,otherChoiceProps:v,otherChoiceRef:g,otherLabelAndInputFontSize:O,otherValue:j,setIsOtherChoiceEditing:C,shouldDisableChoices:w,showLabels:k,t:E,textAlign:S,theme:I,verticalAlignment:P,withImage:T}=e,x=Object(i.useRef)(),R=T?hr.a:br.a,A=l.map(e=>e.ref);t&&A.push(g);var D=r.length>0&&r[0]===j,B=w&&!j;return a.a.createElement(a.a.Fragment,null,a.a.createElement(Nr.a,{items:A,onChange:h,selected:D?g:r[0]},a.a.createElement(dr.a,{onChangeColumns:d,vertical:P,longestChoiceWidth:f,withImage:T,textAlign:S,tagName:"div"},l.map((e,t)=>{var i=k&&Object(G.a)(E(e.label)),l=u(t,e.label,e.keyboardShortcut),s=i||E("block.multipleChoice.label.keyhelper",{x:l}),d=r.includes(e.ref),p=w&&!d;return a.a.createElement(Nr.b,{key:e.ref,value:e.ref},r=>{var u,{focusedValue:b,props:h}=r;return a.a.createElement(Kr,_()({},h,{"aria-describedby":n,"aria-label":s,"aria-disabled":p}),a.a.createElement("div",{"aria-hidden":"true"},a.a.createElement(R,_()({},c,{choiceRef:e.ref,dataQa:"choice",dataQaIndex:t,disabled:p,focusable:!1,focused:b===e.ref,imageAlt:Hr(e,E,k),imageHref:null===(u=e.attachment)||void 0===u?void 0:u.href,isCropped:e.isCropped,keyHelperHint:E("label.hint.key"),keyHelperLetter:l,label:i,selected:d,withKeyHelperHint:!Object(o.m)()}))))})}),t&&a.a.createElement(Nr.b,{value:g},e=>{var{focusedValue:t,props:r}=e;return a.a.createElement(Kr,_()({},r,{"aria-describedby":n,"aria-disabled":B,ref:x}),a.a.createElement(Mr,_()({},c,v,{ChoiceComponent:R,"aria-describedby":n,disabled:B,focusable:!1,focused:t===g,fontSizeType:O,isEditing:m,keyHelperLetter:u(s-1,j),onChange:p,onCommit:b,onInputBlur:y,onShouldFocusOtherChoice:()=>{var e;return null===(e=x.current)||void 0===e?void 0:e.focus()},selected:D,setIsEditing:C,t:E,theme:I,value:j})))}))))},Ur=c.d.div.withConfig({displayName:"checkbox-list__Checkbox",componentId:"werx6u-0"})(["outline:none;"]),Wr=e=>{var{allowOtherChoice:t,choices:r,onInputBlur:n,showLabels:c,t:l,textAlign:s,theme:u,verticalAlignment:d,withImage:p,otherValue:b,longestChoiceWidth:h,answer:m,ariaDescribedBy:f,choiceProps:y,otherChoiceProps:v,shouldDisableChoices:g,choicesLength:O,otherLabelAndInputFontSize:j,isOtherChoiceEditing:C,handleSelect:w,handleColumnsChanged:k,createKeyShortcut:E,setIsOtherChoiceEditing:S,handleOtherChoiceChange:I,handleOtherChoiceCommit:P,otherChoiceRef:T}=e,[x,R]=Object(i.useState)(),A=Object(i.useRef)(),D=p?hr.a:br.a,B=r.map(e=>e.ref);t&&B.push(T);var F=m.length>0&&m.includes(b),V=g&&!b,L=(e,t)=>{Object(ct.m)(t)&&w(e,t)};return a.a.createElement("div",{"data-qa":"checkboxlist"},a.a.createElement(dr.a,{onChangeColumns:k,vertical:d,longestChoiceWidth:h,withImage:p,textAlign:s,tagName:"div"},r.map((e,t)=>{var r,n=c&&Object(G.a)(l(e.label)),i=E(t,e.label,e.keyboardShortcut),s=n||l("block.multipleChoice.label.keyhelper",{x:i}),u=m.includes(e.ref),d=g&&!u;return a.a.createElement(Ur,{"aria-describedby":f,"aria-label":s,"aria-disabled":d,key:e.ref,"aria-checked":u,onClick:t=>w(e.ref,t),onKeyDown:t=>L(e.ref,t),onFocus:t=>R(e.ref),role:"checkbox",tabIndex:0},a.a.createElement("div",{"aria-hidden":"true"},a.a.createElement(D,_()({},y,{focusable:!1,dataQa:"choice",dataQaIndex:t,choiceRef:e.ref,focused:x===e.ref,selected:u,disabled:d,keyHelperHint:l("label.hint.key"),keyHelperLetter:i,isCropped:e.isCropped,imageHref:null===(r=e.attachment)||void 0===r?void 0:r.href,imageAlt:Hr(e,l,c),label:n,withKeyHelperHint:!Object(o.m)()}))))}),t&&a.a.createElement(Ur,{"aria-describedby":f,"aria-checked":!!b,"aria-disabled":V,onClick:e=>w(T,e),onKeyDown:e=>L(T,e),onFocus:e=>R(T),ref:A,role:"checkbox",tabIndex:0},a.a.createElement(Mr,_()({},y,v,{ChoiceComponent:D,keyHelperLetter:E(O-1,b),t:l,theme:u,focused:x===T,focusable:!1,fontSizeType:j,isEditing:C,setIsEditing:S,disabled:V,selected:F,value:b,onInputBlur:n,onChange:I,onCommit:P,onShouldFocusOtherChoice:()=>{var e;return null===(e=A.current)||void 0===e?void 0:e.focus()}})))))};class qr extends i.Component{constructor(e){super(e),O()(this,"errorMessageRef",a.a.createRef()),O()(this,"letterShortcutBuffer",a.a.createRef()),O()(this,"letterShortcutTimeout",a.a.createRef()),O()(this,"getBlockNode",e=>this.blockNode=e),O()(this,"setIsOtherChoiceEditing",e=>{this.setState({isOtherChoiceEditing:e})}),O()(this,"createKeyShortcut",(e,t,r)=>{var{keyboardShortcutType:n}=this.props;if("letter"===n)return jr(e);if("firstCharacter"===n){var o=t.charAt(0).toUpperCase();return this.firstCharacterShortcuts.push(o),o}return"custom"===n?this.props.t(r):void 0}),O()(this,"handleOtherChoiceChange",(e,t)=>{if(e){if(Object(o.m)()&&!Object(pt.c)()){var{recenter:r}=this.props;r("bottom","bottom")}this.setState({otherValue:e})}else this.unstageOtherChoice(t)}),O()(this,"handleContentEntersViewport",()=>{this.setState({contentInViewport:!0})}),O()(this,"handleContentLeavesViewport",()=>{this.setState({contentInViewport:!1})}),O()(this,"handleKeyDown",e=>{var{keyboardShortcutType:t}=this.props;if(this.state.contentInViewport&&!Object(ct.f)(e)){if(Object(ct.m)(e)&&e.stopPropagation(),"letter"===t&&vr(null==e?void 0:e.key))return null===this.letterShortcutBuffer.current?(this.letterShortcutBuffer.current=[e.key],e.persist&&e.persist(),this.letterShortcutTimeout.current=setTimeout(()=>this.handleLetterKeyboardShortcut(e),Y.e)):this.letterShortcutBuffer.current=[...this.letterShortcutBuffer.current,e.key],e.preventDefault(),void e.stopPropagation();if(null!==this.letterShortcutTimeout.current&&(clearTimeout(this.letterShortcutTimeout.current),this.letterShortcutTimeout.current=null),"firstCharacter"===t&&vr(null==e?void 0:e.key))return this.handleFirstCharacterShortcut(e),e.preventDefault(),void e.stopPropagation();"custom"===t&&vr(null==e?void 0:e.key)&&(this.handleCustomCharacterShortcut(e),e.preventDefault(),e.stopPropagation())}}),O()(this,"handleOtherChoiceCommit",e=>{var t=this.state.otherValue,{onStageAnswer:r,value:n,allowMultipleSelection:o,blockRef:i}=this.props;this.setState({isOtherChoiceEditing:!1});var a=n||[],c=(o?[...this.removeStagedOtherChoice(a),t]:[t]).filter(Boolean);r(i,c,e),c.length&&!o&&(e.persist&&e.persist(),this.commitAnswerTimeout=setTimeout(()=>{this.handleCommitAnswer(e)},Y.c))}),O()(this,"handleSelect",(e,t)=>{var{onStageAnswer:r,allowMultipleSelection:n,value:o}=this.props,i=o||[];if(e!==this.getOtherChoiceRef()){var a,c=i.includes(e);if(c||this.canSelectMoreChoices())a=n?c?i.filter(t=>t!==e):[...i,e]:c?[]:[e],r(this.props.blockRef,a,t),n||c||(t.persist&&t.persist(),setTimeout(()=>{this.handleCommitAnswer(t)},Y.c))}else this.setIsOtherChoiceEditing(!0)}),O()(this,"handleLongestChoiceWidthChanged",e=>{this.setState({longestChoiceWidth:e})}),O()(this,"handleColumnsChanged",e=>{this.renderedColumns=e}),O()(this,"handleCommitAnswer",e=>{this.props.onCommitAnswer(this.props.blockRef,e)}),this.state={isOtherChoiceEditing:!1,longestChoiceWidth:null,otherValue:this.getOtherValue(),contentInViewport:!1},this.renderedColumns=1,this.firstCharacterShortcuts=[],this.otherChoiceTimeout=null,this.commitAnswerTimeout=null}componentDidMount(){this.props.isActive&&this.props.updateGlobalEventListenerRef(this.handleKeyDown),this.prefillAnswer(),this.fillOtherValueWithPartial()}UNSAFE_componentWillReceiveProps(e){this.props.isActive&&e.isActive}shouldComponentUpdate(e,t){return Object(o.m)()&&e.isCommitted&&!this.props.isCommitted&&!e.isValid&&setTimeout(()=>{this.errorMessageRef.current.focus()},100),jt(this.props,e)||this.state.longestChoiceWidth!==t.longestChoiceWidth||e.choices!==this.props.choices}componentDidUpdate(e){(this.props.isActive&&!e.isActive&&this.props.updateGlobalEventListenerRef(this.handleKeyDown),this.props.isActive)&&(this.prefillAnswer(),e.choices.length!==this.props.choices.length&&this.props.recenter())}componentWillUnmount(){clearTimeout(this.otherChoiceTimeout),clearTimeout(this.commitAnswerTimeout),clearTimeout(this.letterShortcutTimeout)}getChoicesLength(){var{choices:e,allowOtherChoice:t}=this.props;return t?e.length+1:e.length}getOtherValue(){var{choices:e,value:t}=this.props;return t&&t.find(t=>!(t=>e.map(e=>e.ref).includes(t))(t))}getOtherChoiceRef(){return"".concat(this.props.blockRef,"-other")}getPositionRef(e){var t;return this.props.allowOtherChoice&&e===this.getChoicesLength()-1?this.getOtherChoiceRef():null===(t=this.props.choices[e])||void 0===t?void 0:t.ref}prefillAnswer(){var e=this;return rr()((function*(){var{allowMultipleSelection:t,allowOtherChoice:r,blockRef:n,choices:o,hasBeenInteractedWith:i,isActive:a,onCommitAnswer:c,onStageAnswer:l,value:s,isFirstBlock:u}=e.props,d=Cr(n),p=s&&s.some(Boolean);if(d){var b=o.map(e=>e.ref);r&&b.push(e.getOtherChoiceRef());var h=d.map(e=>["yes","no","other"].includes(e)?"".concat(n,"-").concat(e):e).filter(e=>b.includes(e)),m=h.length>0?h:null,f=h.includes(e.getOtherChoiceRef());a&&!p&&!i&&m&&(yield kr(),l(n,t?m:[m[0]],null,{isFromPrefilledAnswer:!0}),!u||t||f||(yield Er(),c(n,null,{isFromPrefilledAnswer:!0})),f&&(e.otherChoiceTimeout=setTimeout(()=>e.setIsOtherChoiceEditing(!0),Y.a)))}}))()}fillOtherValueWithPartial(){var{partialResponse:e,choices:t,allowOtherChoice:r}=this.props;if(e){var n=t.map(e=>e.ref),o=e.find(e=>!n.includes(e));if(o){var i=this.state.otherValue&&this.state.otherValue[0];r&&o!==i&&this.setState({otherValue:o})}}}handleLetterKeyboardShortcut(e){var t=this.letterShortcutBuffer.current.length,r=this.letterShortcutBuffer.current.join("").toUpperCase(),n=r.charCodeAt(t-1)-65;2===t&&(n+=26*(r.charCodeAt(0)-65+1));var o=this.getPositionRef(n);this.handleKeyboardSelect(o,e),this.letterShortcutBuffer.current=null}handleFirstCharacterShortcut(e){var t=this.firstCharacterShortcuts.findIndex(t=>(null==e?void 0:e.key.toUpperCase())===t.toUpperCase()),r=this.getPositionRef(t);this.handleKeyboardSelect(r,e)}handleCustomCharacterShortcut(e){var{choices:t,t:r}=this.props,n=t.find(t=>{var{keyboardShortcut:n}=t;return r(n)===(null==e?void 0:e.key.toUpperCase())});this.handleKeyboardSelect(null==n?void 0:n.ref,e)}removeStagedOtherChoice(e){return e.filter(e=>e!==this.getOtherValue())}unstageOtherChoice(e){var{onStageAnswer:t,value:r,allowMultipleSelection:n,blockRef:o}=this.props,i=r||[];t(o,n?this.removeStagedOtherChoice(i):[],e),this.setState({otherValue:""})}handleKeyboardSelect(e,t){e?e!==this.getOtherChoiceRef()?this.handleSelect(e,t):this.setIsOtherChoiceEditing(!0):this.handleCommitAnswer()}canSelectMoreChoices(){var{value:e,validations:t}=this.props,{maxSelection:r}=t;return!r||(e||[]).length<r}render(){var{allowMultipleSelection:e,allowOtherChoice:t,choices:r,isActive:n,isCommitted:o,isValid:i,layout:c,onInputBlur:l,showLabels:s,submitForm:u,supersized:d,t:p,textAlign:b,theme:h,title:m,uniqueId:f,validationError:y,validations:v,value:g,verticalAlignment:O,withImage:j}=this.props,{otherValue:C,isOtherChoiceEditing:w}=this.state,{minSelection:k,maxSelection:E}=v,S=this.getChoicesLength(),I=g||[],P=!this.canSelectMoreChoices(),T=!O&&!this.props.longestChoiceWidth,x=this.props.longestChoiceWidth||this.state.longestChoiceWidth,R=o&&!i&&!w,A=!!this.getOtherValue(),F=Object(B.a)({isErrorMessageVisible:R,hasInputInstructions:Boolean(e&&n),uniqueId:f}),V={superSizedImage:d,choiceRef:this.getOtherChoiceRef(),color:h.colors.secondary,contextBackgroundColor:h.colors.background},N={dataQa:"other-choice",selected:A,imageSvg:yr.a,choiceRef:this.getOtherChoiceRef()},M=j?L.i.pictureChoiceAndRatingLabel:L.i.multipleChoiceLabel;return a.a.createElement(at,_()({},this.props,{titleFor:f,titleTag:"legend",titleText:m,onKeyDown:this.handleKeyDown}),r&&a.a.createElement(nr.a,{onEnter:this.handleContentEntersViewport,onLeave:this.handleContentLeavesViewport},a.a.createElement(D.a,{top:L.p.topMultipleChoiceBlockContent,ref:this.getBlockNode},e&&n&&a.a.createElement(a.a.Fragment,null,a.a.createElement(fr.a,{color:h.colors.secondary,id:Object(B.d)(f),maxSelection:E,minSelection:k,selectionCount:I.length})),T&&a.a.createElement(Lr,{theme:h,onLongestChoiceWidthChanged:this.handleLongestChoiceWidthChanged,choices:r,t:p,allowOtherChoice:t,otherValue:C,vertical:O}),e?a.a.createElement(Wr,{allowOtherChoice:t,answer:I,ariaDescribedBy:F,choiceProps:V,choices:r,choicesLength:S,createKeyShortcut:this.createKeyShortcut,handleColumnsChanged:this.handleColumnsChanged,handleOtherChoiceChange:this.handleOtherChoiceChange,handleOtherChoiceCommit:this.handleOtherChoiceCommit,handleSelect:this.handleSelect,isOtherChoiceEditing:w,longestChoiceWidth:x,onInputBlur:l,otherChoiceProps:N,otherChoiceRef:this.getOtherChoiceRef(),otherLabelAndInputFontSize:M,otherValue:C,setIsOtherChoiceEditing:this.setIsOtherChoiceEditing,shouldDisableChoices:P,showLabels:s,t:p,textAlign:b,theme:h,verticalAlignment:O,withImage:j}):a.a.createElement(zr,{allowOtherChoice:t,answer:I,ariaDescribedBy:F,choiceProps:V,choices:r,choicesLength:S,createKeyShortcut:this.createKeyShortcut,handleColumnsChanged:this.handleColumnsChanged,handleOtherChoiceChange:this.handleOtherChoiceChange,handleOtherChoiceCommit:this.handleOtherChoiceCommit,handleSelect:this.handleSelect,isOtherChoiceEditing:w,longestChoiceWidth:x,onInputBlur:l,otherChoiceProps:N,otherChoiceRef:this.getOtherChoiceRef(),otherLabelAndInputFontSize:M,otherValue:C,setIsOtherChoiceEditing:this.setIsOtherChoiceEditing,shouldDisableChoices:P,showLabels:s,t:p,textAlign:b,theme:h,verticalAlignment:O,withImage:j}),a.a.createElement(Fe,{blockError:y,blockRef:this.props.blockRef,errorMessageId:Object(B.c)(f),errorMessageRef:this.errorMessageRef,isErrorMessageVisible:R,layout:c,layoutItemsSize:this.props.layoutItemsSize,onClick:this.handleCommitAnswer,submitForm:u}))))}}qr.defaultProps={keyboardShortcutType:"letter",onCommitAnswer:T.a,onInputBlur:T.a,onInputFocus:T.a,onStageAnswer:T.a,recenter:T.a,scrollToChoice:T.a,showLabels:!0,submitForm:T.a,t:e=>e,theme:{colors:{secondary:o.b,background:o.b}},updateGlobalEventListenerRef:T.a,validations:{},verticalAlignment:!0,withImage:!1};var Gr=Ot(qr),Yr=e=>{var{isA11yMultipleChoiceEnabled:t}=e,r=E()(e,["isA11yMultipleChoiceEnabled"]);return t?a.a.createElement(Gr,r):a.a.createElement(Dr,r)};function Qr(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Jr(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Qr(Object(r),!0).forEach((function(t){O()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Qr(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var Zr={sm:110,md:140,lg:150,xl:150},$r=C()(JSON.stringify,e=>{var{choices:t,croppedChoiceRefs:r}=e;return t.map(e=>Jr(Jr({},e),{},{isCropped:!!r[e.ref]}))});class Xr extends i.Component{constructor(e){super(e),this.state={croppedChoiceRefs:{}}}componentDidMount(){this.updateCroppedChoiceRefs(this.props.supersized,this.props.choices,this.state.croppedChoiceRefs)}componentDidUpdate(){this.updateCroppedChoiceRefs(this.props.supersized,this.props.choices,this.state.croppedChoiceRefs)}updateCroppedChoiceRefs(e,t,r){var n=this;return rr()((function*(){if(e){var o={};if(!n.updatingCroopedChoicesRefs){for(var i in n.updatingCroopedChoicesRefs=!0,t){var a=t[i],c=a.attachment&&a.attachment.resource,l=c&&c.src;if(l&&null==r[a.ref])try{var s=yield Object(ir.a)(l);o[a.ref]=s}catch(e){}}Object.keys(o).length&&n.setState({croppedChoiceRefs:Jr(Jr({},r),o)}),n.updatingCroopedChoicesRefs=!1}}}))()}render(){var{breakpoint:e,supersized:t,choices:r}=this.props,n=Zr[e]*(t?1.5:1),o=t?$r({choices:r,croppedChoiceRefs:this.state.croppedChoiceRefs}):r;return a.a.createElement(Yr,_()({},this.props,{choices:o,verticalAlignment:!1,longestChoiceWidth:Math.round(n),withImage:!0}))}}s.a.defaultProps={choices:[]};var en=Object(m.withBreakpoint)(Xr),tn=r(256),rn=r(244),nn=r(249),on=r(73);function an(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function cn(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?an(Object(r),!0).forEach((function(t){O()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):an(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var ln=c.d.div.withConfig({displayName:"MobileDropdown__ContentWrapper",componentId:"sc-1nkg1xj-0"})(["display:flex;flex:1;height:100%;width:100%;align-items:center;padding:8px 0 8px 8px;"]),sn=c.d.div.withConfig({displayName:"MobileDropdown__SelectWrapper",componentId:"sc-1nkg1xj-1"})(["position:relative;"]),un=Object(c.d)(Ke.b).attrs({svg:rn.a}).withConfig({displayName:"MobileDropdown__DropdownIcon",componentId:"sc-1nkg1xj-2"})(["position:absolute;right:5px;top:14px;user-select:none;"]),dn=c.d.button.withConfig({displayName:"MobileDropdown__MobileTrigger",componentId:"sc-1nkg1xj-3"})(["appearance:none;display:block;width:100%;font-family:inherit;padding-left:0px;padding-right:26px;padding-bottom:8px;border-radius:0;border:none;transition:0.2s;text-align:left;background-color:transparent;box-shadow:0 1px ",";&:-moz-focusring{color:transparent;text-shadow:0 0 0 transparent;}outline:none;&:focus{outline:none;}"],e=>Object(o.z)(e.color));class pn extends i.Component{constructor(e){super(e),O()(this,"getFilteredOptions",()=>this.memoizedFilterOptions(this.props.choices,this.state.filter).map(e=>cn(cn({},e),{},{label:Object(nn.b)(e.label,this.state.filter),value:e.label,key:e.key}))),O()(this,"toggleDropdown",e=>{e!==this.state.showList&&this.setState({showList:e})}),O()(this,"handleCommit",e=>{e.persist(),this.props.onCommitAnswer(this.props.blockRef,e)}),O()(this,"handleInputChange",e=>{this.setState({filter:e||""})}),O()(this,"handleKeyDown",e=>{e.stopPropagation()}),O()(this,"handleTriggerClick",()=>{this.setState({showList:!0})}),O()(this,"handleSelectClose",()=>{this.setState({showList:!1}),this.dialogTriggerRef.current.focus()}),O()(this,"handleOptionSelected",(e,t)=>{if(e&&e.value){var r=this.props.choices.findIndex(t=>t.label===e.value);if(this.state.forceSelectedIndex===r)return this.setState({forceSelectedIndex:-1}),void this.props.onStageAnswer(this.props.blockRef,null,t);var n=e.value;e.ref&&(n={id:e.id,label:e.value,ref:e.ref,value:e.value}),this.setState({forceSelectedIndex:r}),this.props.onStageAnswer(this.props.blockRef,[n],t),t.persist(),setTimeout(()=>{this.setState({showList:!1}),setTimeout(()=>{this.props.onCommitAnswer(this.props.blockRef,t),this.setState({filter:""})},400)},800)}}),this.state={forceSelectedIndex:-1,showList:!1,filter:""},this.memoizedFilterOptions=C()((e,t)=>t,(e,t)=>Object(nn.a)(e.map(e=>cn(cn({},e),{},{key:e.ref||e.label})),t)),this.dialogTriggerRef=a.a.createRef()}UNSAFE_componentWillReceiveProps(e){var{isActive:t,shouldClearInput:r}=e;!t&&this.state.showList&&this.toggleDropdown(!1),r&&this.setState({filter:""})}render(){var{uniqueId:e,blockRef:t,validationError:r,isCommitted:n,isValid:o,layout:i,layoutItemsSize:c,placeholder:l,partialResponse:s,submitForm:u,theme:d,t:p,value:b}=this.props,h="",m=b;if(b&&b.length||!s||(m=s.map(e=>e.ref||e.value||e)),m&&m.length){var f,y=this.props.choices.find(e=>e.ref===m[0]||e.label===m[0]);h=null!==(f=null==y?void 0:y.label)&&void 0!==f?f:null}var v=e=>e.value===h,g=function(e,t){var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return a.a.createElement(D.b,{bottom:.5,key:e.key,left:1,right:1},a.a.createElement(br.a,{role:"option",color:d.colors.secondary,selected:r},a.a.createElement(ln,null,a.a.createElement(V.a,{color:d.colors.secondary,ellipsis:t,inline:!0,type:L.i.multipleChoiceLabel},e.label))))},O=this.getFilteredOptions(),j=!0===this.state.showList,C=n&&!o&&!j,w=Object(B.a)({uniqueId:e,isErrorMessageVisible:C});return a.a.createElement(at,_()({},this.props,{titleFor:this.props.uniqueId,titleLabelId:"".concat(this.props.uniqueId,"-label"),titleText:this.props.title,titleTag:"label"}),a.a.createElement(sn,{onKeyDown:this.handleKeyDown},a.a.createElement(dn,{"aria-controls":e,"aria-expanded":j,ref:this.dialogTriggerRef,color:d.colors.secondary,onClick:this.handleTriggerClick},a.a.createElement(J.a,{size:"size2",color:d.colors.secondary},h||p("block.dropdown.placeholderTouch")),a.a.createElement(un,{"aria-hidden":!0,color:d.colors.secondary})),a.a.createElement(tn.a,{ariaDescribedBy:w,id:e,backgroundColor:d.colors.background,color:d.colors.secondary,className:Object(on.a)(d.font),filterTextPlaceholder:p(l),filterText:this.state.filter,noResultsMessage:p("block.dropdown.hint"),onFilterChange:this.handleInputChange,optionRender:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return g(e,t,v(e))},optionHeight:52,options:O,isVisible:j,keyProp:"key",onClose:this.handleSelectClose,onSelect:this.handleOptionSelected,language:null,dataQa:"options-fullscreen-select",disableAnimations:Qe.a})),a.a.createElement(Fe,{blockRef:t,blockError:r,errorMessageId:Object(B.c)(e),isErrorMessageVisible:C,layout:i,layoutItemsSize:c,onClick:this.handleCommit,submitForm:u}))}}pn.defaultProps={onCommitAnswer:T.a,onStageAnswer:T.a,recenter:T.a,submitForm:T.a,t:e=>e,theme:{colors:{secondary:o.b,background:o.b}}};var bn=Object(m.withBreakpoint)(pn),hn=r(423),mn=r.n(hn),fn=r(107),yn=Qe.a?0:400,vn=new lt.b;class gn extends i.Component{constructor(e){super(e),O()(this,"blockWrapperRef",a.a.createRef()),O()(this,"getFilteredOptions",()=>this.memoizedFilterOptions(this.props.choices,this.state.filter)),O()(this,"getListHeight",()=>{if(!Object(fn.a)())return 0;var{boundingClientRect:e={}}=this.props.layoutItemsSize;return(e.height||window.innerHeight)/2-8-8}),O()(this,"handleWaypointEnter",()=>{this.setState({isContentInViewport:!0})}),O()(this,"handleWaypointLeave",()=>{this.setState({isContentInViewport:!1})}),O()(this,"stage",(e,t)=>{this.props.onStageAnswer(this.props.blockRef,[e],t)}),O()(this,"unstage",()=>{this.setState({forceSelectedIndex:-1}),this.props.onStageAnswer(this.props.blockRef,null)}),O()(this,"handleAnswer",(e,t)=>{var r=this.props.choices[e]||{},n=r.label||"";r.ref&&(n={id:r.id,label:r.label,ref:r.ref,value:r.label}),this.setState({forceSelectedIndex:e,forceHoverIndex:-1}),n&&(setTimeout(()=>{this.toggleDropdown(!1),this.stage(n,t),this.setState({filter:r.label||""})},yn),t.persist(),setTimeout(()=>{this.props.onCommitAnswer(this.props.blockRef,t)},Y.c))}),O()(this,"handleCommit",e=>{e.persist(),this.props.onCommitAnswer(this.props.blockRef,e)}),O()(this,"handleInputBlur",e=>{var t;null!==(t=this.blockWrapperRef.current)&&void 0!==t&&t.contains(e.relatedTarget)||this.toggleDropdown(!1)}),O()(this,"handleInputClick",()=>{this.toggleDropdown(!0,0)}),O()(this,"toggleDropdown",e=>{e!==this.state.showList&&(e&&setTimeout(()=>this.props.recenter("bottom"),200),this.setState({showList:e,forceHoverIndex:-1}))}),O()(this,"handleIconClick",()=>{this.toggleDropdown(!this.state.showList)}),O()(this,"handleKeyDown",e=>{if(this.state.isContentInViewport){var t,r,n,o=this.getFilteredOptions().length;if(Object(ct.b)(e))return o>0&&(this.state.showList?this.setState({forceHoverIndex:Math.min(o-1,this.state.forceHoverIndex+1)}):this.toggleDropdown(!0)),Tt(e);if(Object(ct.d)(e)&&this.state.showList)return this.setState({forceHoverIndex:Math.max(0,this.state.forceHoverIndex-1)}),Tt(e);if(Object(ct.i)(e))return this.toggleDropdown(!1),Tt(e);if(Object(ct.h)(e)&&!Object(ct.f)(e)){if(this.state.showList&&o>0&&-1!==this.state.forceHoverIndex){var i=(t=this.state.forceHoverIndex,r=this.memoizedFilterOptions(this.props.choices,this.state.filter),(n=r.find((e,r)=>r===t))?n.index:null);this.handleAnswer(i,e)}else this.props.onCommitAnswer(this.props.blockRef,e);Tt(e)}}}),O()(this,"handleInputChange",e=>{this.unstage();var t=this.memoizedFilterOptions(this.props.choices,e||""),r=null!=e&&t.length>0;this.toggleDropdown(r),this.setState({filter:e||"",forceHoverIndex:-1})}),this.memoizedFilterOptions=C()((e,t)=>t,nn.a);var{choices:t,value:r,partialResponse:n}=this.props,o="",i=r;if(r&&r.length||!n||(i=n.map(e=>e.ref||e.value||e)),i&&i.length){var c,l=t.find(e=>e.ref===i[0]||e.label===i[0]);o=null!==(c=null==l?void 0:l.label)&&void 0!==c?c:null}this.state={forceHoverIndex:-1,forceSelectedIndex:-1,isContentInViewport:!1,showList:!1,filter:o}}componentDidMount(){this.props.isActive&&this.props.updateGlobalEventListenerRef(this.handleKeyDown)}componentDidUpdate(e){this.props.isActive&&!e.isActive&&this.props.updateGlobalEventListenerRef(this.handleKeyDown)}UNSAFE_componentWillReceiveProps(e){var{isActive:t,shouldClearInput:r}=e;!t&&this.state.showList&&this.toggleDropdown(!1),r&&this.setState({filter:""})}render(){var{blockRef:e,choices:t,validationError:r,isCommitted:n,isValid:o,labelledBy:i,layout:c,layoutItemsSize:l,placeholder:s,theme:u,t:d,hasDescription:p,uniqueId:b,submitForm:h}=this.props,m=0===this.getFilteredOptions().length,f=!0===this.state.showList,y=(m||!!n&&!o)&&!f,v=m?vn:r,g=Object(B.a)({uniqueId:b,isErrorMessageVisible:y,hasDescription:p});return a.a.createElement(at,_()({},this.props,{titleFor:this.props.uniqueId,titleLabelId:"".concat(this.props.uniqueId,"-label"),titleText:this.props.title,titleTag:"label",onKeyDown:this.handleKeyDown,ref:this.blockWrapperRef}),a.a.createElement(nr.a,{onEnter:this.handleWaypointEnter,onLeave:this.handleWaypointLeave},a.a.createElement("div",null,a.a.createElement(mn.a,{ariaDescribedBy:g,id:b,placeholder:d(s),options:t,color:u.colors.secondary,contextBackgroundColor:u.colors.background,filterValue:this.state.filter,hoveredIndex:this.state.forceHoverIndex,labelId:i,selectedIndex:this.state.forceSelectedIndex,onFilterChange:this.handleInputChange,onInputClick:this.handleInputClick,onArrowClick:this.handleIconClick,onOptionClick:this.handleAnswer,onInputBlur:this.handleInputBlur,optionsMaxHeight:"".concat(f?this.getListHeight():0,"px"),optionsOpen:f}))),a.a.createElement(Fe,{blockRef:e,hideButton:f,errorMessageId:Object(B.c)(b),blockError:v,isErrorMessageVisible:y,layout:c,layoutItemsSize:l,onClick:this.handleCommit,submitForm:h}))}}gn.defaultProps={onCommitAnswer:T.a,onStageAnswer:T.a,recenter:T.a,submitForm:T.a,t:e=>e,theme:{colors:{secondary:o.b,background:o.b}},updateGlobalEventListenerRef:T.a};var On=Ot(Object(m.withBreakpoint)(gn));class jn extends i.Component{shouldComponentUpdate(e){return jt(this.props,e)}render(){var{isTouch:e}=this.props;return e?a.a.createElement(bn,this.props):a.a.createElement(On,this.props)}}jn.defaultProps={onCommitAnswer:T.a,onStageAnswer:T.a,recenter:T.a,t:e=>e,theme:{colors:{secondary:o.b,background:o.b}}};var Cn=Object(ce.withIsTouch)(jn),wn=c.d.div.withConfig({displayName:"Group__ButtonWrapper",componentId:"sc-14mp1zx-0"})(["",";width:100%;outline:none;&:focus{outline:none;}"],e=>e.isActive?"":"pointer-events: none;");wn.displayName="ButtonWrapper";var kn=e=>{var{blockRef:t,buttonText:r,children:n,description:o,isActive:c,layout:l,layoutItemsSize:s,submitForm:u,t:d=(e=>e),title:p,uniqueId:b}=e,h=Object(i.useRef)(),[m,f]=Object(i.useState)(!1),y=Object(i.useCallback)(e=>{m||e.stopPropagation()},[m]);vt(c,y);var v="".concat(b,"-title"),g="\n    ".concat(v," ").concat(o?Object(B.b)(b):"","\n  ");return a.a.createElement(at,_()({},e,{titleLabelId:v,titleText:p,onKeyDown:y}),a.a.createElement(nr.a,{onEnter:()=>f(!0),onLeave:()=>f(!1)},n),a.a.createElement(wn,{ref:h,isActive:c},a.a.createElement(Fe,{ariaDescribedBy:g,blockRef:t,buttonText:d(r),layout:l,layoutItemsSize:s,onClick:r=>{c&&e.onCommitAnswer(t,r)},isAnimated:!1,isVisible:c,hideIcon:!0,submitForm:u})))},En=Object(i.memo)(kn,Ct),Sn=e=>a.a.createElement(En,_()({},e,{titleCounterIcon:e.hideMarks?null:"quote"})),In=e=>{var t={true:"".concat(e.blockRef,"-yes"),false:"".concat(e.blockRef,"-no")},r=[{ref:t[!0],value:!0,label:"label.yes.default",keyboardShortcut:"label.yes.shortcut"},{ref:t[!1],value:!1,label:"label.no.default",keyboardShortcut:"label.no.shortcut"}],n=Array.isArray(e.value)?e.value[0]:e.value;return a.a.createElement(Dr,_()({choices:r},e,{value:[t[n]],onStageAnswer:function(t,n,o){var[i]=n,{isFromPrefilledAnswer:a=!1}=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},c=r.find(e=>e.ref===i),l=[{value:c&&c.value,label:c&&e.t(c.label)}];e.onStageAnswer(e.blockRef,c?l:[],o,{isFromPrefilledAnswer:a})},keyboardShortcutType:"custom",verticalAlignment:!0}))};In.defaultProps={onCommitAnswer:T.a,onStageAnswer:T.a,t:e=>e,theme:{colors:{secondary:o.b,background:o.b}}};var Pn=In,Tn=e=>{var t={true:"".concat(e.blockRef,"-accept"),false:"".concat(e.blockRef,"-reject")},r=[{ref:t[!0],value:!0,label:"block.legal.accept"},{ref:t[!1],value:!1,label:"block.legal.reject"}],n=Array.isArray(e.value)?e.value[0]:e.value;return a.a.createElement(Dr,_()({choices:r},e,{value:[t[n]],onStageAnswer:(t,n,o)=>{var[i]=n,a=r.find(e=>e.ref===i),c=[{value:a&&a.value,label:a&&e.t(a.label)}];e.onStageAnswer(e.blockRef,a?c:[],o)},keyboardShortcutType:"letter",verticalAlignment:!0}))};Tn.defaultProps={onCommitAnswer:T.a,onStageAnswer:T.a,t:e=>e,theme:{colors:{secondary:"#FF00FF",background:"#FFFFFF"}}};var xn=Tn,_n=e=>{var{autoComplete:t,blockRef:r,hasDescription:n,inlineSubmit:c,inputType:l,isActive:s,isCommitted:u,isValid:d,layout:p,layoutItemsSize:b,maxLength:h,onCommitAnswer:m,onInputBlur:f,onInputFocus:y,onStageAnswer:v,placeholder:g,recenter:O,setBlockTrackingData:j,t:C,theme:w,title:k,type:E,uniqueId:S,validationError:P,submitForm:T}=e,[x,R,A]=bt(Y.i),[D,F,V]=bt(Y.b),[L,N]=Object(i.useState)(null),M=Object(i.useRef)(null),H=Object(i.useRef)(null),K=M===document.activeElement;Object(i.useEffect)(()=>()=>{A(),V()},[]);var z=Object(i.useCallback)(e=>{ut(E,e);var t=e.nativeEvent||e;Object(ct.h)(t)&&!Object(ct.f)(t)?(Object(o.m)()&&M&&M.current&&M.current.blur(),e.persist&&e.persist(),setTimeout(()=>{s&&m(r,t)},(Object(o.m)(),0))):H.current={key:e.key,keyCode:e.keyCode,timestamp:(new Date).getTime(),type:e.type},Object(ct.e)(t)&&(e.stopPropagation(),e.persist&&e.persist(),c(r,t))},[r,s,c,m]);vt(s,z);var U=e.value.length>0?e.value[0]:"",W=u&&!d||D,q=Object(B.a)({uniqueId:S,isErrorMessageVisible:W,hasDescription:n});return a.a.createElement(at,_()({},e,{isShaking:x,titleFor:S,titleTag:"label",titleText:k}),a.a.createElement(St.a,{autoComplete:t,getRef:M,placeholder:C(g),onKeyDown:z,onKeyPress:e=>{var{blocked:t,error:r}=st(E,h,e);R(t),F(t),N(r)},onChange:t=>{if(s){var n=e.value[0]||"";xt(H.current,t,n)&&j(r,I.a,I.b.BROWSER_AUTO_COMPLETE);var o=t.target.value;v(r,o.slice(0,h),t)}},onPaste:e=>{H.current={timestamp:(new Date).getTime(),type:e.type};var{blocked:t,error:r}=dt(h,e);R(t),F(t),N(r)},onFocus:function(){Object(o.m)()&&(y(),Object(pt.c)()||setTimeout(()=>{O("bottom")},0))},onBlur:f,maxLength:h,name:t,inputId:S,value:U,color:w.colors.secondary,type:l,"aria-describedby":q}),a.a.createElement(Fe,{blockRef:r,errorMessageId:Object(B.c)(S),blockError:D?L:P,isErrorMessageVisible:W,layout:p,layoutItemsSize:b,onClick:function(e){var t=K&&Object(o.m)();M&&M.current&&t&&M.current.blur(),e.persist(),e.stopPropagation(),setTimeout(()=>{s&&m(r,e)},0)},onFocusLost:function(){M&&M.current&&M.current.focus()},submitForm:T}))};_n.defaultProps={inlineSubmit:T.a,onCommitAnswer:T.a,onStageAnswer:T.a,setBlockTrackingData:T.a,submitForm:T.a,t:T.a,theme:{colors:{secondary:o.b}},value:[],autoComplete:void 0};var Rn=Object(i.memo)(_n,Ct);Rn.defaultProps={onCommitAnswer:T.a,onStageAnswer:T.a};var An=e=>a.a.createElement(Rn,_()({},e,{autoComplete:"email",inputType:"email",maxLength:256,onCommitAnswer:function(t,r){e.value&&Array.isArray(e.value)&&e.value[0]&&e.onStageAnswer(t,e.value[0].trim(),r),e.onCommitAnswer(t,r)}})),Dn=/\D+/g,Bn=e=>a.a.createElement(Rn,_()({},e,{autoComplete:"off",inputType:"tel",maxLength:15,onStageAnswer:(t,r,n)=>{r=parseInt(String(r).replace(Dn,""),10),e.onStageAnswer(e.blockRef,r,n)}})),Fn=r(436),Vn=r(111),Ln=r(130),Nn=r.n(Ln),Mn=r(516),Hn=r(268),Kn=r(243),zn=r(19),Un=Object(c.d)(Ke.b).withConfig({displayName:"icon__StrokeIcon",componentId:"pde181-0"})(["margin-right:8px;svg{transform:scale(1);box-shadow:0 0 0 1px ",";border-radius:4px;box-sizing:content-box;background-color:#fff;}"],e=>Object(o.l)(e.color)?Object(o.y)("#000"):Object(o.y)("#FFF"));function Wn(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function qn(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Wn(Object(r),!0).forEach((function(t){O()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Wn(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var Gn=c.d.div.withConfig({displayName:"select__MobileWrapper",componentId:"sc-1xepqbq-0"})(["position:absolute;z-index:",";",";"],L.v.level5,e=>e.isVisible?"":"pointer-events: none"),Yn=c.d.div.withConfig({displayName:"select__DesktopWrapper",componentId:"sc-1xepqbq-1"})(["position:absolute;top:-16px;width:450px;height:300px;overflow:hidden;z-index:",";",";"],L.v.level5,e=>e.isVisible?"":"pointer-events: none");Yn.displayName="DesktopWrapper";var Qn=c.d.div.withConfig({displayName:"select__ContentWrapper",componentId:"sc-1xepqbq-2"})(["width:100%;display:flex;height:100%;align-items:center;padding:",";"],e=>e.hasVerticalPadding?"8px":"0 8px"),Jn=c.d.div.withConfig({displayName:"select__ContentText",componentId:"sc-1xepqbq-3"})(["display:flex;height:100%;flex:1;justify-content:space-between;align-items:center;"]),Zn=Object(c.d)(u.b).withConfig({displayName:"select__StyledAnimate",componentId:"sc-1xepqbq-4"})(["position:relative;"]),$n=C()(e=>e,(e,t)=>Object(nn.a)(t,e,"name").map((t,r)=>qn(qn({},t),{},{index:r,name:Object(nn.b)(t.name,e),originalName:t.name}))),Xn=e=>{var{backgroundColor:t,blockRef:r,color:n,hoveredCode:o,id:i,hasVerticalPadding:c,selectedCode:l,sideMargin:s}=e;return function(e){var{code:u,index:d,name:p,originalName:b,prefix:h,svg:m}=e,f=u===l,y=u===o;return a.a.createElement(D.b,{bottom:.5,left:s,right:s},a.a.createElement(Kn.a,{color:n,hovered:y,id:"".concat(i,"-").concat(d),role:"option",selectable:!0,selected:f},a.a.createElement(Qn,{hasVerticalPadding:c},a.a.createElement(Un,{"aria-hidden":!0,color:t,svg:a.a.createElement(Ke.a,{svgCode:m(r)})}),a.a.createElement(Jn,null,a.a.createElement(V.a,{"aria-hidden":!0,color:n,inline:!0,type:L.i.multipleChoiceLabel},p),a.a.createElement($.a,null,b),a.a.createElement(V.a,{color:n,inline:!0,type:L.i.multipleChoiceLabel},"+".concat(h))))))}};class eo extends i.PureComponent{constructor(e){super(e),O()(this,"handleKeyDown",e=>{var{data:t,filterText:r}=this.props,{hoveredIndex:n}=this.state,o=$n(r,t),i=o.length;switch(e.key){case zn.a.ARROW_DOWN:e.preventDefault(),e.stopPropagation(),this.setState({hoveredIndex:Math.min(i-1,n+1)});break;case zn.a.ARROW_UP:e.preventDefault(),e.stopPropagation(),this.setState({hoveredIndex:Math.max(0,n-1)});break;case zn.a.TAB:case zn.a.ESCAPE:e.preventDefault(),e.stopPropagation(),this.props.onClose();break;case zn.a.ENTER:e.preventDefault(),e.stopPropagation(),-1===n?i>0&&""!==r?this.handleSelection(o[0],e):this.props.onClose():i>0&&this.handleSelection(o[n],e)}}),O()(this,"handleFilterChange",e=>{this.resetHoveredIndex(),this.props.onFilterChange(e)}),O()(this,"handleSelection",(e,t)=>{this.props.onSelect(e,t),this.onCloseTimeout=setTimeout(()=>{this.props.onClose()},1e3)}),this.state={hoveredIndex:-1},this.onCloseTimeout=null}componentDidUpdate(e){!e.isOpen&&this.props.isOpen&&this.resetHoveredIndex()}componentWillUnmount(){clearTimeout(this.onCloseTimeout)}resetHoveredIndex(){this.setState({hoveredIndex:-1})}render(){var{id:e,backgroundColor:t,blockRef:r,color:n,data:o,filterText:i,fontFamily:c,innerRef:l,isOpen:s,isTouch:u,language:d,onClose:p,onFilterChange:b,t:h,value:m}=this.props,f=h("block.countryDropdown.searchCountries"),y=h("block.countryDropdown.hint"),v=$n(i,o),{hoveredIndex:g}=this.state,O=v.length&&v[g]?v[g].code:"",j=-1!==g?"".concat(e,"-").concat(g):null;return u?a.a.createElement(Gn,{"aria-hidden":!s,isVisible:s,ref:l},a.a.createElement(tn.a,{id:e,backgroundColor:t,color:n,filterTextPlaceholder:f,filterText:i,focusedOptionId:j,noResultsMessage:y,onFilterChange:b,optionRender:Xn({backgroundColor:t,blockRef:r,color:n,hasVerticalPadding:!0,id:e,selectedCode:m,sideMargin:1}),optionHeight:52,options:v,isVisible:s,keyProp:"code",onClose:p,onSelect:this.handleSelection,language:d,className:Object(on.a)(c),dataQa:"country-fullscreen-select",disableAnimations:Qe.a})):a.a.createElement(Zn,{isVisible:s,type:"slideUp"},a.a.createElement(Yn,{"aria-hidden":!s,ref:l,isVisible:s,onKeyDown:this.handleKeyDown},a.a.createElement(Hn.a,{id:e,backgroundColor:t,color:n,dataQa:"country-dropdown-select",filterText:i,filterTextPlaceholder:f,focusedOptionId:j,hoveredIndex:g,isVisible:s,keyProp:"code",language:d,noResultsMessage:y,onFilterChange:this.handleFilterChange,optionRender:Xn({backgroundColor:t,blockRef:r,color:n,hoveredCode:O,id:e,hasVerticalPadding:!1,selectedCode:m,sideMargin:2}),optionHeight:44,options:v,onClose:p,onSelect:this.handleSelection})))}}eo.defaultProps={backgroundColor:o.b,color:o.b,data:[],filterText:"",fontFamily:L.h,onClose:T.a,onFilterChange:T.a,onSelect:T.a,t:T.a};var to=Object(P.a)(Object(ce.withIsTouch)(eo));function ro(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function no(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ro(Object(r),!0).forEach((function(t){O()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ro(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var oo=(e,t,r)=>Nn()((e,t)=>e.name.localeCompare(t.name),e.map(e=>no(no({},e),{},{name:r(e.code,t)}))),io=Object(P.a)(e=>{var{id:t,innerRef:n,backgroundColor:o,blockRef:c,color:l,fontFamily:s,isOpen:u,language:d,onChange:p,onClose:b,onOpen:h,onTriggerIconButtonBlur:m,onTriggerIconButtonFocus:f,t:y,value:v}=e,[g,O]=Object(i.useState)(""),[j,C]=Object(i.useState)([]),[w,k]=Object(i.useState)(!1),E=Object(i.useRef)(e=>e),S=Object(i.useRef)(),I=Object(ce.useIsTouch)(),P=Object(i.useCallback)(e=>{((e,t)=>{var r=t;do{if(r===e)return!0;r=r.parentElement}while(null!==r);return!1})(S.current,e.target)||!I&&w&&b()},[b,w]);Object(i.useEffect)(()=>{Promise.all([r.e(7),r.e(1)]).then(r.bind(null,528)).then(e=>{E.current=e.countryNameTranslator,C(oo(e.countryData,d,E.current))}).catch(e=>{(void 0).props.onUnrecoverableError(e)})},[]),Object(i.useEffect)(()=>(window.addEventListener("click",P),()=>window.removeEventListener("click",P)),[P]),Object(i.useEffect)(()=>{if(u){var e=setTimeout(()=>{k(!0)},200);return()=>clearTimeout(e)}k(!1),O("")},[u]),Object(i.useEffect)(()=>{C(oo(j,d,E.current))},[d]);var T=Object(B.a)({uniqueId:t,hasInputInstructions:u}),x=j.find(e=>e.code===v);return x?a.a.createElement(i.Fragment,null,a.a.createElement(to,{id:t,autoComplete:"tel-national",blockRef:c,data:j,filterText:g,isOpen:u,onClose:b,color:l,language:d,backgroundColor:o,innerRef:S,onFilterChange:e=>{O(e)},onSelect:(e,t)=>p(e.code,t),value:x.code,fontFamily:s}),a.a.createElement(Mn.a,{ariaLabel:"".concat(y("aria.phone-number.country-button-label"),": ").concat(x.name),ariaControls:t,isExpanded:u,ariaDescribedBy:T,backgroundColor:o,color:l,dataQa:"trigger-button",iconSvg:a.a.createElement(Ke.a,{svgCode:x.svg("".concat(c,"-selected"))}),isVisible:!u,onBlur:m,onClick:h,onFocus:f,onKeyDown:e=>{Object(ct.h)(e.nativeEvent)&&!Object(ct.e)(e)&&(e.stopPropagation(),h()),Object(ct.n)(e)&&!Object(ct.l)(e)&&e.stopPropagation()},ref:n})):null}),ao=r(314),co=/^[A-Za-z]+$/,lo=/[^0-9a-zA-Z]+/gi,so=c.d.div.withConfig({displayName:"PhoneNumber__Root",componentId:"ver6na-0"})(["display:flex;align-items:flex-end;max-width:450px;",";"],e=>e.textAlign===f.e.CENTER?"margin:auto":""),uo=c.d.div.withConfig({displayName:"PhoneNumber__DropdownWrapper",componentId:"ver6na-1"})(["margin-right:16px;position:relative;z-index:",";"],L.v.level1);class po extends i.Component{constructor(e){var t;super(e),t=this,O()(this,"getInputRef",e=>this.textInput=e),O()(this,"getButtonRef",e=>this.buttonRef=e),O()(this,"getValue",e=>e.value&&e.value.length>0?e.value[0]:{}),O()(this,"getNumber",(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:t.props;return t.getValue(e).number||""})),O()(this,"getCountryCode",(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:t.props;return t.getValue(e).countryCode||e.defaultCountryCode.toUpperCase()})),O()(this,"getPlaceholder",e=>{if(!this.state.getExampleNumber)return"";var t=this.state.getExampleNumber(e,Fn);if("AR"===e){var r=t.countryCallingCode;return t.formatInternational().replace("+".concat(r," 9 "),"")}return t.formatNational()}),O()(this,"handleKeyPress",e=>{if(Object(ct.h)(e.nativeEvent))this.unblock();else{if(e.key.match(co))return e.preventDefault(),void this.block(new lt.f);if(Object(ao.c)(this.getCountryCode(),e.target.value).replace(lo,"").length>15)return e.preventDefault(),void this.block(new lt.a(Vn.a.maxLength,this.props.validations));this.unblock()}}),O()(this,"handlePaste",e=>{this.lastInputEventRef.current={timestamp:(new Date).getTime(),type:e.type}}),O()(this,"handleKeyDown",e=>{this.lastInputEventRef.current={key:e.key,keyCode:e.keyCode,timestamp:(new Date).getTime(),type:e.type};var t=e.nativeEvent||e;Object(ct.h)(t)&&!Object(ct.f)(t)&&(Object(o.m)()&&this.textInput&&this.textInput.blur(),e.stopPropagation(),e.persist&&e.persist(),setTimeout(()=>{this.props.isActive&&this.props.onCommitAnswer(this.props.blockRef,e)},Object(o.m)()?700:0))}),O()(this,"handleValueChange",(e,t,r)=>{var n=e;try{n=this.parsePhoneNumber(e,t).formatInternational()}catch(e){}this.props.isActive&&this.props.onStageAnswer(this.props.blockRef,{number:e,countryCode:t,label:n},r)}),O()(this,"handleNumberChange",e=>{var{blockRef:t,setBlockTrackingData:r}=this.props,n=this.lastInputEventRef.current,o=this.getValue(this.props).number||"";xt(n,e,o)&&r(t,I.a,I.b.BROWSER_AUTO_COMPLETE);var i=e.target.value,a=this.getNumber(),c=this.getCountryCode(),l=this.guessCountryBasedOnNumber(i)||c,s=l!==c;this.AsYouType&&s&&this.createCountryFormatter(l),this.parseDigits(i)!==this.parseDigits(a)&&(i=this.formatPhoneNumber(i)),this.handleValueChange(i,l,e)}),O()(this,"handleCountryChange",(e,t)=>{if(e!==this.getCountryCode()){this.AsYouType&&this.createCountryFormatter(e);var r=this.formatPhoneNumber(this.getNumber());this.handleValueChange(r,e,t)}}),O()(this,"handleDropdownOpen",()=>{this.props.recenter("bottom"),this.setState({isOpen:!0})}),O()(this,"handleDropdownClose",()=>{this.setState({isOpen:!1}),this.buttonRef&&this.buttonRef.focus()}),O()(this,"handleOnScroll",()=>{clearTimeout(this.timeoutInputFocus),this.timeoutInputFocus=setTimeout(()=>{this.updateInputFocus(this.textInput,this.props.isActive,!0)},200)}),O()(this,"handleTriggerIconButtonBlur",()=>{this.setState({isCountryDropdownBtnFocused:!1})}),O()(this,"handleTriggerIconButtonFocus",()=>{this.setState({isCountryDropdownBtnFocused:!0})}),O()(this,"handleCommit",e=>{var t=this.isInputFocused()&&Object(o.m)();this.textInput&&t&&this.textInput.blur(),e.persist&&e.persist(),e.stopPropagation(),setTimeout(()=>{this.props.isActive&&this.props.onCommitAnswer(this.props.blockRef,e)},t?700:0)}),this.lastInputEventRef=a.a.createRef(),this.state={isOpen:!1,isShaking:!1,isInputBlocked:!1,blockedError:null,getExampleNumber:null,isCountryDropdownBtnFocused:!1}}componentDidMount(){this.props.isActive&&this.props.updateGlobalEventListenerRef(this.handleKeyDown),Promise.all([r.e(7),r.e(1)]).then(r.bind(null,506)).then(e=>{var{AsYouType:t,parseDigits:r,parsePhoneNumber:n,getExampleNumber:o}=e;this.AsYouType=t,this.formatter=new t(this.getCountryCode()),this.parseDigits=r,this.parsePhoneNumber=n,this.setState({getExampleNumber:o})}).catch(e=>{this.props.onUnrecoverableError(e)})}componentDidUpdate(e){this.props.isActive&&!e.isActive&&this.props.updateGlobalEventListenerRef(this.handleKeyDown);var t=this.getCountryCode(e),r=this.getCountryCode();this.AsYouType&&t!==r&&this.createCountryFormatter(r);var{isActive:n,isBlockChanging:o}=this.props;n&&!o&&e.isBlockChanging&&this.updateInputFocus(this.textInput,n,!1),e.isActive&&!n&&this.textInput.blur()}componentWillUnmount(){clearTimeout(this.shakeStopTimeout),clearTimeout(this.blockedErrorMessageStopTimeout),clearTimeout(this.timeoutInputFocus)}createCountryFormatter(e){this.formatter=new this.AsYouType(e)}formatPhoneNumber(e){return this.parseDigits&&(e=this.formatter.input(e),this.formatter.reset()),e}guessCountryBasedOnNumber(e){this.formatter.input(e);var t=this.formatter.country||this.formatter.metadata._country;return this.formatter.reset(),t}unblock(){this.setState({isShaking:!1,isInputBlocked:!1})}block(e){this.setState({isShaking:!0,isInputBlocked:!0,blockedError:e}),clearTimeout(this.shakeStopTimeout),clearTimeout(this.blockedErrorMessageStopTimeout),this.shakeStopTimeout=setTimeout(()=>this.setState({isShaking:!1}),Y.i),this.blockedErrorMessageStopTimeout=setTimeout(()=>this.setState({isInputBlocked:!1}),Y.b)}updateInputFocus(e,t){var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];this.props.isBlockListVisible&&!this.state.isOpen&&(!t||r||Object(o.m)()||this.state.isCountryDropdownBtnFocused||!W(e,this.props.layoutItemsSize)||e.focus())}isInputFocused(){return!!document&&document.activeElement===this.textInput}render(){var{blockRef:e,validationError:t,isCommitted:r,isValid:n,language:o,layout:i,layoutItemsSize:c,textAlign:l,theme:s,title:u,uniqueId:d,onRequireStickyFooter:p,hasDescription:b,onUnrecoverableError:h,submitForm:m,t:f}=this.props,{isOpen:y,isInputBlocked:v,blockedError:g}=this.state,O="".concat(d,"-country-dropdown"),j=this.getNumber(),C=this.getCountryCode(),w=r&&!n||v,k=Object(B.a)({uniqueId:d,isErrorMessageVisible:w,hasDescription:b});return a.a.createElement(at,_()({isShaking:this.state.isShaking},this.props,{titleFor:d,titleText:u,titleTag:"legend",onScroll:this.handleOnScroll}),a.a.createElement(so,{textAlign:l},a.a.createElement(uo,null,a.a.createElement(io,{id:O,backgroundColor:s.colors.background,blockRef:e,innerRef:this.getButtonRef,color:s.colors.secondary,fontFamily:s.font,isOpen:y,language:o,onChange:this.handleCountryChange,onClose:this.handleDropdownClose,onOpen:this.handleDropdownOpen,onTriggerIconButtonBlur:this.handleTriggerIconButtonBlur,onTriggerIconButtonFocus:this.handleTriggerIconButtonFocus,onUnrecoverableError:h,value:C})),a.a.createElement(St.a,{"aria-describedby":k,disabled:y,"aria-label":f("aria.phone-number.input-label"),getRef:this.getInputRef,inputId:d,color:s.colors.secondary,value:j,placeholder:this.getPlaceholder(C),onChange:this.handleNumberChange,onKeyDown:this.handleKeyDown,onKeyPress:this.handleKeyPress,onFocus:this.props.onInputFocus,onBlur:this.props.onInputBlur,onPaste:this.handlePaste,type:"tel",name:"tel",autoComplete:"tel-national",dataQa:"phone-number-input",showBorder:!0})),a.a.createElement(Fe,{backgroundColor:s.colors.background,blockError:v?g:t,blockRef:e,buttonColor:s.colors.button,errorMessageId:Object(B.c)(d),helperColor:s.colors.primary,hideHelperText:this.state.isCountryDropdownBtnFocused,isErrorMessageVisible:w,layout:i,layoutItemsSize:c,onClick:this.handleCommit,onRequireStickyFooter:p,submitForm:m}))}}po.defaultProps={defaultCountryCode:"US",recenter:T.a,setBlockTrackingData:T.a,submitForm:T.a,theme:{colors:{secondary:o.b,background:o.b}},updateGlobalEventListenerRef:T.a};var bo=Ot(K(Object(P.a)(po))),ho=e=>a.a.createElement(Rn,_()({},e,{maxLength:e.validations.maxLength}));ho.defaultProps={validations:{maxLength:null}};var mo=ho,fo=new RegExp(/(https?|ftp|app):\/\//),yo=e=>{var t=function(){var t=rr()((function*(t){var{blockRef:r}=e,n=Array.isArray(e.value)?e.value[0]:e.value;if(n){var o=n.trim(),i=fo.test(o)?o:"".concat("https://").concat(o);return e.onStageAnswer(r,i,t)}}));return function(e){return t.apply(this,arguments)}}(),r=function(){var r=rr()((function*(r){r.persist&&r.persist();var{submitForm:n}=e;yield t(r),n(r)}));return function(e){return r.apply(this,arguments)}}(),n=function(){var r=rr()((function*(r,n){var{inlineSubmit:o}=e;yield t(n),o(r,n)}));return function(e,t){return r.apply(this,arguments)}}();return a.a.createElement(Rn,_()({},e,{inlineSubmit:n,inputType:"url",onCommitAnswer:(r,n)=>{t(n),e.onCommitAnswer(r,n)},submitForm:r}))},vo=r(295),go=r(260),Oo=r(39),jo=r.n(Oo),Co=r(509),wo=r(37);function ko(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Eo(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ko(Object(r),!0).forEach((function(t){O()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ko(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var So={[wo.a.CardCvc]:"createCardCvcElement",[wo.a.CardExpiry]:"createCardExpiryElement",[wo.a.CardNumber]:"createCardNumberElement"},Io=(e,t,r)=>{var n={color:"".concat(e),fontFamily:t,lineHeight:"".concat(L.s[r].lineHeight,"px"),fontSize:"".concat(L.s[r].fontSize,"px"),fontWeight:"".concat(L.l.regular),fontSmoothing:"antialiased",":-webkit-autofill":{color:"".concat(e)}};return{base:Eo(Eo({},n),{},{"::placeholder":Eo(Eo({},n),{},{color:"".concat(Object(o.z)(e))})}),invalid:{color:"#BB3C50"}}},Po=c.d.div.withConfig({displayName:"stripe-element__Root",componentId:"z3m6zi-0"})(["padding-bottom:","px;background-color:transparent !important;"],L.t),To=e=>{var{type:t,color:r,fontStack:n,onFocus:o,onBlur:l,onChange:s,stripeService:u}=e,d=Object(i.useRef)(),p=Object(i.useRef)(),b=Object(m.useBreakpoint)(),h=Object(c.f)(),f=Object(F.getResponsiveFontSize)(L.i.paymentInputText,b,h.fields.fontSize),y=e=>{var t=!!p.current._autofilled;s(e,t)};return Object(i.useEffect)(()=>{if(u)return p.current=u[So[t]]({style:Io(r,n,f)}),p.current.on("change",y),p.current.on("focus",o),p.current.on("blur",l),p.current.mount(d.current),()=>{p.current&&p.current.destroy()}},[u]),Object(i.useEffect)(()=>{p.current&&p.current.update({style:Io(r,n,f)})},[r,b]),a.a.createElement(Po,{ref:d})};To.defaultProps={color:o.b,onFocus:T.a,onBlur:T.a,onChange:T.a};var xo=To;function _o(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Ro(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?_o(Object(r),!0).forEach((function(t){O()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):_o(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}class Ao extends i.PureComponent{constructor(e){super(e),O()(this,"shouldHideHelperText",()=>{var e="BUTTON"!==document.activeElement.tagName;this.state.hideHelperText!==e&&this.setState({hideHelperText:e})}),O()(this,"getAnswerValue",()=>{var e=this.props.value;return e&&e.length&&e[0]?e[0]:{[wo.a.CardCvc]:{empty:!0},[wo.a.CardExpiry]:{empty:!0},[wo.a.CardNumber]:{empty:!0}}}),O()(this,"handleInputBlur",e=>{this.setState({focusStates:Ro(Ro({},this.state.focusStates),{},{[e]:!1})}),this.props.onInputBlur(),this.shouldHideHelperText()}),O()(this,"handleInputFocus",e=>{this.setState({focusStates:Ro(Ro({},this.state.focusStates),{},{[e]:!0})}),this.props.onInputFocus(),this.shouldHideHelperText()}),O()(this,"handleCommit",e=>{e.persist&&e.persist(),setTimeout(()=>{this.props.isActive&&this.props.onCommitAnswer(this.props.blockRef,e)},0)}),O()(this,"stage",(e,t)=>{e&&!e.cardholdersName&&e[wo.a.CardCvc].empty&&e[wo.a.CardExpiry].empty&&e[wo.a.CardNumber].empty?this.props.onStageAnswer(this.props.blockRef,[],t):this.props.onStageAnswer(this.props.blockRef,[e],t)}),O()(this,"handleInputChange",(e,t,r)=>{var n=t.type?t:Ro(Ro({},t),{},{type:"change"}),o=r;if(e===wo.a.CardName){var i=this.state.valueStates[e]||"";o=xt(this.lastInputEventRef.current,t,i),this.setState(Ro(Ro({},this.state),{},{valueStates:Ro(Ro({},this.state.valueStates),{},{[e]:t.target.value})}))}if(o){var{blockRef:a,setBlockTrackingData:c}=this.props;c(a,I.a,I.b.BROWSER_AUTO_COMPLETE)}e!==wo.a.CardName?this.stage(Ro(Ro({},this.getAnswerValue()),{},{[e]:{error:t.error,complete:t.complete,empty:t.empty}}),n):this.stage(Ro(Ro({},this.getAnswerValue()),{},{cardholdersName:t.target.value}),n)}),O()(this,"handleKeyDown",e=>{ut(this.props.type,e),Object(ct.h)(e)?(e.preventDefault(),this.handleCommit(e)):this.lastInputEventRef.current={key:e.key,keyCode:e.keyCode,timestamp:(new Date).getTime(),type:e.type}}),O()(this,"handlePaste",e=>{this.lastInputEventRef.current={timestamp:(new Date).getTime(),type:e.type}}),this.lastInputEventRef=a.a.createRef(null),this.state={focusStates:{[wo.a.CardCvc]:!1,[wo.a.CardExpiry]:!1,[wo.a.CardName]:!1,[wo.a.CardNumber]:!1},valueStates:{[wo.a.CardName]:!1},hideHelperText:!0}}componentDidMount(){this.props.isActive&&this.props.updateGlobalEventListenerRef(this.handleKeyDown)}componentDidUpdate(e){this.props.isActive&&!e.isActive&&this.props.updateGlobalEventListenerRef(this.handleKeyDown)}render(){var e,t,r,n,o,i,c,l,s,u,d,p,{blockRef:b,buttonText:h,hasDescription:m,isCommitted:f,layout:y,layoutItemsSize:v,price:g,submitForm:O,stripeService:j,textAlign:C,theme:w,t:k,title:E,uniqueId:S,validationErrors:I}=this.props,P=this.getAnswerValue(),{focusStates:T,hideHelperText:x}=this.state,R="".concat(S,"-card-name"),A="".concat(S,"-hint-charge"),D="".concat(S,"-hint-store"),F="".concat(S,"-supported-cards"),N=Object(B.a)({uniqueId:S,hasDescription:m,additionalIds:"".concat(A," ").concat(D," ").concat(F)}),M={};return Object.keys(wo.a).forEach(e=>{var t=wo.a[e],r=I.filter(e=>e.type===t)[0];M[t]={validationError:!!r&&Object(G.a)(k(null==r?void 0:r.label)),isVisible:!!r&&((null==r?void 0:r.showImmediately)||f)}}),a.a.createElement(at,_()({},this.props,{titleFor:R,titleTag:"label",titleText:E}),a.a.createElement(V.a,{type:L.i.blockDescription,color:w.colors.primary,htmlTag:"p",id:A},k("block.payment.hintCharge")," ",a.a.createElement(Co.a,null,g)),a.a.createElement(V.a,{type:L.i.blockDescription,color:w.colors.primary,htmlTag:"p",id:D},k("block.payment.hintStore")),a.a.createElement($.a,{id:F},"".concat(k("block.payment.supportedCards")," ").concat(Co.c.join(", "))),a.a.createElement(Co.b,{cardNameId:R,cardNameElement:a.a.createElement("form",null,a.a.createElement(St.a,{"aria-describedby":N,autoComplete:"cc-name",color:w.colors.secondary,inputId:R,onBlur:()=>this.handleInputBlur(wo.a.CardName),onChange:e=>this.handleInputChange(wo.a.CardName,e),onFocus:()=>this.handleInputFocus(wo.a.CardName),onKeyDown:this.handleKeyDown,onPaste:this.handlePaste,placeholder:"Jane Smith",fontSizeType:L.i.paymentInputText,value:P.cardholdersName||""})),cardNameErrorMessage:(null===(e=M[wo.a.CardName])||void 0===e?void 0:e.isVisible)&&(null===(t=M[wo.a.CardName])||void 0===t?void 0:t.validationError),cardNumberElement:a.a.createElement(xo,{color:w.colors.secondary,fontStack:w.fontStack,onBlur:()=>this.handleInputBlur(wo.a.CardNumber),onChange:(e,t)=>this.handleInputChange(wo.a.CardNumber,e,t),onFocus:()=>this.handleInputFocus(wo.a.CardNumber),stripeService:j,type:wo.a.CardNumber}),cardNumberErrorMessage:(null===(r=M[wo.a.CardNumber])||void 0===r?void 0:r.isVisible)&&(null===(n=M[wo.a.CardNumber])||void 0===n?void 0:n.validationError),cardExpiryElement:a.a.createElement(xo,{color:w.colors.secondary,fontStack:w.fontStack,onBlur:()=>this.handleInputBlur(wo.a.CardExpiry),onChange:(e,t)=>this.handleInputChange(wo.a.CardExpiry,e,t),onFocus:()=>this.handleInputFocus(wo.a.CardExpiry),stripeService:j,type:wo.a.CardExpiry}),cardExpiryErrorMessage:(null===(o=M[wo.a.CardExpiry])||void 0===o?void 0:o.isVisible)&&(null===(i=M[wo.a.CardExpiry])||void 0===i?void 0:i.validationError),cardCVCElement:a.a.createElement(xo,{color:w.colors.secondary,fontStack:w.fontStack,onBlur:()=>this.handleInputBlur(wo.a.CardCvc),onChange:(e,t)=>this.handleInputChange(wo.a.CardCvc,e,t),onFocus:()=>this.handleInputFocus(wo.a.CardCvc),stripeService:j,type:wo.a.CardCvc}),cardCVCErrorMessage:(null===(c=M[wo.a.CardCvc])||void 0===c?void 0:c.isVisible)&&(null===(l=M[wo.a.CardCvc])||void 0===l?void 0:l.validationError),color:w.colors.secondary,id:S,isCardNameErrorVisible:null===(s=M[wo.a.CardName])||void 0===s?void 0:s.isVisible,isCardNameFocused:T[wo.a.CardName],isCardNumberErrorVisible:null===(u=M[wo.a.CardNumber])||void 0===u?void 0:u.isVisible,isCardNumberFocused:T[wo.a.CardNumber],isCardCVCErrorVisible:null===(d=M[wo.a.CardCvc])||void 0===d?void 0:d.isVisible,isCardCVCFocused:T[wo.a.CardCvc],isCardExpiryErrorVisible:null===(p=M[wo.a.CardExpiry])||void 0===p?void 0:p.isVisible,isCardExpiryFocused:T[wo.a.CardExpiry],stripeLinkText:k("block.payment.securedBy"),textAlign:C}),a.a.createElement(Fe,{blockRef:b,buttonText:h,hideHelperText:x,hideIcon:!0,isErrorMessageVisible:!1,layout:y,layoutItemsSize:v,onClick:this.handleCommit,submitForm:O}))}}Ao.defaultProps={theme:{colors:{primary:o.b,secondary:o.b}},onInputFocus:T.a,onInputBlur:T.a,setBlockTrackingData:T.a,t:jo.a,validationErrors:[],submitForm:T.a,value:[{cardholdersName:"",isCardEmpty:!0,isCardValid:!1}],stripeErrorCodes:{},updateGlobalEventListenerRef:T.a};var Do=Ot(Ao),Bo=Object(n.b)(e=>({price:Object(Se.L)(e),stripeErrorCodes:go.a,stripeService:Object(vo.d)(e)}))(K(Object(m.withBreakpoint)(Do))),Fo=r(511);var Vo=function(e){var t=Object(i.useRef)([]),r=Object(i.useRef)(null);function n(){clearTimeout(r.current),r.current=null}return{onKeyDown:o=>{Object(ct.k)(o)?(null===r.current&&(o.persist&&o.persist(),t.current=[],r.current=setTimeout(()=>{e(function(e){return e.reduce((e,t,r)=>e+t*Math.pow(10,r),0)}(t.current),o)},Y.e)),t.current.unshift(parseInt(o.key,10))):n()},clearNumberTimeout:n}},Lo=e=>{var[t,r]=Object(i.useState)(!1),{labels:n,blockIndex:o,blockRef:c,startAtOne:l,steps:s,theme:u,validationError:d,isActive:p,isCommitted:b,isValid:h,layout:m,layoutItemsSize:f,onCommitAnswer:y,onStageAnswer:v,submitForm:g,title:O,value:j,uniqueId:C,hasBeenInteractedWith:w,isFirstBlock:k,isOpinionScaleABTestVariant:E}=e,S=l?1:0,I=S+s-1,P=j&&j.length>0?j[0]:void 0,T=Object(B.c)(C),x=b&&!h;Object(i.useEffect)(()=>{(function(){var e=rr()((function*(){var e=0===o?(()=>{var e,t;if(null===(e=window)||void 0===e||null===(t=e.location)||void 0===t||!t.search)return null;var r=window.location.search.match(/prefilled_answer=[0-9]+/);return r?[parseInt(r[0].split("=")[1],10)]:null})():null,t=Cr(c)||e,r=t&&t[0]>=S&&t[0]<=I,n=j&&j.some(Boolean);p&&!n&&!w&&r&&(yield kr(),v(c,t,null,{isFromPrefilledAnswer:!0}),k&&(yield Er(),y(c,null,{isFromPrefilledAnswer:!0})))}));return function(){return e.apply(this,arguments)}})()()},[p]);var R=Object.keys(n).length>0,A=Object(B.a)({isErrorMessageVisible:x,hasInputInstructions:R,uniqueId:C}),{onKeyDown:D,clearNumberTimeout:F}=Vo(L),V=Object(i.useCallback)(e=>{Object(ct.e)(e)||Object(ct.n)(e)||e.stopPropagation(),t&&D(e)},[t,D]);function L(e,t){F(),P!==e?e<=I&&e>=S&&(v(c,[e],t),setTimeout(()=>{y(c,t)},Y.c)):v(c,[],t)}vt(p,V);return a.a.createElement(at,_()({},e,{titleText:O,titleTag:"legend",onKeyDown:V}),a.a.createElement(nr.a,{onEnter:()=>r(!0),onLeave:()=>r(!1)},a.a.createElement("div",null,a.a.createElement(Fo.a,{ariaDescribedBy:A,color:u.colors.secondary,labelLeft:n.left,labelCenter:n.center,labelRight:n.right,max:I,min:S,onChange:function(e,t){L(e,t)},selectedAmount:P,isOpinionScaleABTestVariant:E}),(()=>{if(!R)return null;var e=Object(B.d)(C);return a.a.createElement($.a,{id:e,tabIndex:"-1"},n.left,", ",S,", ",n.right,", ",I)})())),a.a.createElement(Fe,{blockRef:c,blockError:d,errorMessageId:T,isErrorMessageVisible:x,layout:m,layoutItemsSize:f,onClick:function(e){e.stopPropagation(),p&&y(c,e)},submitForm:g}))};Lo.defaultProps={labels:{},onCommitAnswer:T.a,onStageAnswer:T.a,submitForm:T.a,theme:{colors:{secondary:o.b}}};var No=Lo,Mo=r(514),Ho=e=>{var{value:t,blockRef:r,shape:n,steps:o,theme:c,validationError:l,isActive:s,isCommitted:u,isValid:d,layout:p,layoutItemsSize:b,onCommitAnswer:h,onStageAnswer:m,submitForm:f,textAlign:y,title:v,uniqueId:g}=e,[O,j]=Object(i.useState)(!1),C=o,w=t&&t.length>0?t[0]:void 0,k=Object(B.c)(g),E=u&&!d,{onKeyDown:S,clearNumberTimeout:I}=Vo(T),P=Object(i.useCallback)(e=>{var t=e.nativeEvent||e;Object(ct.e)(t)||Object(ct.n)(t)||e.stopPropagation(),O&&S(e)},[O,S]);function T(e,t){I(),w!==e?e<=C&&e>=1&&(t.persist&&t.persist(),m(r,[e],t),setTimeout(()=>{h(r,t)},Y.c)):m(r,[],t)}return vt(s,P),a.a.createElement(at,_()({},e,{titleText:v,titleTag:"legend",onKeyDown:P}),a.a.createElement(nr.a,{onEnter:()=>j(!0),onLeave:()=>j(!1)},a.a.createElement("div",null,a.a.createElement(Mo.a,{ariaDescribedBy:E?k:null,color:c.colors.secondary,iconName:n,max:C,min:1,onChange:function(e,t){T(e,t)},selectedAmount:w,textAlign:y}))),a.a.createElement(Fe,{blockRef:r,blockError:l,errorMessageId:k,isErrorMessageVisible:E,layout:p,layoutItemsSize:b,onClick:function(e){e.stopPropagation(),s&&h(r,e)},submitForm:f}))};Ho.defaultProps={onCommitAnswer:T.a,onStageAnswer:T.a,shape:"circle",submitForm:T.a,theme:{colors:{secondary:o.b}}};var Ko=Ho,zo=a.a.lazy(()=>r.e(5).then(r.bind(null,525))),Uo=e=>{var{field:t,value:r,onStageAnswer:n,onCommitAnswer:o,blockIndex:c,layout:l,language:s,title:u,theme:d,layoutItemsSize:p,validationError:b,uniqueId:h,isCommitted:m,isValid:f,hasDescription:y,submitForm:v,isActive:g}=e;vt(g,Object(i.useCallback)(T.a,[]));var O=Object(B.c)(h),j=m&&!f,C=Object(B.a)({uniqueId:h,isErrorMessageVisible:j,hasDescription:y}),w=Object(B.e)(h);return a.a.createElement(at,_()({},e,{titleText:u,titleLabelId:w}),a.a.createElement(i.Suspense,{fallback:a.a.createElement("div",null)},a.a.createElement(zo,{ariaLabelledBy:w,blockIndex:c,theme:d,field:t,answer:r,onChange:function(e){n(t.ref,e)},ariaDescribedBy:C,locale:s})),a.a.createElement(Fe,{blockRef:t.ref,layout:l,layoutItemsSize:p,onClick:function(e){o(t.ref,e)},blockError:b,errorMessageId:O,isErrorMessageVisible:j,submitForm:v}))};Uo.defaultProps={submitForm:T.a,theme:{colors:{secondary:o.b}}};var Wo=Uo,qo=r(300);function Go(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Yo(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Go(Object(r),!0).forEach((function(t){O()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Go(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var Qo=a.a.lazy(()=>r.e(4).then(r.bind(null,527))),Jo=e=>{var{value:t,blockRef:r,field:n,isCommitted:o,isValid:c,layout:l,layoutItemsSize:s,language:u,onCommitAnswer:d,onStageAnswer:p,submitForm:b,theme:h,title:m,uniqueId:f,validationError:y,childFields:v,isActive:g,hasDescription:O}=e;vt(g,Object(i.useCallback)(T.a,[]));var j=Object(B.c)(f),C=o&&!c,w=t&&t[0]&&Object.keys(t[0]).reduce((e,r)=>Yo(Yo({},e),{},{[r]:t[0][r].value.map(e=>{var{value:t}=e;return t})}),{}),k=n.properties.fields.some(e=>e.validations.required)?Yo(Yo({},n.validations),{},{required:!0}):n.validations,E=Object(B.a)({uniqueId:f,isErrorMessageVisible:C,hasDescription:O}),S=Object(B.e)(f);return a.a.createElement(at,_()({},e,{validations:k,titleText:m,titleLabelId:S}),a.a.createElement(i.Suspense,{fallback:a.a.createElement("div",null)},a.a.createElement(Qo,{answer:w,field:n,onAnswerChange:function(e,n,o){var i=v.find(t=>t.ref===e);p(r,[Yo(Yo({},t[0]),{},{[e]:Object(qo.a)(Yo(Yo({},i),i.properties),n)})],o)},theme:h,onReset:function(){p(r,void 0)},locale:u,ariaLabelledBy:S,ariaDescribedBy:E})),a.a.createElement(D.b,{top:2},a.a.createElement(Fe,{blockError:y,blockRef:r,errorMessageId:j,hideHelperText:!0,isErrorMessageVisible:C,layout:l,layoutItemsSize:s,onClick:function(){d(r)},submitForm:b})))};Jo.defaultProps={submitForm:T.a,theme:{colors:{secondary:o.b}}};var Zo=Jo,$o={[S.c]:{component:Object(P.a)(er)},[S.d]:{component:Object(P.a)(Cn)},[S.e]:{component:Object(P.a)(An)},[S.f]:{component:Object(P.a)(ur)},[S.r]:{component:Object(P.a)(En)},[S.h]:{component:Object(P.a)(xn)},[S.i]:{component:Object(P.a)(kt)},[S.k]:{component:Object(P.a)(Yr)},[S.l]:{component:Object(P.a)(Bn)},[S.q]:{component:Object(P.a)(en)},[S.u]:{component:Object(P.a)(mo)},[S.v]:{component:Object(P.a)(Sn)},[S.w]:{component:Object(P.a)(yo)},[S.y]:{component:Object(P.a)(Pn)},[S.o]:{component:Object(P.a)(Bo)},[S.p]:{component:Object(P.a)(bo)},[S.n]:{component:Object(P.a)(No)},[S.t]:{component:Object(P.a)(Ko)},[S.s]:{component:Object(P.a)(Wo)},[S.j]:{component:Object(P.a)(Zo)}},Xo=e=>{var{type:t}=e,r=E()(e,["type"]);Object(i.useEffect)(()=>{var{blockRef:e,isActive:t,isLivePreview:n,onStageAnswer:o,partialResponse:i,setBlockTrackingData:a,value:c}=r;n||!t||!i||null!=c&&c.length||(a(e,I.a,I.b.PARTIAL_RESPONSE),o(e,i,null,{isFromPrefilledAnswer:!0}))},[r.isActive]);var n=$o[t];return n?a.a.createElement(n.component,Object.assign({type:t},r,n.props)):a.a.createElement("div",null)};Xo.defaultProps={setBlockTrackingData:T.a};var ei=Xo,ti=r(123),ri=r(165),ni=r(53),oi=r(9);function ii(){return{type:oi.L,payload:{isInputFocused:!0}}}var ai=r(289),ci=r(38),li={ABSTAIN:"off",LOCATION_ADDRESS:"street-address",USER_BIRTHDAY_DATE:"bday",LOCATION_COUNTRY:"country",USER_EMAIL:"email",USER_FIRST_NAME:"given-name",USER_LAST_NAME:"family-name",USER_NAME:"name",COMPANY_NAME:"organization",USER_INFO_JOB_ROLE:"organization-title",USER_PHONE:"tel",LOCATION_ZIP_CODE:"postal-code",USER_GENDER:"sex",USER_WEBSITE:"off"};function si(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function ui(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?si(Object(r),!0).forEach((function(t){O()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):si(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var di,pi,bi,hi=C()(JSON.stringify,Se.h),mi=()=>(Object(pt.c)()&&window.scrollBy(0,0),e=>{setTimeout(()=>{e({type:oi.L,payload:{isInputFocused:!1}})},50)}),fi=Object(n.b)((e,t)=>{var{blockRef:r}=t,n=((e,t)=>{var r=null;return(n,o)=>{var i,a=Object(Se.n)(n,o),c=Object(Se.b)(n,o),l=Object(Pe.c)(n,a),s=c&&Object(Se.d)(c),u=Object(_e.f)(n),d=!Object(Se.O)(n)&&!Object(Se.N)(n);if(r&&!l&&r.isActive===l&&r.theme===u&&r.isCommitted===s&&r.isBlockListVisible===d)return r;var p=Object(Pe.k)(Object(Ee.d)(n),a.type),b=!Object(Se.C)(a.type,c),h=c&&Object(Se.e)(c),m=c&&Object(Se.c)(c),y=Object(Ie.c)(n,o),v=Object(Ie.d)(n,o),g=Object(ci.f)(n),O=e(n),j=t(n),C=g(O,{allowHyperlinks:!0}),w=g(j,{allowHyperlinks:!0}),k=Object(ai.a)(n,o),E=li[k],S=Object(f.h)(null===(i=u.fields)||void 0===i?void 0:i.alignment,a.layout.type),I=ui(ui({},a),{},{field:Object(Se.x)(n,o),blockIndex:Object(Se.o)(n,o),isFirstBlock:Object(Pe.l)(n,o),title:C,description:w,hasDescription:Boolean(j&&j.length),formId:Object(Ee.c)(n),uniqueId:Object(Pe.d)(n,o),autoComplete:E,encryptable:p,isAnswered:b,isActive:l,isValid:h,hasBeenInteractedWith:m,validationError:y,validationErrors:v,theme:u,isCommitted:s,isFocused:l&&Object(Pe.a)(n),isBlockListVisible:d,isReviewModeEnabled:Object(Ee.p)(n),isScrollNearTop:Object(Ee.q)(n),isVisibleGroupStickyHeader:Object(Se.D)(n),isLivePreview:Object(Ee.l)(n),language:Object(Ee.u)(n),shouldClearInput:!b&&Object(Ee.l)(n),partialResponse:Object(Re.c)(n,o),value:hi(c),scrolling:Object(Ee.z)(n),ref:void 0,textAlign:S,isA11yMultipleChoiceEnabled:Object(Ae.a)(n,De.b)===De.g,isOpinionScaleABTestVariant:Object(Ae.a)(n,De.c)===De.g});return r=I,I}})(Object(ci.b)(r),Object(ci.a)(r));return e=>n(e,r)},e=>ui({},Object(w.b)({onCommitAnswer:ti.a,onStageAnswer:ti.b,goToBlock:d.f,recenter:d.l,scrollToChoice:d.m,endAutoScroll:d.b,onInputFocus:ii,onInputBlur:mi,onRequireStickyFooter:we.a,onRequireStickyHeader:ri.a,onUnrecoverableError:ke.d,setBlockTrackingData:ni.b,submitForm:p.b,inlineSubmit:p.a},e)))(ei),yi=r(132),vi=r(87),gi=null===(di=window)||void 0===di||null===(pi=di.location)||void 0===pi||null===(bi=pi.search)||void 0===bi?void 0:bi.includes("typeform-render-all-blocks=true"),Oi=(e,t,r,n)=>{var{currentRef:o,previousRef:i,previousActiveRef:a,nextRef:c}=r,l=e.ref===o,s=e.ref===a,u=e.ref===i,d=e.ref===c,p=e.type===S.o||e.type===S.f,b=null==t?void 0:t.hasBeenInteractedWith;return gi||n&&(l||u||s)||l||u||d||p&&b},ji=e=>e&&e.attachment&&"image"===e.attachment.type&&e.attachment.resource&&e.attachment.resource.src,Ci=(e,t)=>e.findIndex(e=>e.ref===t),wi=(e,t)=>e.find(e=>e.blockRef===t),ki=c.d.div.withConfig({displayName:"BlockListItem__Wrapper",componentId:"sc-3hkawb-0"})(["position:absolute;width:100%;height:100%;padding-top:","px;",";",";transition:transform ","ms ease,opacity ","ms ease;",";",";",";"],e=>e.topOffset,e=>!e.isVisible&&"\n    opacity: 0;\n    pointer-events: none;\n  ",e=>(e.shouldBeUp||e.shouldBeDown)&&"pointer-events: none",Y.c,Y.c/2,e=>(e.shouldBeUp||e.shouldBeDown)&&"opacity: 0",e=>e.shouldBeUp&&"transform: translateY(-100vh)",e=>e.shouldBeDown&&"transform: translateY(100vh)"),Ei=e=>{var{answer:t,areBlocksVisible:r,block:n,component:o,blockIndex:i,currentBlockIndex:c,currentRef:l,goToBlock:s,handleCanSwipeChange:u,handleIsVideoPlayingChange:d,isDisplayed:p,isVideoPlaying:b,layoutItemsSize:h,listIndexText:m,nextRef:f,previousActiveRef:y,previousRef:v,topOffset:g}=e,O=n.ref===f,j=n.ref===l,C=n.ref===y,w=r&&(j||C),k=!Oi(n,t,{currentRef:l,previousRef:v,previousActiveRef:y,nextRef:f},r)||!gi&&O&&!r;return a.a.createElement(ki,{key:n.ref,isVisible:w,shouldBeUp:i<c,shouldBeDown:i>c||!r,topOffset:g,onFocus:e=>s(n.ref,{navigationType:Object(vi.a)(e)})},!k&&p&&a.a.createElement(o,{onChangeCanSwipe:u,blockRef:n.ref,layoutItemsSize:h,listIndexText:m,isVideoPlaying:b,onVideoClick:d}))},Si=a.a.memo(Ei),Ii=c.d.div.withConfig({displayName:"BlockList__Root",componentId:"ny54fa-0"})(["height:100%;"]),Pi=e=>{var t,r,{answers:n,blockChanging:o,blocks:c,canShowSubmitButton:l,component:s,currentPath:u,currentRef:d,forceSubmitButtonVisible:p,goToBlock:g,goToNextBlockFollowingLogic:O,inlineSubmit:j,isBlockChanging:C,isLivePreview:w,isSubmitButtonVisible:k,isVisible:E,layoutItemsSize:S,nextRef:I,previousActiveRef:P,previousRef:T,theme:x,topOffset:_,handleCanSwipeChange:R}=e,A=Object(yi.a)(u),D=Ci(c,d),B=Object(v.a)(),[F,V]=Object(i.useState)(!1),[L,N]=Object(i.useState)(!B);Object(i.useEffect)(()=>{L||B||N(!0)},[d,F]),Object(i.useEffect)(()=>{B&&N(!1)},[B]),Object(i.useEffect)(()=>{V(E)},[E]),Object(i.useEffect)(()=>{F&&o()},[F]);var M=Object(m.useBreakpoint)(),H=((e,t)=>e.find(e=>e.ref===t))(c,d),K=(null==H||null===(t=H.layout)||void 0===t?void 0:t.type)||f.d.STACK,U=(null==H||null===(r=H.layout)||void 0===r?void 0:r.attachment)||(null==H?void 0:H.attachment),W=()=>{B||(null==U?void 0:U.type)!==y.b.video||N(e=>!e)},q=Object(i.useCallback)((e,t)=>{if(Object(ct.i)(e)&&W(),Object(ct.n)(e)&&!Object(ct.l)(e)&&!k&&l&&t){if("payment"!==H.type&&(r="block-".concat(H.ref),n=e.srcElement,null!=(i=null===(o=document.getElementById(r))||void 0===o?void 0:o.querySelectorAll('button:not([disabled]), input:not([disabled]), textarea:not([disabled]), [tabindex="0"]'))&&i.length&&i[i.length-1]!==n))return;return p(!0),void e.preventDefault()}var r,n,o,i;if(Object(ct.e)(e))return j(d,e),void e.preventDefault();if(Object(ct.h)(e)&&!k&&!Object(ct.l)(e)&&!t){var a=Object(vi.a)(e);O(d,{navigationType:a}),e.preventDefault()}},[W,k,l,p,j,O,vi.a,H]),G={currentRef:d,previousRef:T,previousActiveRef:P,nextRef:I};return a.a.createElement(Ii,null,a.a.createElement(z.Provider,{value:C},a.a.createElement(yt,{commonHandleKeydown:q,areGlobalListenersDisabled:w},a.a.createElement(b.b,{hasAttachment:!!U,backgroundColor:x.colors.background,blocksMedia:c.map(e=>((e,t,r,n,o,i,c)=>{var l,s,u,d,p,m=t.layout||{type:f.d.STACK},y=m.type,v=Object(f.g)(y,r),{currentRef:g}=n,O=y===f.d.STACK?t.attachment:null===(l=t.layout)||void 0===l?void 0:l.attachment;if(!b.a.includes(v)||!O||!Oi(t,e,n,o))return null;var j=null==O?void 0:O.href,C=null==O?void 0:O.type,w=null!==(s=null==O||null===(u=O.properties)||void 0===u?void 0:u.focalPoint)&&void 0!==s?s:f.a,k=null==O||null===(d=O.properties)||void 0===d?void 0:d.brightness,E=null==O||null===(p=O.properties)||void 0===p?void 0:p.description,S=t.ref===g;return a.a.createElement(h.a,{attachmentAlt:E,attachmentBrightness:k,attachmentFocalPoint:w,attachmentHref:j,attachmentType:C,breakpoint:r,isVisible:S,key:t.ref,layoutType:y,pexelsApiKey:"563492ad6f9170000100000155494c9d9440421cbf19eb5eaac4615e",layoutPlacement:m.placement,isVideoPlaying:i&&S,onVideoClick:c})})(wi(n,e.ref),e,M,G,F,L,W)),breakpoint:M,isVisible:F,layoutType:K},c.map((e,t,r)=>{var o=e.ref,i=wi(n,o),c=((e,t)=>t.some(t=>t.ref===e.ref))(e,u),l=A[Ci(u,o)],p=Ci(r,o);return a.a.createElement(Si,{answer:i,areBlocksVisible:F,block:e,blockIndex:p,component:s,currentBlockIndex:D,currentRef:d,goToBlock:g,handleCanSwipeChange:R,handleIsVideoPlayingChange:W,isDisplayed:c,isVideoPlaying:L,key:o,layoutItemsSize:S,listIndexText:l,nextRef:I,previousActiveRef:P,previousRef:T,topOffset:_})})))))};Pi.defaultProps={blocks:[],blockChanging:T.a,component:fi,goToBlock:T.a,theme:{colors:{background:o.b}}};var Ti=Pi,xi=r(86),_i={blockChanging:d.a,forceSubmitButtonVisible:d.e,goToBlock:d.f,goToNextBlockFollowingLogic:d.i,inlineSubmit:p.a,onEndAutoScroll:d.b},Ri=Object(n.b)(e=>{var t=Object(Se.v)(e),r=Object(o.m)()&&Object(Ee.k)(e),n=!Object(xi.a)(e)&&!r&&Object(Se.D)(e),i=n?Object(Ee.D)(e):null,a=ji(i),c=0;return n&&(c=a?88:60),{answers:Object(Se.j)(e),blocks:Object(Se.r)(e),canShowSubmitButton:Object(Ee.a)(e,t),currentPath:Object(Se.u)(e),currentRef:t,isBlockChanging:Object(Ee.i)(e),isLivePreview:Object(Ee.l)(e),isSubmitButtonVisible:Object(Ee.r)(e,t),nextRef:Object(Se.I)(e,t),previousActiveRef:Object(Ee.v)(e),previousRef:Object(Pe.s)(e),scrolling:Object(Ee.z)(e),theme:Object(_e.f)(e),topOffset:c}},_i)(Ti),Ai=r(392),Di=r.n(Ai);function Bi(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}var Fi,Vi,Li=e=>e?e.childOfGroup&&e.listIndexText?null:e.titleCounterIcon||"arrow":null,Ni=c.d.div.withConfig({displayName:"StickyHeaderContainer__Wrapper",componentId:"sc-1tjdqrs-0"})(["position:absolute;top:0;left:0;width:100%;z-index:",";",";"],L.v.level3,e=>e.isVisible?"":"pointer-events: none;"),Mi=Qe.a?0:300,Hi=(Fi=Di.a,Vi=Mi,class extends i.Component{constructor(e){super(e),this.state=function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Bi(Object(r),!0).forEach((function(t){O()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Bi(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({},e),this.shouldRender=!1,this.updateState=Object(Ye.debounce)(Vi,this.updateState)}UNSAFE_componentWillReceiveProps(e){this.shouldRender=!1,this.updateState(e)}componentWillUnmount(){this.updateState.cancel()}updateState(e){this.shouldRender=!0,this.setState(e)}shouldComponentUpdate(){return this.shouldRender}render(){return a.a.createElement(Fi,this.state)}}),Ki=Object(m.withBreakpoint)(Object(n.b)((e,t)=>{var r=Object(xi.a)(e),n=Object(Ee.k)(e),i=Object(o.m)()&&n,a=!r&&Object(Ee.j)(e)&&"sm"!==t.breakpoint&&!i,c=!r&&Object(Se.D)(e)&&!i,l=a?Object(Ee.C)(e):null,s=c?Object(Ee.D)(e):null,u=Li(s),d=Li(l),p=Object(ci.f)(e);return{groupHeaderVisible:c,groupTitle:(null==s?void 0:s.title)&&p(s.title),groupHeaderIcon:u,groupHeaderCounter:s&&s.listIndexText,groupHeaderImage:ji(s),questionHeaderVisible:a,questionTitle:(null==l?void 0:l.title)&&p(l.title),questionHeaderIcon:d,questionHeaderCounter:l&&l.listIndexText,contextBackgroundColor:Object(_e.a)(e),contentColor:Object(_e.d)(e),counterColor:Object(_e.e)(e),oldLayout:!0,isBlockChanging:Object(Ee.i)(e),activeBlockRef:l?l.ref:null,groupBlock:s}})(e=>{var{isBlockChanging:t,questionHeaderVisible:r,questionTitle:n,groupHeaderVisible:o,groupTitle:c,activeBlockRef:l}=e,s=E()(e,["isBlockChanging","questionHeaderVisible","questionTitle","groupHeaderVisible","groupTitle","activeBlockRef"]),[u,d]=Object(i.useState)(!1);Object(i.useEffect)(()=>{if(!t){var e=setTimeout(()=>d(!1),Mi);return()=>clearTimeout(e)}d(!0)},[t]);var p=!u&&!t&&(o||r);return a.a.createElement(Ni,{"aria-hidden":!0,"data-qa-stickyheader-visible":p,"data-qa-stickyheader-blockref":l,isVisible:!u&&!t&&(o||r)},a.a.createElement(Hi,_()({questionHeaderVisible:r&&!u&&!t,groupHeaderVisible:o,questionHeaderContent:n,groupHeaderContent:c},s)))})),zi=r(117),Ui=r(438),Wi=r.n(Ui),qi=r(133),Gi=r(114),Yi={nextButtonOnClick:e=>Object(d.h)({navigationType:Object(vi.a)(e)}),previousButtonOnClick:e=>Object(d.j)({navigationType:Object(vi.a)(e)}),onClickBrandButton:()=>Object(ni.d)("typeform-footer")},Qi=Object(Pt.a)(Object(n.b)((e,t)=>{var r=Object(xi.e)(e),n=Object(xe.b)(e),i=Object(Ee.l)(e)?null:n("https://www.typeform.com/discover","typeform-footer"),a=Object(Ie.b)(e),c=Object(Se.i)(e);return{answeredText:t.t("label.progress.proportion",{step:a,total:c}),brandButtonHref:i,brandButtonText:Object(G.a)(t.t("label.branding.poweredby")),buttonsColor:Object(_e.b)(e),buttonsContentColor:Object(_e.c)(e),contextBackgroundColor:Object(_e.a)(e),dataQa:"fixed-footer",isBrandLogoVisible:Object(Gi.c)(e),nextButtonDisabled:!Object(qi.a)(e),percentageText:t.t("label.progress.percent",{percent:Math.round(100*a/c)}),previousButtonDisabled:!Object(qi.b)(e),progressBackgroundColor:Object(_e.a)(e),progressColor:Object(_e.d)(e),progressCompletedAmount:Object(Ie.b)(e),progressTotalAmount:Object(Se.i)(e),progressType:Object(Ee.w)(e),transparentButtons:Object(_e.g)(e),visible:!Object(o.m)()||!Object(Ee.k)(e),withBackground:!r,withBranding:Object(Ee.B)(e),withNavigationArrows:!r&&!Object(Ee.f)(e),withProgress:!r&&!Object(Ee.o)(e)}},Yi)(Wi.a)),Ji=r(23),Zi=r(138),$i=r.n(Zi),Xi=r(69),ea=r.n(Xi),ta=r(288),ra=c.d.div.withConfig({displayName:"StickyFooter__CommitButtonWrapper",componentId:"sc-1ud3eur-0"})(["display:flex;align-items:center;"]),na=c.d.div.withConfig({displayName:"StickyFooter__StickyFooterPlaceholder",componentId:"sc-1ud3eur-1"})(["position:absolute;width:100%;overflow:hidden;height:","px;bottom:","px;z-index:",";opacity:",";visibility:",";"],56,L.m,e=>e.isActive?L.v.level3:L.v.level0,e=>e.isActive?"1":"0",e=>e.isActive?"visible":"hidden"),oa=c.d.div.withConfig({displayName:"StickyFooter__StickyFooterWrapper",componentId:"sc-1ud3eur-2"})(["display:flex;align-items:center;justify-content:space-between;border-top:1px solid;height:","px;background-color:",";border-color:",";"],e=>e.$height,e=>Object(o.x)(Object(o.q)(e.contextBackgroundColor,e.$color,.2)),e=>Object(o.q)(e.contextBackgroundColor,e.$color,.3)),ia=e=>{var{blockRef:t,show:r,theme:n,t:o,breakpoint:i,buttonText:c,showButtonIcon:l,helperText:s,isButtonTypeSubmit:d,isEnabled:p,isLivePreview:b,isPaymentBlockAnswered:h,onCommitAnswer:m,price:f,recenter:y,submit:v,submitForm:g}=e,O=Object(ce.useIsTouch)();if(!p)return null;var j="sm"===i,C=j||O?"":Object(G.a)(o(s));return a.a.createElement(na,{"aria-hidden":!0,isActive:r},a.a.createElement(u.b,{type:"slideUp",isVisible:r},a.a.createElement(oa,{$height:56,contextBackgroundColor:n.colors.background,$color:n.colors.secondary,"data-qa":"sticky-footer","data-qa-visible":r},a.a.createElement(Ji.b,null,a.a.createElement(ra,null,d?a.a.createElement(ue,{centered:j,fullWidth:j,helperText:"",isComplete:v.isComplete,isLivePreview:b,isPaymentBlockAnswered:h,isSubmitting:v.isSubmitting,onClick:e=>{y("bottom"),g(e)},price:f,size:"medium",t:o,theme:n}):a.a.createElement(ea.a,{fullWidth:j,onClick:e=>{m(t,e,{source:ta.a})},iconSvg:l?ae.a:null,size:"medium",color:n.colors.button,contentColor:n.colors.buttonContent,contextBackgroundColor:n.colors.background,transparent:n.hasTransparentButton,dataQa:"sticky-footer-button"},o(c)),C&&a.a.createElement(D.b,{left:2},a.a.createElement($i.a,{text:C,color:n.colors.secondary})))))))};ia.defaultProps={t:e=>e,recenter:e=>e,buttonText:"label.button.ok",showButtonIcon:!0,isEnabled:!0,theme:{colors:{background:o.b,button:o.b,secondary:o.b}},submit:{retry:{},isComplete:!1,isSubmitting:!1}};var aa=Object(m.withBreakpoint)(Object(P.a)(ia)),ca={onCommitAnswer:ti.a,recenter:d.l,submitForm:p.b},la=Object(n.b)(e=>{var t=Object(Se.v)(e),r=Object(Ee.y)(e),n=Object(Se.n)(e,r);if(!n||r!==t)return{show:!1,theme:Object(_e.f)(e)};var i=Object(o.m)()&&Object(Ee.k)(e),a=Object(Ee.h)(e,r),c=q()?"label.buttonHint.submit-mac":"label.buttonHint.submit";return{blockRef:r,buttonText:n.buttonText,helperText:a?c:"label.buttonHint.default",isButtonTypeSubmit:a,isEnabled:Object(o.m)(),isLivePreview:Object(Ee.l)(e),isPaymentBlockAnswered:Object(Ie.m)(e),price:Object(Se.L)(e),show:!Object(xi.e)(e)&&!i,showButtonIcon:!Object(Se.E)(n),submit:Object(Se.Q)(e),theme:Object(_e.f)(e)}},ca)(aa),sa=r(513),ua=e=>{var{breakpoint:t,href:r,isOnScreen:n,isStickyHeaderVisible:o,isVisible:i,placement:c}=e,l=((e,t,r)=>"sm"===t?r?sa.a.TOP_LEFT:sa.a.BOTTOM_LEFT:e)(c,t,n),s=l===sa.a.TOP_LEFT&&o;return a.a.createElement(sa.b,{href:r,isVisible:i&&!s,placement:l})},da=Object(m.withBreakpoint)(Object(n.b)((e,t)=>{var r=Object(Ee.j)(e)&&"sm"!==t.breakpoint,n=Object(Se.D)(e);return{breakpoint:t.breakpoint,href:Object(Gi.a)(e),isOnScreen:Object(Se.N)(e)||Object(Se.O)(e),isStickyHeaderVisible:(r||n)&&!Object(xi.a)(e),isVisible:Object(Gi.c)(e),placement:Object(Gi.b)(e)}})(ua)),pa=c.d.div.withConfig({displayName:"Form__Root",componentId:"sc-18c4ntz-0"})(["height:100%;overflow:hidden;"]),ba=c.d.div.withConfig({displayName:"Form__FooterWrapper",componentId:"sc-18c4ntz-1"})(["position:absolute;opacity:inherit;right:0;left:0;bottom:0;z-index:10;pointer-events:none;"]),ha=e=>{"stkv-form-root"===e.target.id&&(e.target.scrollTop=0)},ma=e=>{var{layoutItemsSize:t,showBlockList:r,showThankYouScreen:n,showWelcomeScreen:o,handleCanSwipeChange:c}=e,l=Object(zi.a)(),[s,d]=Object(i.useState)(Object(pt.c)());return Object(i.useEffect)(()=>{if(r&&Object(pt.c)()){var e=setTimeout(()=>d(!1),Y.c+200);return()=>clearTimeout(e)}return()=>{}},[r]),l&&o?null:a.a.createElement(pa,{"aria-hidden":n||o,id:"stkv-form-root",onScroll:ha},a.a.createElement(Ki,null),!n&&a.a.createElement(a.a.Fragment,null,a.a.createElement(Ri,{handleCanSwipeChange:c,component:fi,isVisible:r,layoutItemsSize:t}),a.a.createElement(la,null)),a.a.createElement(u.b,{isVisible:r,type:"fade",duration:Qe.a?0:500,delay:Qe.a?0:300},a.a.createElement(ba,{"aria-hidden":s},a.a.createElement(Qi,null))),a.a.createElement(da,null))};ma.defaultProps={layoutItemsSize:{}};var fa=ma;t.default=Object(n.b)(e=>({theme:e.form.theme,showBlockList:!Object(Se.O)(e)&&!Object(Se.N)(e),isFooterVisible:!Object(o.m)()||!Object(Ee.k)(e),hasBlocksWithAnswer:Object(Ie.f)(e),showThankYouScreen:Object(Se.N)(e),showWelcomeScreen:Object(Se.O)(e)}))(fa)},524:function(e,t,r){"use strict";r.r(t),r.d(t,"default",(function(){return pr}));var n=r(103),o=r(382),i=r(385),a=r(9),c="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789";function l(e){for(var t="",r=0;r<e;r++)t+=c.charAt(Math.floor(Math.random()*c.length));return t}var s=r(6),u=r.n(s);function d(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function p(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?d(Object(r),!0).forEach((function(t){u()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):d(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var b=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{type:t}=arguments.length>1?arguments[1]:void 0;switch(t){case a.s:return p(p({},e),{},{isFormMarkAsClosed:!0});case a.E:return p(p({},e),{},{isFormMarkAsClosed:!0,isCloseScreenVisible:!0});default:return e}};function h(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function m(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?h(Object(r),!0).forEach((function(t){u()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):h(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var f=(e,t)=>{var{payload:{ref:r}}=t;return m(m({},e),{},{currentRef:r,previousRef:e.currentRef,requireStickyFooter:null,forceSubmitButtonVisible:!1})},y=(e,t)=>{var{payload:r}=t;return m(m({},e),{},{isBlockChanging:r})},v=(e,t)=>{var{payload:r}=t;return m(m({},e),{},{forceSubmitButtonVisible:r})};function g(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function O(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?g(Object(r),!0).forEach((function(t){u()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):g(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var j=(e,t)=>{var{payload:{anchor:r,target:n,fast:o}}=t;return O(O({},e),{},{scrolling:{scrollType:"recenter",anchor:r,target:n,fast:o}})},C=(e,t)=>{var{payload:{ref:r}}=t;return O(O({},e),{},{scrolling:{ref:r,scrollType:"choice"}})},w=(e,t)=>{var{payload:{ref:r}}=t;return O(O({},e),{},{currentScreenRef:r})},k=e=>O(O({},e),{},{currentScreenRef:null});function E(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function S(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?E(Object(r),!0).forEach((function(t){u()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):E(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function I(e,t){var{payload:{isScrollNearTop:r}}=t;return S(S({},e),{},{isScrollNearTop:r})}function P(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function T(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?P(Object(r),!0).forEach((function(t){u()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):P(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function x(e,t){var{payload:{blockRef:r,show:n=!1}}=t;return n||e.requireStickyFooter===r?T(T({},e),{},{requireStickyFooter:n?r:null}):e}function _(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function R(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?_(Object(r),!0).forEach((function(t){u()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):_(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var A=(e,t)=>{var r=e.blocks.findIndex(e=>e.id===t.payload.blockId);return e.blocks[r].file=t.payload.file,R({},e)},D=(e,t)=>{var r=e.blocks.findIndex(e=>e.id===t.payload.blockId);return e.blocks[r].uploadProgress=t.payload.uploadProgress,R({},e)};function B(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function F(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?B(Object(r),!0).forEach((function(t){u()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):B(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function V(e){return F(F({},e),{},{scrolling:null})}var L=r(62),N=r(110);function M(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function H(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?M(Object(r),!0).forEach((function(t){u()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):M(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var K=r(129);var z=r(386),U=r.n(z),W=r(143),q=r(83),G=r(2);function Y(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Q(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Y(Object(r),!0).forEach((function(t){u()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Y(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var J={answersList:[]},Z=(e,t)=>{var{payload:{validationErrors:r,blockRef:n}}=t,o=Object(q.a)(e.answersList,n),i=e.answersList[o];return Q(Q({},e),{},{answersList:U()(o,Q(Q({},i),{},{validationErrors:null!=r?r:[],isValid:!r||0===r.length}),e.answersList)})},$=(e,t)=>{var{payload:{answer:r}}=t,n=Object(G.a)(r),o=Object(q.a)(e.answersList,n);return Q(Q({},e),{},{answersList:U()(o,Q(Q({},r),{},{isCommitted:!1,hasBeenInteractedWith:!0}),e.answersList)})},X=(e,t)=>{var{payload:{ref:r}}=t;return Q(Q({},e),{},{answersList:e.answersList.map(e=>Object(G.a)(e)!==r?e:Q(Q({},e),{},{isCommitted:!0}))})},ee=(e,t)=>{var{payload:{ref:r}}=t;return Q(Q({},e),{},{answersList:e.answersList.map(e=>Object(G.a)(e)!==r?e:Q(Q({},e),{},{isCommitted:!0}))})},te=e=>Q(Q({},e),{},{answersList:e.answersList.map(e=>Q(Q({},e),{},{isCommitted:!0}))});var re=[];function ne(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function oe(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ne(Object(r),!0).forEach((function(t){u()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ne(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var ie={legacyAccountId:"",accountUid:"",cookieAccountUids:null,formId:"",initialized:!1,isFormCreator:!1,isFirstConversation:null,sessionId:null,planName:"",blockRefTracking:{}};var ae=function(){var e,t,r,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ie,{type:o,payload:i}=arguments.length>1?arguments[1]:void 0;switch(o){case a.M:return oe(oe({},n),{},{initialized:!0,segmentKey:null==i?void 0:i.segmentKey,isFormCreator:null!==(e=null==i||null===(t=i.cookieAccountUids)||void 0===t?void 0:t.includes(n.accountUid))&&void 0!==e&&e,isFirstConversation:null==i?void 0:i.isFirstConversation,sessionId:l(12)});case a.D:return oe(oe({},n),{},{visitCurrentCycle:i.visitCurrentCycle});case a.C:var{ref:c,responseFilled:s}=i,u=(null===(r=n.blockRefTracking)||void 0===r?void 0:r[c])||{};return oe(oe({},n),{},{blockRefTracking:oe(oe({},n.blockRefTracking),{},{[c]:oe(oe({},u),{},{responseFilled:s})})});default:return n}};function ce(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function le(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ce(Object(r),!0).forEach((function(t){u()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ce(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var se={backgroundOpacity:1,hideHeaders:!1,minimalFooter:!1,mode:null},ue=(e,t)=>Object.keys(e).every(e=>Object.keys(t).includes(e));var de=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return ue(se,e)||(e=le(le({},se),e)),e},pe=r(141),be=r(33),he=r(13);function me(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function fe(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?me(Object(r),!0).forEach((function(t){u()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):me(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function ye(e,t){var{currentBlockRef:r,paymentProviders:n,resetAnswers:o}=t.payload,i=Object(pe.a)(t.payload),a=fe(fe({},e),{},{submit:o?N.a:e.submit,form:fe(fe({},i),{},{currentRef:e.form.currentRef,currentScreenRef:e.form.currentScreenRef,isScrollNearTop:!0,isLivePreview:e.form.isLivePreview}),paymentProviders:fe(fe({},e.paymentProviders),n)}),c=Object(G.r)(a),l=((e,t,r)=>{var n=Object(W.a)(t);return r?n:[...e.filter(e=>!!t.find(t=>{var{ref:r}=t;return r===e.blockRef})),...n.filter(t=>!e.find(e=>Object(G.a)(e)===Object(G.a)(t)))]})(Object(G.j)(e),c,o);if(a.answers={answersList:l},a.pipingAnswers=l,null!=r)if(Object(be.b)(a,r)||Object(be.a)(a,r))a.form.currentScreenRef=r;else{a.form.currentScreenRef=null;var s=Object(he.o)(a,r)?r:Object(he.e)(a);s&&(a.form.currentRef=s)}return a}var ve=r(128);function ge(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Oe(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ge(Object(r),!0).forEach((function(t){u()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ge(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var je=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ve.a,{type:t,payload:r}=arguments.length>1?arguments[1]:void 0;switch(t){case a.L:return Oe(Oe({},e),{},{isInputFocused:r.isInputFocused});default:return e}},Ce=function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case a.i:return!0;case a.h:return!1;default:return e}};function we(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function ke(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?we(Object(r),!0).forEach((function(t){u()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):we(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var Ee={stripePaymentMethodId:null,stripePaymentIntentId:null,service:null};var Se=Object(n.c)({accessScheduling:b,answers:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:J,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case a.U:return Z(e,t);case a.G:return $(e,t);case a.f:return X(e,t);case a.e:return ee(e,t);case a.c:return te(e);default:return e}},autoFocus:Ce,embedSettings:de,form:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case a.a:return f(e,t);case a.b:return y(e,t);case a.o:return v(e,t);case a.F:return w(e,t);case a.p:return k(e);case a.B:return C(e,t);case a.t:return j(e,t);case a.j:return V(e);case a.n:return A(e,t);case a.m:return D(e,t);case a.w:return I(e,t);case a.v:return x(e,t);default:return e}},input:je,paymentProviders:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ee,{type:t,payload:r}=arguments.length>1?arguments[1]:void 0;switch(t){case a.z:return ke(ke({},e),{},{stripe:ke(ke({},e.stripe),{},{stripePaymentMethodId:r})});case a.y:return ke(ke({},e),{},{stripe:ke(ke({},e.stripe),{},{stripePaymentIntentId:r})});case a.A:return ke(ke({},e),{},{stripe:ke(ke({},e.stripe),{},{service:r})});default:return e}},pipingAnswers:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:re,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case a.S:return t.payload;default:return e}},reviewMode:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:K.a,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case a.l:return{isReviewModeEnabled:!0};case a.k:return{isReviewModeEnabled:!1};default:return e}},submit:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:N.a,{type:t,payload:r}=arguments.length>1?arguments[1]:void 0;switch(t){case a.H:return H(H({},e),{},{isSubmitting:!(null!=r&&r.isLivePreview),isSuccess:!1,isComplete:!1,errorMessage:null,retry:H(H({},e.retry),{},{timeout:0}),navigationType:null==r?void 0:r.navigationType});case a.K:return H(H({},e),{},{isSubmitting:!1,isSuccess:!0,isComplete:!0,retry:H(H({},e.retry),{},{count:0,showMessage:!1,timeout:0})});case a.J:var{showMessage:n,count:o}=e.retry;return H(H({},e),{},{isSubmitting:!0,isSuccess:!1,isComplete:!1,retry:H(H({},e.retry),{},{count:o+1,timeout:r.retry.timeout,showMessage:n||o>=L.g})});case a.g:var i=e.retry.timeout-1;return H(H({},e),{},{retry:H(H({},e.retry),{},{timeout:i>0?i:0})});case a.x:return H(H({},e),{},{retry:H(H({},e.retry),{},{count:2})});case a.r:return H(H({},e),{},{responseId:r.responseId,landingId:r.landingId,landingAt:r.landingAt});case a.q:return e;case a.I:return H(H({},e),{},{isSubmitting:!1,isSuccess:!1,isComplete:!1,errorMessage:r.message,retry:H({},N.a.retry)});case a.G:return H(H({},e),{},{errorMessage:null});default:return e}},tracking:ae,abTests:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return e},brandLogo:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return e},disableNavigation:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return e},disableSubmit:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return e},disableTracking:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return e},featureFlags:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return e},hideSubmitButton:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return e},intents:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return e},isLivePreview:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return e},isOfflineMode:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return e},testVariants:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return e},timeToComplete:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return e},uniqueId:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:l(16);return e},unrecoverableError:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case a.u:return t.payload;default:return e}}}),Ie=(e,t)=>{switch(t.type){case a.T:return ye(e,t);default:return Se(e,t)}},Pe=r(229),Te=(e,t)=>(e=>e.featureFlags||{})(e)[t],xe=r(18),_e=r(292),Re=r(236),Ae=r(45),De=r(16);function*Be(e){var t=yield Object(Pe.i)(xe.c),r=yield Object(Pe.i)(Re.i),n=yield Object(Pe.i)(be.c);yield Object(Pe.g)(Object(Ae.e)()),yield Object(Pe.g)(Object(De.n)(n.ref)),"function"==typeof e&&(yield Object(Pe.b)(e,t,r))}var Fe=r(247),Ve=r.n(Fe),Le=r(286),Ne=r(7),Me=r(8),He=r(5),Ke=r(105),ze=r(289),Ue=r(231),We=r(64),qe=r.n(We),Ge=r(108),Ye=r.n(Ge);function Qe(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Je(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Qe(Object(r),!0).forEach((function(t){u()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Qe(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var Ze={All:!1,Natero:!0,Iterable:!0},$e=e=>new Promise(t=>{Ve.a.identify(e,null,{context:{ip:"0.0.0.0"},integrations:Ze},t)}),Xe=e=>{Object(Ke.e)(e)},et=function(){var e=qe()((function*(e,t){var r=(()=>{var e,t=parseInt(Ye.a.get("ajs_user_id"),10)||null;try{e=parseInt(window.localStorage.getItem("ajs_user_id"),10)||null}catch(e){}return t||e})();if(yield $e("renderer"),yield Promise.all(e.map(e=>({data:e.data||{},options:e.options||{}})).map(e=>({data:Je({},e.data),options:Je(Je({},e.options),{},{context:{ip:"0.0.0.0"},integrations:e.options.integrations||Ze})})).map(e=>{return t=e.data.event,r=e.data,n=e.options,new Promise(e=>{Ve.a.sendEvent(t,r,n,e)});var t,r,n})),r&&"null"!==r)yield $e(r);else if(window.analytics){var n=window.analytics.user()&&window.analytics.user().anonymousId();window.analytics.reset(),(e=>{var t=window.analytics.user();t&&t.anonymousId(e)})(n)}}));return function(t,r){return e.apply(this,arguments)}}(),tt=r(86),rt=r(288),nt=r(53),ot=r(44),it=r(46),at=r(30);function*ct(e,t){var r=yield Object(Pe.i)(it.b),n=Object.keys(r);if(n.length){var o=yield Object(Pe.i)(xe.c),i=yield Object(Pe.i)(Ue.i),a=yield Object(Pe.i)(Ue.g);for(var c of n){var l=r[c],s={event:at.a,attribution_user_id:Le.getUser(),test_id:c,variant_label:l,form_uid:o,account_id:i.legacyAccountId,typeform_view_id:a};yield Object(Pe.g)(e,{data:s,options:t})}}}var lt=r(259);function st(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function ut(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?st(Object(r),!0).forEach((function(t){u()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):st(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var dt="block_answered",pt="block_focused",bt="block_footer_clicked",ht="block_footer_visible",mt="conversation_submitted",ft="item_clicked",yt="present_conversation",vt="review_mode_entered",gt="start_conversation",Ot="submit_button_shown",jt="typeform_previewed",Ct={integrations:{All:!1}},wt=()=>Object(Ne.m)()?"mobile":"desktop",kt=()=>(new Date).getTimezoneOffset(),Et=()=>{try{return Intl.DateTimeFormat().resolvedOptions().timeZone}catch(e){return null}};function*St(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:2e3,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1e3;yield Object(Pe.k)(a.M),yield Object(Pe.b)(It);var r=yield Object(Pe.b)(o.b,o.a.expanding(10));yield Object(Pe.f)(Pt,r,e),yield Object(Pe.f)(ct,r,Ct);var n=yield Object(Pe.i)(Ue.f);if(n){var i={integrations:{All:!1,Natero:!0,"Google Analytics":!0,"Facebook Pixel":!0,AdWords:!0}},c=yield Object(Pe.b)(Nt);yield Object(Pe.g)(r,{data:c,options:i})}else{var l=yield Object(Pe.b)(Ft);yield Object(Pe.g)(r,{data:ut({},l)}),yield Object(Pe.f)((function*(){yield Object(Pe.b)(lt.a,(function*(e){var t=yield Object(Pe.i)(xe.c);yield Object(Pe.b)(Xe,t);var n=yield Object(Pe.b)(Ke.f,t);yield Object(Pe.g)(Object(nt.c)(n));var o=yield Object(Pe.b)(Dt,e);yield Object(Pe.g)(r,{data:o})}))})),yield Object(Pe.f)((function*(){yield Object(Pe.k)(a.K);var e=yield Object(Pe.b)(Vt);yield Object(Pe.g)(r,{data:e})})),yield Object(Pe.f)((function*(){for(var e;;){var t=yield Object(Pe.k)(a.v),n=yield Object(Pe.i)(G.v),o=t.payload.blockRef;if(t.payload.show&&o===n){if(e===o)continue;e=o;var i=yield Object(Pe.b)(Lt,ht);i&&(yield Object(Pe.g)(r,{data:i,options:Ct}))}}})),yield Object(Pe.f)((function*(){for(;;){var e=yield Object(Pe.k)(a.d),{source:t}=e.payload;if(t===rt.a){var n=yield Object(Pe.b)(Lt,bt);n&&(yield Object(Pe.g)(r,{data:n,options:Ct}))}}})),yield Object(Pe.f)((function*(){for(;;){yield Object(Pe.k)(a.l);var e={invalid_answers_amount:yield Object(Pe.i)(q.g)},t=yield Object(Pe.b)(xt,vt,e),n=Ct;yield Object(Pe.g)(r,{data:t,options:n})}})),yield Object(Pe.f)((function*(){for(;;){var{payload:e}=yield Object(Pe.k)([a.a,a.O]),t=e.ref;if(yield Object(Pe.i)(xe.r,t)){var n=yield Object(Pe.i)(Ue.i),o=yield Object(Pe.i)(xe.c),i=yield Object(Pe.i)(Ue.g),c=yield Object(Pe.i)(G.n,t),l={account_id:n.legacyAccountId,attribution_user_id:Le.getUser(),block_ref:t,block_type:c?c.type:null,event:Ot,form_uid:o,typeform_view_id:i,ws_owner_account_id:n.legacyAccountId},s=Ct;yield Object(Pe.g)(r,{data:l,options:s})}}})),yield Object(Pe.f)((function*(){var e,n,o,i,c={integrations:{All:!1}},l=yield Object(Pe.i)(G.w),s=!!l,u=yield Object(Pe.i)(G.v);if(e=yield Object(Pe.i)(Ue.a),n=e(u),s)o=yield Object(Pe.b)(_t,l,pt);else{var d=yield Object(Pe.i)(q.h,u);o=yield Object(Pe.b)(Rt,u,pt,{prefilled_block:d,response_prefilled:n.responseFilled||null})}yield Object(Pe.g)(r,{data:o,options:c});for(var p=function*(){var{payload:o}=yield Object(Pe.k)(a.a),l=yield Object(Pe.i)(q.h,o.ref);yield Object(Pe.d)(),e=yield Object(Pe.i)(Ue.a),n=e(o.ref);var s=yield Object(Pe.b)(Rt,o.ref,pt,{navigation_type:o.navigationType,prefilled_block:l,response_prefilled:n.responseFilled||null});if(!s)return"continue";i&&(yield Object(Pe.c)(i)),i=yield Object(Pe.f)((function*(){yield Object(Pe.d)(t),yield Object(Pe.g)(r,{data:s,options:c})}))};;)yield*p()})),yield Object(Pe.f)((function*(){for(var e,n={integrations:{All:!1}},o=function*(){var{type:o,payload:i}=yield Object(Pe.k)([a.a,a.H]),c=yield Object(Pe.i)(G.v),l=yield Object(Pe.i)(xe.v);if(o===a.a&&c===l)return"continue";var s=o===a.H?c:l,u=yield Object(Pe.i)(G.B,s),d=yield Object(Pe.i)(q.l,s),p=(yield Object(Pe.i)(Ue.a))(s),b=yield Object(Pe.b)(Rt,s,dt,{changed_prefilled_value:d,answered:u,navigation_type:i.navigationType,response_filled:p.responseFilled||null});if(!b)return"continue";e&&(yield Object(Pe.c)(e)),e=yield Object(Pe.f)((function*(){yield Object(Pe.d)(t),yield Object(Pe.g)(r,{data:b,options:n})}))};;)yield*o()})),yield Object(Pe.f)((function*(){for(;;){var{payload:e}=yield Object(Pe.k)(a.N),{label:t}=e,n=yield Object(Pe.b)(Ht,t);yield Object(Pe.g)(r,{data:n})}})),yield Object(Pe.f)((function*(){for(;;){var{payload:e}=yield Object(Pe.k)(a.Q),{label:t,navigationType:n}=e,o=yield Object(Pe.b)(Kt,t,n);yield Object(Pe.g)(r,{data:o})}})),yield Object(Pe.f)((function*(){for(;;){var{payload:e}=yield Object(Pe.k)(a.P),{label:t}=e,n=yield Object(Pe.b)(zt,t);yield Object(Pe.g)(r,{data:n})}}))}}function*It(){var e=yield Object(Pe.i)(Ue.j);if(e){var t=yield Object(Pe.b)(Tt);yield Object(Pe.b)(Ve.a.initRenderer,e,t)}}function*Pt(e,t){for(;;){var r=[yield Object(Pe.k)(e),...yield Object(Pe.e)(e)],n=yield Object(Pe.i)(Ue.i);yield Object(Pe.b)(et,r,n.legacyAccountId);var o=yield Object(Pe.i)(G.k),i=yield Object(Pe.i)(Re.a);o||i||(yield Object(Pe.h)({delay:Object(Pe.d)(t),cancel:Object(Pe.k)(a.H)}))}}function*Tt(){var e=yield Object(Pe.i)(xe.c),t=yield Object(Pe.i)(Ue.g),r=yield Object(Pe.i)(Ue.i),n=yield Object(Pe.b)(Ke.a,e);return{account_id:r.legacyAccountId,attribution_user_id:Le.getUser(),form_uid:e,form_visitor_id:n,typeform_view_id:t,ws_owner_account_id:r.legacyAccountId}}function*xt(e,t){return ut(ut({},yield Object(Pe.b)(Tt)),{},{event:e},t)}function*_t(e,t,r){var n=yield Object(Pe.i)(G.S);if(!n)return null;var o=yield Object(Pe.i)(Re.c),i=(new Date).getTime(),a=window.performance&&window.performance.timing&&window.performance.timing.domComplete,c=ut({attachment_type:n.attachment&&n.attachment.type||null,block_index:0,block_ref:e,block_type:He.x,landing_token:o,layout_type:n.layout&&n.layout.type||Me.d.STACK,question_intent:null,question_required:null,response_id:null,prefilled_block:null,response_prefilled:null,time_since_page_load:a?Math.round(i-a):0},r);return yield Object(Pe.b)(xt,t,c)}function*Rt(e,t,r){var n=yield Object(Pe.i)(G.r),o=n.find(t=>t.ref===e);if(!o)return null;var i=n.findIndex(t=>t.ref===e),a=yield Object(Pe.i)(Re.c),c=yield Object(Pe.i)(Re.e),l=yield Object(Pe.i)(he.i,e),s=yield Object(Pe.i)(ze.a,e),u=(new Date).getTime(),d=window.performance&&window.performance.timing&&window.performance.timing.domComplete,p=ut({attachment_type:o.attachment&&o.attachment.type||null,block_index:i,block_ref:e,block_type:o.type,landing_token:a,layout_type:o.layout&&o.layout.type||Me.d.STACK,question_intent:s||null,question_required:l,response_id:c,time_since_page_load:d?Math.round(u-d):0},r);return yield Object(Pe.b)(xt,t,p)}function*At(){return(yield Object(Pe.i)(tt.d))?{embedding_mode:yield Object(Pe.i)(tt.c),headers_displayed:!(yield Object(Pe.i)(tt.a)),footers_displayed:!(yield Object(Pe.i)(tt.e)),transparency:100-100*(yield Object(Pe.i)(tt.b))}:{embedding_mode:null}}function*Dt(e){var{navigationType:t}=e,r=yield Object(Pe.i)(xe.c),n=yield Object(Pe.i)(Ue.e),o=yield Object(Pe.i)(q.j),i=yield Object(Pe.b)(Ke.c,r),a=yield Object(Pe.i)(Ue.k),c=yield Object(Pe.i)(G.S),l=He.x;if(!c){var s=yield Object(Pe.i)(G.m,0);l=null==s?void 0:s.type}var u={distribution_channel:"standard",height:window.innerHeight,is_first_conversation:n,local_time_offset:kt(),local_timezone:Et()||null,natero_feature_name:gt,navigation_type:t,platform:wt(),prefilled_data:o,renderer_version:"louvre",respondent_method:"web_renderer",visit_number:i,visit_number_current_cycle:a,width:window.innerWidth,block_type:l},d=yield Object(Pe.b)(xt,gt,u),p=yield Object(Pe.b)(At);return d=ut(ut({},d),p)}function*Bt(){var e=yield Object(Pe.i)(xe.c),t=yield Object(Pe.b)(Ke.d,e);return yield Object(Pe.g)(Object(nt.c)(t)),t}function*Ft(){var e=yield Object(Pe.i)(q.j),t=yield Object(Pe.i)(xe.c),r=yield Object(Pe.b)(Bt,t),n=yield Object(Pe.b)(Ke.c,t),o={natero_feature_name:"".concat(yt,"_").concat("standard"),distribution_channel:"standard",respondent_method:"web_renderer",platform:wt(),prefilled_data:e,embedding_mode:null,renderer_version:"louvre",local_time_offset:kt(),local_timezone:Et()||null,visit_number_current_cycle:r,visit_number:n},i=yield Object(Pe.b)(xt,yt,o),a=yield Object(Pe.b)(At);return i=ut(ut(ut({},i),a),ot.c.getEventsToBeTracked())}function*Vt(){var e=yield Object(Pe.i)(xe.c),t=yield Object(Pe.i)(Ue.e),r=yield Object(Pe.i)(Re.c),n=yield Object(Pe.i)(Re.e),o=yield Object(Pe.i)(Re.d),i=yield Object(Pe.i)(q.j),a=yield Object(Pe.b)(Ke.c,e),c=yield Object(Pe.i)(Ue.k),l=(new Date).getTime(),s=window.performance&&window.performance.timing&&window.performance.timing.domComplete,u={distribution_channel:"standard",is_first_conversation:t,landing_token:r,local_time_offset:kt(),local_timezone:Et()||null,natero_feature_name:mt,navigation_type:o,platform:wt(),prefilled_data:i,respondent_method:"web_renderer",response_id:n,time_to_submit:s?Math.round((l-s)/1e3):-1,visit_number_current_cycle:c,visit_number:a},d=yield Object(Pe.b)(xt,mt,u),p=(yield Object(Pe.i)(xe.n))?{online:window.navigator.onLine}:{},b=yield Object(Pe.b)(At);return d=ut(ut(ut({},d),b),p)}function*Lt(e){var t=yield Object(Pe.i)(Ue.e),r={distribution_channel:"standard",height:window.innerHeight,is_first_conversation:t,local_time_offset:kt(),local_timezone:Et()||null,natero_feature_name:e,platform:wt(),renderer_version:"louvre",respondent_method:"web_renderer_one_question_per_screen",width:window.innerWidth},n=yield Object(Pe.b)(xt,e,r),o=yield Object(Pe.b)(At);return n=ut(ut({},n),o)}function*Nt(){var e=yield Object(Pe.i)(Ue.i),t=yield Object(Pe.i)(xe.c);return{event:jt,form_uid:t,account_id:e.legacyAccountId,natero_feature_name:jt}}function*Mt(e){var t=yield Object(Pe.i)(Ue.e),r=yield Object(Pe.i)(Re.c),n=yield Object(Pe.i)(Re.e),o=yield Object(Pe.b)(At);return ut(ut({is_first_conversation:t,landing_token:r,platform:wt(),response_id:n},o),e)}function*Ht(e){var t=yield Object(Pe.b)(Mt,{item:"viral_branding",label:e});return yield Object(Pe.b)(xt,ft,t)}function*Kt(e,t){var r=yield Object(Pe.b)(Mt,{item:"thankyou_screen_again",label:e,navigation_type:t});return yield Object(Pe.b)(xt,ft,r)}function*zt(e){var t=yield Object(Pe.b)(Mt,{item:"thankyou_screen_social",label:e});return yield Object(Pe.b)(xt,ft,t)}var Ut=r(297),Wt=r(391),qt=r.n(Wt),Gt=r(293);function*Yt(){yield Object(Pe.k)(a.M),yield Object(Pe.j)(Qt)}function*Qt(){var e=yield Object(Pe.i)(xe.c),t=yield Object(Pe.i)(Ue.g),r=navigator.userAgent;try{var n={formId:e,responseId:t,userAgent:r},o=new qt.a(n,{endpoint:"".concat(Gt.a.apiHost,"/forms/").concat(e,"/").concat(Gt.a.endpoints.insights)});yield Object(Pe.l)(a.R,(function*(){yield Object(Pe.b)([o,o.onClose])})),(yield Object(Pe.i)(G.O))&&(yield Object(Pe.b)([o,o.onActivateBlock],{id:"WelcomeScreenID"}),yield Object(Pe.k)(a.p));var i=yield Object(Pe.i)(G.v),c=yield Object(Pe.i)(G.n,i);c&&(yield Object(Pe.b)([o,o.onActivateBlock],{id:c.id})),yield Object(Pe.l)(a.a,(function*(e){var t=yield Object(Pe.i)(G.n,e.payload.ref);t&&(yield Object(Pe.b)([o,o.onActivateBlock],{id:t.id}))})),yield Object(Pe.l)(a.K,(function*(){yield Object(Pe.b)([o,o.onSubmit])}))}catch(e){console.error(e)}}var Jt=r(287),Zt={sendEvent:(e,t)=>{var{formId:r,value:n}=t;window.ga&&window.ga("send","event",r,e,n)},events:e=>{switch(e){case a.f:return{eventName:"TypeformQuestionPassed",mapStateToEventData:e=>{var t=Object(G.v)(e),r=Object(G.n)(e,t);return{formId:Object(xe.c)(e),value:r.title}},shouldSendEvent:e=>{var t=Object(G.v)(e),r=Object(G.n)(e,t);return!!r&&r.type!==He.v&&r.type!==He.r}};case a.K:return{eventName:"TypeformSubmit",mapStateToEventData:e=>({formId:Object(xe.c)(e),value:Object(xe.e)(e)})};default:return!1}}},$t=!0,Xt={sendEvent:(e,t)=>{window.fbq&&window.fbq("trackSingleCustom",t.pixelId,e)},events:e=>{switch(e){case a.a:case a.f:case a.p:return{eventName:"TypeformFirstInteraction",mapStateToEventData:e=>({pixelId:Object(Ue.c)(e)}),shouldSendEvent:er};case a.K:return{eventName:"TypeformSubmit",mapStateToEventData:e=>({pixelId:Object(Ue.c)(e)})};default:return!1}}};function er(){return!!$t&&($t=!1,!0)}var tr=!0,rr={sendEvent:e=>{window.googleTagManager&&window.googleTagManager.push({event:e})},events:e=>{switch(e){case a.a:case a.f:case a.p:return{eventName:"TypeformFirstInteraction",shouldSendEvent:nr()};case a.K:return{eventName:"TypeformSubmit"};default:return!1}}};function nr(){return!!tr&&(tr=!1,!0)}var or={[Jt.c]:Zt,[Jt.b]:Xt,[Jt.d]:rr};function*ir(){var e=yield Object(Pe.i)(Ue.h);yield Object(Pe.f)((function*(){var t=yield Object(Pe.k)(a.K);yield Object(Pe.b)(ar,t,or,e)})),yield Object(Pe.f)((function*(){for(;;){var t=yield Object(Pe.k)(a.f);yield Object(Pe.b)(ar,t,or,e)}})),yield Object(Pe.f)((function*(){var t=yield Object(Pe.k)(a.p);yield Object(Pe.b)(ar,t,or,e)})),yield Object(Pe.f)((function*(){for(;;){var t=yield Object(Pe.k)(a.a);yield Object(Pe.b)(ar,t,or,e)}}))}function*ar(e,t,r){var n=r.filter(r=>t[r]&&!!t[r].events(e.type));yield Object(Pe.a)(n.map(r=>Object(Pe.b)(cr,t[r],e)))}function*cr(e,t){var r=e.events(t.type);if(!r.shouldSendEvent||(yield Object(Pe.i)(r.shouldSendEvent))){var n=r.mapStateToEventData?yield Object(Pe.i)(r.mapStateToEventData):void 0;yield Object(Pe.b)(e.sendEvent,r.eventName,n)}}var lr=r(290),sr=r(383),ur=r(291);function*dr(e){var t=yield Object(Pe.i)(xe.l),r=yield Object(Pe.i)(xe.s),n=yield Object(Pe.i)(xe.n);(yield Object(Pe.i)(xe.t))&&(yield Object(Pe.j)(St)),r||t?yield*function*(e){yield Object(Pe.f)(lr.a),yield Object(Pe.a)([Object(Pe.l)(a.H,Be,e)])}(e):n?yield*Object(sr.a)():yield*function*(){if(yield Object(Pe.i)(xe.t)){yield Object(Pe.j)(Ut.b),yield Object(Pe.j)(ir),(yield Object(Pe.i)(Te,"res-906-enable-insights-tracking"))&&(yield Object(Pe.j)(Yt))}yield Object(Pe.f)(lr.a),yield Object(Pe.f)(ur.a),yield Object(Pe.f)((function*(){yield Object(Pe.b)(lt.a,_e.c)})),yield Object(Pe.a)([Object(Pe.m)(a.H,_e.d)])}()}function pr(e,t){var r=Object(o.c)({onError:e=>{setTimeout(()=>{throw e},0)}}),a=[i.a,r],c=n.d;var l=Object(n.e)(Ie,e,c(Object(n.a)(...a)));return r.run(dr,t),l}},526:function(e,t,r){"use strict";r.r(t);var n=r(6),o=r.n(n),i=r(27),a=r(103),c=r(17),l=r(84),s=r(0),u=r.n(s),d=(r(1),r(160)),p=r.n(d),b=r(142),h=r(82),m=r.n(h),f=r(98),y=r(7),v=r(75),g=r(4),O=r(22),j=r(120),C=r(297),w=r(19),k=r(62),E=r(441),S=r(442),I=r(443),P=[{name:"Facebook",icon:u.a.createElement(E.a,null),link:"https://www.facebook.com/sharer/sharer.php?u=",utmSource:"facebook"},{name:"Twitter",icon:u.a.createElement(S.a,null),link:"https://twitter.com/intent/tweet?url=",utmSource:"twitter"},{name:"LinkedIn",icon:u.a.createElement(I.a,null),link:"https://www.linkedin.com/shareArticle?url=",utmSource:"linkedin"}],T=r(26),x=r(294),_=r(87),R=r(63),A=r(140),D=r(11),B=r.n(D),F=r(440),V=r(107);function L(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}var N=e=>{var{providers:t,thankYouScreenRef:r,appendUtmSourceParam:n}=e;return t.map(e=>{var{link:t,utmSource:i}=e,a=B()(e,["link","utmSource"]),c="".concat(((e,t,r)=>{if(!Object(V.a)())return"";var n="".concat(window.location.origin).concat(window.location.pathname);return e&&(n="".concat(n,"?").concat("typeform-ty-screen-ref","=").concat(e)),t&&(n=((e,t)=>{var r=e.indexOf("?")>0?"&":"?";return"".concat(e).concat(r,"utm_source=").concat(t,"&utm_content=typeform_social")})(n,r)),n})(r,n,i)),l=encodeURIComponent(c);return function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?L(Object(r),!0).forEach((function(t){o()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):L(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({link:"".concat(t).concat(l)},a)})},M=e=>{var{providers:t,thankYouScreenRef:r,appendUtmSourceParam:n,layoutType:o,onClick:i}=e,a=N({providers:t,thankYouScreenRef:r,appendUtmSourceParam:n});return u.a.createElement(F.a,{layoutType:o,onClick:i,providers:a})};M.defaultProps={providers:[]};var H=M,K=e=>{var t,r,{screenDetails:n,showScreen:o,brandingUrl:i,theme:a,t:c,isRedirectEnabled:l,isWinningOutcome:d,hasUtmSource:h,isFocusable:y,showBranding:E,trackBrandingCtaClick:S,trackButtonClick:I,trackSocialIconClick:D}=e,B=Object(s.useRef)(null),F=Object(s.useRef)(null),V=Object(j.a)(),[L,N]=Object(s.useState)(!V);if(Object(s.useEffect)(()=>{if(B.current&&y&&o){var e=setTimeout(()=>{B.current.focus()},f.a);return()=>clearTimeout(e)}},[y,o]),Object(s.useEffect)(()=>{V&&N(!1)},[V]),!n||!Object.keys(n).length)return null;var{layout:M,buttonLabel:K="",description:z,shareIcons:U,showButton:W,title:q}=n,G=(null===(t=n.layout)||void 0===t?void 0:t.attachment)||n.attachment,Y=(null==M?void 0:M.type)||Object(v.a)(G),Q=()=>{V||(null==G?void 0:G.type)!==O.b.video||N(!L)},J=e=>{if(!F.current&&l){var{ref:t,redirectUrl:r}=n,o=Object(_.a)(e);I(t,r,o),F.current=setTimeout(()=>{(e=>{if(e){var t=e.replace(/\s/g,"%20");p()(t)||Object(C.a)("invalidRedirectUrl"),Object(x.b)(e)}else window.location.reload()})(r||"")},k.f)}};return u.a.createElement(f.b,{isVisible:o,duration:k.h},u.a.createElement(A.a,{"data-qa":"thank-you-screen-wrapper",isVisible:o,ref:B,onKeyDown:e=>{o&&(Object(R.i)(e)&&Q(),W&&e.key===w.a.ENTER&&(e.stopPropagation(),J(e)))},tabIndex:-1},u.a.createElement(b.a,{attachment:G,brandingText:Object(T.a)(c("label.branding.create")),brandingMotto:Object(T.a)(c("label.branding.motto")),brandingUrl:i,buttonColor:a.colors.button,buttonContentColor:a.colors.buttonContent,buttonContent:Object(T.a)(c(K)),buttonDataQa:"thank-you-button",buttonEnabled:!!W,contextBackgroundColor:a.colors.background,dataQa:"thank-you-screen".concat(o?"-visible":""," deep-purple-thank-you-screen").concat(o?"-visible":""),helperColor:a.colors.primary,helperText:Object(T.a)(c("label.buttonHint.default")),isBrandingEnabled:E,key:n.ref,layoutPlacement:null==M?void 0:M.placement,layoutType:Y,onBrandingBtnClick:S,onButtonClick:J,pexelsApiKey:"563492ad6f9170000100000155494c9d9440421cbf19eb5eaac4615e",secondaryColor:null===(r=a.colors)||void 0===r?void 0:r.secondary,showScreen:o,isVideoPlaying:L,onVideoClick:Q},q&&u.a.createElement(m.a,{color:a.colors.primary,htmlTag:"h1",type:g.i.screenTitle},q),z&&u.a.createElement(m.a,{color:a.colors.primary,htmlTag:"p",type:g.i.screenDescription},z),U&&u.a.createElement(H,{appendUtmSourceParam:h,layoutType:Y,onClick:e=>{var t=e.toLowerCase();D(t)},providers:P,thankYouScreenRef:d?n.ref:null}))))};K.defaultProps={breakpoint:"lg",hasUtmSource:!1,isWinningOutcome:!1,isRedirectEnabled:!0,screenDetails:{},t:e=>e,theme:{colors:{button:y.b,background:y.b,primary:y.b}}};var z=K,U=r(33),W=r(2),q=r(18),G=r(34),Y=e=>!!e.form.outcome,Q=e=>!!e.form.hidden&&!!Object.keys(e.form.hidden).includes("utm_source"),J=r(231),Z=r(53);function $(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function X(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?$(Object(r),!0).forEach((function(t){o()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):$(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var ee=(e,t)=>Object(q.l)(e)?null:Object(J.b)(e)("https://www.typeform.com/discover",t);t.default=Object(i.b)(e=>{var t=ee(e,"typeform-thankyou"),r=Object(U.c)(e)||{},{ref:n,redirectUrl:o}=r,i="default_tys"===n?ee(e,"typeform-thankyoubutton"):o;return{isRedirectEnabled:!Object(q.l)(e),isWinningOutcome:Y(e),screenDetails:X(X({},r),{},{redirectUrl:i}),showScreen:Object(W.N)(e),theme:Object(G.f)(e),isFocusable:Object(W.l)(e),brandingUrl:t,hasUtmSource:Q(e),showBranding:Object(q.B)(e)}},e=>X({},Object(a.b)({trackBrandingCtaClick:()=>Object(Z.d)("typeform-thankyou"),trackButtonClick:(e,t,r)=>((e,t,r)=>"default_tys"===e?Object(Z.d)("typeform-thankyoubutton"):t?Object(Z.f)("custom_link",r):Object(Z.f)("default_link",r))(e,t,r),trackSocialIconClick:Z.e},e)))(Object(l.a)(Object(c.withBreakpoint)(z)))},529:function(e,t,r){"use strict";r.r(t);var n=r(473),o=r.n(n),i=r(6),a=r.n(i),c=r(108),l=r.n(c),s=r(269),u=r(5),d=r(296),p=r(13),b=r(466),h=r.n(b),m=r(468),f=r.n(m),{box:y,randomBytes:v}=h.a,{decodeUTF8:g,encodeBase64:O,decodeBase64:j}=f.a,C=(e,t,r)=>{var n=g(e),o=j(t),i=v(y.nonceLength),{secretKey:a,publicKey:c}=r;return(e=>{var{encryptedAnswer:t,nonce:r,publicKey:n}=e;return[t,O(r),n].join("|")})({encryptedAnswer:O(y(n,i,o,a)),nonce:i,publicKey:O(c)})};function w(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function k(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?w(Object(r),!0).forEach((function(t){a()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):w(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var E={[u.c]:"date",[u.d]:"text",[u.e]:"email",[u.f]:"file_name",[u.h]:"boolean",[u.i]:"text",[u.k]:"choices",[u.l]:"number",[u.n]:"number",[u.q]:"choices",[u.t]:"number",[u.u]:"text",[u.w]:"url",[u.y]:"boolean",[u.o]:"payment",[u.p]:"phone_number",[u.s]:"choices"},S=(e,t)=>t.choices.find(t=>t.ref===e),I=(e,t)=>e.map(e=>{var r=S(e,t);return r?{id:r.id,label:r.label}:null}).filter(e=>null!==e);function P(e,t,r,n){var{block:o,answer:i}=e,a=void 0!==i?i[0]:"",c=E[o.type];switch(o.type){case u.s:a=I(i,o);break;case u.q:case u.k:a=((e,t)=>{var r,n=t.filter(t=>!!S(t,e)),o=null!==(r=t.find(t=>!S(t,e)))&&void 0!==r&&r,i=I(n,e);return o&&i.push({id:"other",label:o}),i})(o,i);break;case u.d:a=((e,t)=>{var r=I(t,e);return r.length?r[0].label:t[0]})(o,i);break;case u.p:a=Object(s.a)(a.number,a.countryCode).format("E.164");break;case u.c:a=function(e){var[t,r,n]=e.split("-"),o="".concat(t.padStart(4,"0"),"-").concat(r.padStart(2,"0"),"-").concat(n.padStart(2,"0"));return new Date(o).toISOString()}(a);break;case u.f:a=a.s3Filename;break;case u.o:a=k({amount:t,currency:o.currency,name:a.cardholdersName},r);break;case u.u:case u.w:case u.e:if(""===a)return null;break;case u.i:if(""===a)return null;a&&Object(p.k)(n,o.type)&&(a=((e,t)=>C(e,t,y.keyPair()))(a,n))}return function(e,t,r,n){return{field:{id:e,type:t},type:r,[r]:n}}(o.id,o.type,c,a)}function T(e,t){var r=e[t.variable],n=t.choices.find(e=>e.ref===r);if(!n)throw new d.a("MISSING_WINNING_OUTCOME","Could not find matching winning outcome","winningOutcomeRef:  ".concat(e[t.variable]));return n}t.default=function(e){var t,r,{formId:n,landingAt:i="",landingId:a,payment:c,values:{answers:s=[],hidden:u={},variables:d={}}={},outcome:p,formPublicKey:b}=e,h=(t=u,Object.keys(t).map(e=>({key:e,value:t[e]}))),m=function(e,t){var r=o()(["price"],e);return Object.keys(r).map(r=>{if(t&&r===t.variable)return{key:r,type:"outcome_id",outcome_id:T(e,t).id};var n=e[r],o="string"==typeof n?"text":"number";return{key:r,type:o,[o]:n}})}(d,p),f=function(e,t){if(!t)return null;var r=T(e,t);return{id:r.id,title:r.title}}(d,p),y=function(e,t,r,n){return(o=e,i=e=>P(e,t,r,n),o.map(i).reduce((e,t)=>[].concat(e,t),[])).filter(e=>e&&void 0!==e.type);var o,i}(s,d.price,c,b),v=null===(r=l.a.get("hubspotutk")||null)?null:{hubspot:{utk:r,page_name:document.title,page_url:window.location.href}};return k(k(k(k(k({signature:a,form_id:n,landed_at:parseInt(i)},h.length?{hidden:h}:null),m.length?{variables:m}:null),y.length?{answers:y}:null),v?{integrations_metadata:v}:null),f?{outcome:f}:null)}}}]);